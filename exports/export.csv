foreign_key_definition
"-- Foreign Key: ai_agent_conversations_projectId_fkey on ai_agent_conversations
ALTER TABLE ai_agent_conversations
    ADD CONSTRAINT ""ai_agent_conversations_projectId_fkey""
    FOREIGN KEY (""projectId"")
    REFERENCES public.projects (id)
    ON DELETE SET NULL
;
"
"-- Foreign Key: ai_agent_knowledge_projectId_fkey on ai_agent_knowledge
ALTER TABLE ai_agent_knowledge
    ADD CONSTRAINT ""ai_agent_knowledge_projectId_fkey""
    FOREIGN KEY (""projectId"")
    REFERENCES public.projects (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: ai_agent_messages_conversationId_fkey on ai_agent_messages
ALTER TABLE ai_agent_messages
    ADD CONSTRAINT ""ai_agent_messages_conversationId_fkey""
    FOREIGN KEY (""conversationId"")
    REFERENCES public.ai_agent_conversations (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: ai_agent_project_memory_projectId_fkey on ai_agent_project_memory
ALTER TABLE ai_agent_project_memory
    ADD CONSTRAINT ""ai_agent_project_memory_projectId_fkey""
    FOREIGN KEY (""projectId"")
    REFERENCES public.projects (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: ai_agent_usage_conversationId_fkey on ai_agent_usage
ALTER TABLE ai_agent_usage
    ADD CONSTRAINT ""ai_agent_usage_conversationId_fkey""
    FOREIGN KEY (""conversationId"")
    REFERENCES public.ai_agent_conversations (id)
    ON DELETE SET NULL
;
"
"-- Foreign Key: ai_agent_usage_messageId_fkey on ai_agent_usage
ALTER TABLE ai_agent_usage
    ADD CONSTRAINT ""ai_agent_usage_messageId_fkey""
    FOREIGN KEY (""messageId"")
    REFERENCES public.ai_agent_messages (id)
    ON DELETE SET NULL
;
"
"-- Foreign Key: ai_generated_documents_projectId_fkey on ai_generated_documents
ALTER TABLE ai_generated_documents
    ADD CONSTRAINT ""ai_generated_documents_projectId_fkey""
    FOREIGN KEY (""projectId"")
    REFERENCES public.projects (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: ai_generated_documents_templateId_fkey on ai_generated_documents
ALTER TABLE ai_generated_documents
    ADD CONSTRAINT ""ai_generated_documents_templateId_fkey""
    FOREIGN KEY (""templateId"")
    REFERENCES public.document_templates (id)
;
"
"-- Foreign Key: ai_generations_documentId_fkey on ai_generations
ALTER TABLE ai_generations
    ADD CONSTRAINT ""ai_generations_documentId_fkey""
    FOREIGN KEY (""documentId"")
    REFERENCES public.ai_generated_documents (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: discussion_projectId_fkey on discussion
ALTER TABLE discussion
    ADD CONSTRAINT ""discussion_projectId_fkey""
    FOREIGN KEY (""projectId"")
    REFERENCES public.projects (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: fileCheckoutHistory_fileId_fkey on fileCheckoutHistory
ALTER TABLE ""fileCheckoutHistory""
    ADD CONSTRAINT ""fileCheckoutHistory_fileId_fkey""
    FOREIGN KEY (""fileId"")
    REFERENCES public.files (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: file_versions_fileId_fkey on fileVersions
ALTER TABLE ""fileVersions""
    ADD CONSTRAINT ""file_versions_fileId_fkey""
    FOREIGN KEY (""fileId"")
    REFERENCES public.files (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: invoices_projectid_fkey on invoices
ALTER TABLE invoices
    ADD CONSTRAINT invoices_projectid_fkey
    FOREIGN KEY (""projectId"")
    REFERENCES public.projects (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: payments_invoiceId_fkey on payments
ALTER TABLE payments
    ADD CONSTRAINT ""payments_invoiceId_fkey""
    FOREIGN KEY (""invoiceId"")
    REFERENCES public.invoices (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: pdfGenerationHistory_jobId_fkey on pdfGenerationHistory
ALTER TABLE ""pdfGenerationHistory""
    ADD CONSTRAINT ""pdfGenerationHistory_jobId_fkey""
    FOREIGN KEY (""jobId"")
    REFERENCES public.""pdfGenerationJobs"" (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: pdfGenerationHistory_projectId_fkey on pdfGenerationHistory
ALTER TABLE ""pdfGenerationHistory""
    ADD CONSTRAINT ""pdfGenerationHistory_projectId_fkey""
    FOREIGN KEY (""projectId"")
    REFERENCES public.projects (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: pdfGenerationHistory_templateId_fkey on pdfGenerationHistory
ALTER TABLE ""pdfGenerationHistory""
    ADD CONSTRAINT ""pdfGenerationHistory_templateId_fkey""
    FOREIGN KEY (""templateId"")
    REFERENCES public.""pdfTemplates"" (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: pdfGenerationJobs_projectId_fkey on pdfGenerationJobs
ALTER TABLE ""pdfGenerationJobs""
    ADD CONSTRAINT ""pdfGenerationJobs_projectId_fkey""
    FOREIGN KEY (""projectId"")
    REFERENCES public.projects (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: pdfGenerationJobs_templateId_fkey on pdfGenerationJobs
ALTER TABLE ""pdfGenerationJobs""
    ADD CONSTRAINT ""pdfGenerationJobs_templateId_fkey""
    FOREIGN KEY (""templateId"")
    REFERENCES public.""pdfTemplates"" (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: pdfTemplateFields_templateId_fkey on pdfTemplateFields
ALTER TABLE ""pdfTemplateFields""
    ADD CONSTRAINT ""pdfTemplateFields_templateId_fkey""
    FOREIGN KEY (""templateId"")
    REFERENCES public.""pdfTemplates"" (id)
    ON DELETE CASCADE
;
"
"-- Foreign Key: pdfTemplates_projectId_fkey on pdfTemplates
ALTER TABLE ""pdfTemplates""
    ADD CONSTRAINT ""pdfTemplates_projectId_fkey""
    FOREIGN KEY (""projectId"")
    REFERENCES public.projects (id)
    ON DELETE SET NULL
;
"
"-- Foreign Key: punchlist_author_id_fkey on punchlist
ALTER TABLE punchlist
    ADD CONSTRAINT punchlist_author_id_fkey
    FOREIGN KEY (""authorId"")
    REFERENCES public.profiles (id)
    ON DELETE CASCADE
;
"