---
/**
 * Overlay Component
 * Reusable backdrop/overlay for modals, dialogs, and other UI elements
 * 
 * @param id - Unique identifier for the overlay
 * @param zIndex - Z-index value (default: 9999)
 * @param blurAmount - Backdrop blur amount (default: "sm")
 * @param opacity - Background opacity (default: "20")
 * @param mobileOnly - Only show on mobile devices (default: false)
 * @param additionalClasses - Additional CSS classes
 */

interface Props {
  id?: string;
  zIndex?: number | string;
  blurAmount?: "none" | "sm" | "md" | "lg" | "xl";
  opacity?: string;
  mobileOnly?: boolean;
  additionalClasses?: string;
}

const {
  id = "overlay",
  zIndex = 9999,
  blurAmount = "sm",
  opacity = "20",
  mobileOnly = false,
  additionalClasses = "",
} = Astro.props;

// Map blur amount to Tailwind classes
const blurClasses = {
  none: "",
  sm: "backdrop-blur-sm",
  md: "backdrop-blur-md",
  lg: "backdrop-blur-lg",
  xl: "backdrop-blur-xl",
};

const blurClass = blurClasses[blurAmount];
const mobileOnlyClass = mobileOnly ? "md:hidden" : "";
const zIndexStyle = `z-[${zIndex}]`;
---

<div
  id={id}
  class:list={[
    "fixed inset-0 hidden bg-black height-100dvh",
    blurClass,
    mobileOnlyClass,
    zIndexStyle,
    additionalClasses,
  ]}
  style={`background-color: rgba(0, 0, 0, 0.${opacity});`}
  data-overlay
>
</div>

<style>
  .height-100dvh {
    height: 100dvh;
  }
</style>
