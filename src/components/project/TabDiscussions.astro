---
import Discussions from "../form/Discussions.astro";

interface Props {
  currentUser?: any;
  project: any;
  globalInputClasses?: string;
  globalSecondaryTextClasses?: string;
  globalPrimaryTextClasses?: string;
}

const {
  currentUser,
  project,
  globalInputClasses,
  globalSecondaryTextClasses,
  globalPrimaryTextClasses,
} = Astro.props;

const currentRole = currentUser?.profile?.role;
const projectId = project?.id;
---

<div id="content-discussion" class="tab-content p-4" data-project-id={projectId}>
  <h3 class="text-lg font-medium text-gray-900 dark:text-white">"Project Discussion"</h3>

  <Discussions
    project={project}
    currentUser={currentUser}
    globalInputClasses={globalInputClasses}
    globalSecondaryTextClasses={globalSecondaryTextClasses}
    globalPrimaryTextClasses={globalPrimaryTextClasses}
    placeholder={currentRole === "Admin" || currentRole === "Staff"
      ? "Write your comment here... (Use @username to mention users)"
      : "Write your comment here..."}
  />
</div>
