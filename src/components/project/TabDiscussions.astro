---
import Discussions from "../form/Discussions.astro";

interface Props {
  currentUser?: any;
  project: any;
  globalInputClasses?: string;
  globalSecondaryTextClasses?: string;
  globalPrimaryTextClasses?: string;
}

const {
  currentUser,
  project,
  globalInputClasses,
  globalSecondaryTextClasses,
  globalPrimaryTextClasses,
} = Astro.props;

const currentRole = currentUser?.profile?.role;
const projectId = project?.id;
---

<div id="content-discussion" class="tab-content p-4 bg-white dark:bg-gray-800 relative">
  <div class="mx-auto max-w-2xl">
    <Discussions
      {project}
      {currentUser}
      {globalInputClasses}
      {globalSecondaryTextClasses}
      {globalPrimaryTextClasses}
      placeholder={currentRole === "Admin" || currentRole === "Staff"
        ? "Write your comment here... (Use @username to mention users)"
        : "Write your comment here..."}
    />
  </div>
</div>
