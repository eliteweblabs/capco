---
// Reusable Accordion component following Flowbite design
export const partial = true;

// Detect if this is being used as a partial
const isPartial = Astro.request.headers.has("x-accordion-id");
import SimpleIcon from "../common/SimpleIcon.astro";
let id, title, description, content, open, className, headerClass, contentClass, columns;

if (isPartial) {
  // Extract props from headers when used as partial
  id = Astro.request.headers.get("x-accordion-id") || "";
  title = Astro.request.headers.get("x-accordion-title") || "";
  description = Astro.request.headers.get("x-accordion-description") || "";
  content = Astro.request.headers.get("x-accordion-content") || "";
  open = Astro.request.headers.get("x-accordion-open") === "true";
  className = Astro.request.headers.get("x-accordion-class") || "";
  headerClass = Astro.request.headers.get("x-accordion-header-class") || "";
  contentClass = Astro.request.headers.get("x-accordion-content-class") || "";
} else {
  // Use regular props when used as a component
  const props = Astro.props;
  id = props.id;
  title = props.title;
  description = props.description;
  content = props.content;
  open = props.open || false;
  className = props.class || "";
  headerClass = props.headerClass || "";
  contentClass = props.contentClass || "";
  columns = props.columns || "4";
  id = props.id || "";
}
---

<div {id} class="fixed bottom-0 left-0 z-50 p-4 w-full flex justify-end" style="z-index: 10000;">
  <div class={`grid h-full max-w-4xl grid-cols-${columns} font-medium`}>
    <slot />
  </div>
</div>
