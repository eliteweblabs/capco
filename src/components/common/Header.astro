---
import AuthIcon from "./AuthIcon.astro";
import HamburgerIcon from "./Hamburger.astro";
import Logo from "./Logo.astro";
import ThemeToggle from "./ThemeToggle.astro";

const {
  isAuth,
  currentUser,
  currentRole,
  session,
  visibleNavItems,
  desktopNavigationHTML,
  mobileNavigationHTML,
} = Astro.props;
---

<header
  class="sticky top-0 z-50 border-b border-border-light bg-background-light backdrop-blur-sm dark:border-border-dark dark:bg-background-dark"
>
  <nav class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center justify-between">
      {/* Logo */}
      <div class="flex-shrink-0">
        <Logo />
      </div>

      {/* Unified Navigation - Desktop */}
      <div class="hidden items-center space-x-8 md:flex" set:html={desktopNavigationHTML} />

      {/* Mobile Controls */}
      <div class="flex items-center space-x-4">
        <ThemeToggle />
        <AuthIcon
          isAuth={isAuth}
          currentUser={currentUser}
          currentRole={currentRole}
          session={session}
          class="hidden md:block"
        />

        <!-- put hamburger icon here -->
        <HamburgerIcon class="block md:hidden" />
      </div>
    </div>
  </nav>
</header>
