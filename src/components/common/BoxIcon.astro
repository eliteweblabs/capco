---
interface Props {
  name: string;
  class?: string;
  color?: string;
  variant?: "regular" | "solid" | "logo";
  id?: string;
  style?: string;
  size?: "sm" | "md" | "lg";
  dataAttributes?: Record<string, string>;
}

const {
  name,
  class: className = "block",
  color = "currentColor",
  variant = "regular",
  id,
  style,
  size = "sm",
  dataAttributes = {},
  ...rest
} = Astro.props;

const prefix = variant === "solid" ? "bxs" : variant === "logo" ? "bxl" : "bx";
const iconClass = `${prefix} ${prefix}-${name}`;
const iconStyle = style || `color: ${color};`;
const sizeClass = size === "sm" ? "bx-sm" : size === "md" ? "bx-md" : "bx-lg";
---

<i
  class={iconClass}
  style={iconStyle}
  class:list={[className, sizeClass]}
  id={id}
  {...Object.fromEntries(Object.entries(dataAttributes).map(([key, value]) => [key, value]))}
  {...rest}></i>
