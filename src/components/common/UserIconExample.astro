---
import UserIcon from "./UserIcon.astro";

// Example usage in a project context
const project = {
  id: 1,
  title: "Fire Protection System Installation",
  author: {
    id: "1",
    firstName: "John",
    lastName: "Doe",
    email: "john.doe@company.com",
    avatarUrl:
      "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",
  },
  assignedTo: [
    {
      id: "2",
      firstName: "Alice",
      lastName: "Johnson",
      email: "alice.johnson@company.com",
    },
    null, // This will be filtered out gracefully
    {
      id: "3",
      firstName: "Bob",
      lastName: "Wilson",
      email: "bob.wilson@company.com",
      avatarUrl:
        "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",
    },
  ],
};
---

<div class="bg-white p-6 rounded-lg shadow-sm border">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-medium">{project.title}</h3>
    <div class="flex items-center gap-2">
      <span class="text-sm text-gray-600">Assigned to:</span>
      <UserIcon users={project.assignedTo as any} size="sm" maxDisplay={2} />
    </div>
  </div>

  <div class="flex items-center gap-2">
    <span class="text-sm text-gray-600">Author:</span>
    <UserIcon user={project.author} size="sm" />
  </div>
</div>
