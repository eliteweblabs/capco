---
import SearchInput from "./SearchInput.astro";

interface Props {
  id: string;
  name?: string;
  placeholder?: string;
  globalInputClasses?: string;
  fetchApiEndpoint?: string;
  apiParams?: Record<string, any>;
  valueField?: string;
  labelField?: string;
  noResultsText?: string;
  currentLocation?: boolean;
}

const {
  id,
  name = id,
  placeholder = "Search for an address...",
  globalInputClasses = "",
  fetchApiEndpoint = "/api/google/places-autocomplete",
  apiParams = {},
  valueField = "description",
  labelField = "description",
  noResultsText = "Type to search addresses...",
  currentLocation = false,
} = Astro.props;
---

<div class="inline-address-search-wrapper">
  <SearchInput
    {id}
    {name}
    {placeholder}
    {globalInputClasses}
    {fetchApiEndpoint}
    {apiParams}
    {valueField}
    {labelField}
    {noResultsText}
    {currentLocation}
  />
</div>

<style>
  .inline-address-results-container {
    max-width: 100%;
  }

  .inline-address-result-item {
    transform: translateY(-10px);
    opacity: 0;
    animation: slideInResult 0.3s ease-out forwards;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }

  @keyframes slideInResult {
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
</style>

<style>
  .inline-address-results-container {
    max-width: 100%;
  }

  .inline-address-result-item {
    transform: translateY(-10px);
    opacity: 0;
    animation: slideInResult 0.3s ease-out forwards;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }

  @keyframes slideInResult {
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
</style>
