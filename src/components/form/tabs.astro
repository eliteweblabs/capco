---
// Demo/example component - uses SlidingTabs for consistency
import SlidingTabs from "../common/SlidingTabs.astro";

const defaultTabParam = Astro.url.searchParams.get("tab") || "profile";
const validTabs = ["profile", "dashboard", "settings", "contacts"];
const activeTab = validTabs.includes(defaultTabParam) ? defaultTabParam : "profile";
const activeTabIndex = validTabs.indexOf(activeTab);
---

<div>
  <div class="mx-auto flex h-screen w-full max-w-xl items-center justify-center">
    <div class="w-full">
      <div class="mb-4">
        <SlidingTabs
          navId="default-tab"
          navClass="border-b border-gray-200 dark:border-gray-700"
          activeItem={activeTabIndex}
          urlParam="tab"
          switchHandler="switchDefaultTab"
          items={[
            {
              id: "tab-profile",
              label: "Profile",
              variant: "tab",
              showLabel: true,
              onclick: "window.switchDefaultTab('profile')",
            },
            {
              id: "tab-dashboard",
              label: "Dashboard",
              variant: "tab",
              showLabel: true,
              onclick: "window.switchDefaultTab('dashboard')",
            },
            {
              id: "tab-settings",
              label: "Settings",
              variant: "tab",
              showLabel: true,
              onclick: "window.switchDefaultTab('settings')",
            },
            {
              id: "tab-contacts",
              label: "Contacts",
              variant: "tab",
              showLabel: true,
              onclick: "window.switchDefaultTab('contacts')",
            },
          ]}
        />
      </div>
      <div id="default-tab-content">
        <div
          class={`color-background rounded-lg bg-gray-50 p-4 dark:bg-gray-800 ${activeTab !== "profile" ? "hidden" : ""}`}
          id="profile"
          role="tabpanel"
          aria-labelledby="tab-profile"
        >
          <p class="text-sm text-gray-500 dark:text-gray-400">
            This is some placeholder content the <strong
              class="font-medium text-gray-800 dark:text-white"
              >Profile tab's associated content</strong
            >. Clicking another tab will toggle the visibility of this one for the next. The tab
            JavaScript swaps classes to control the content visibility and styling.
          </p>
        </div>
        <div
          class={`color-background rounded-lg bg-gray-50 p-4 dark:bg-gray-800 ${activeTab !== "dashboard" ? "hidden" : ""}`}
          id="dashboard"
          role="tabpanel"
          aria-labelledby="tab-dashboard"
        >
          <p class="text-sm text-gray-500 dark:text-gray-400">
            This is some placeholder content the <strong
              class="font-medium text-gray-800 dark:text-white"
              >Dashboard tab's associated content</strong
            >. Clicking another tab will toggle the visibility of this one for the next. The tab
            JavaScript swaps classes to control the content visibility and styling.
          </p>
        </div>
        <div
          class={`color-background rounded-lg bg-gray-50 p-4 dark:bg-gray-800 ${activeTab !== "settings" ? "hidden" : ""}`}
          id="settings"
          role="tabpanel"
          aria-labelledby="tab-settings"
        >
          <p class="text-sm text-gray-500 dark:text-gray-400">
            This is some placeholder content the <strong
              class="font-medium text-gray-800 dark:text-white"
              >Settings tab's associated content</strong
            >. Clicking another tab will toggle the visibility of this one for the next. The tab
            JavaScript swaps classes to control the content visibility and styling.
          </p>
        </div>
        <div
          class={`color-background rounded-lg bg-gray-50 p-4 dark:bg-gray-800 ${activeTab !== "contacts" ? "hidden" : ""}`}
          id="contacts"
          role="tabpanel"
          aria-labelledby="tab-contacts"
        >
          <p class="text-sm text-gray-500 dark:text-gray-400">
            This is some placeholder content the <strong
              class="font-medium text-gray-800 dark:text-white"
              >Contacts tab's associated content</strong
            >. Clicking another tab will toggle the visibility of this one for the next. The tab
            JavaScript swaps classes to control the content visibility and styling.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  window.switchDefaultTab = function (tab) {
    ["profile", "dashboard", "settings", "contacts"].forEach((id) => {
      const el = document.getElementById(id);
      if (el) el.classList.toggle("hidden", id !== tab);
    });
    const url = new URL(window.location.href);
    url.searchParams.set("tab", tab);
    window.history.replaceState({}, "", url.toString());
  };
</script>
