---
/**
 * Layout: Two Column
 * Full viewport height (100dvh), two columns with configurable ratios, content centered x/y in both panels.
 * Flowbite + Tailwind. Use named slots "left" and "right".
 */

/** Column ratio options: left/right as fractions, e.g. "1/2" = 50/50, "1/3" = 33/67, "1/4" = 25/75 */
export type TwoColumnRatio = "1/2" | "1/3" | "2/3" | "1/4" | "3/4" | "1/5" | "4/5";

const RATIO_CLASSES: Record<TwoColumnRatio, string> = {
  "1/2": "md:grid-cols-2",
  "1/3": "md:grid-cols-[1fr_2fr]",
  "2/3": "md:grid-cols-[2fr_1fr]",
  "1/4": "md:grid-cols-[1fr_3fr]",
  "3/4": "md:grid-cols-[3fr_1fr]",
  "1/5": "md:grid-cols-[1fr_4fr]",
  "4/5": "md:grid-cols-[4fr_1fr]",
};

interface Props {
  title?: string;
  description?: string;
  /** Column ratio on md+: "1/2" (default) | "1/3" | "2/3" | "1/4" | "3/4" | "1/5" | "4/5" */
  ratio?: TwoColumnRatio;
}

const { title = "", description = "", ratio = "1/2" } = Astro.props;
const gridColsClass = RATIO_CLASSES[ratio];

import App from "../ui/App.astro";
---

<App title={title} description={description} layout="two-column">
  <div
    class={`grid h-[calc(100dvh-8rem)] w-full grid-cols-1 grid-rows-[1fr_1fr] md:grid-rows-1 ${gridColsClass}`}
    data-dynamic-height="true"
    role="presentation"
  >
    <div
      class="relative hidden min-h-0 flex-1 flex-col items-center justify-center p-4 md:flex md:p-8"
      role="region"
      aria-label="Left panel"
    >
      <slot name="left" />
    </div>
    <div
      class="flex flex-1 flex-col items-center justify-center"
      role="region"
      aria-label="Right panel"
    >
      <slot name="right" />
    </div>
  </div>
</App>
