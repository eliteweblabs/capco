---
// import { supabase } from "../lib/supabaseClient";
import SectionContainer from "./SectionContainer.astro";
import ProjectSearch from "./ProjectSearch.astro";
import ProjectList from "./ProjectList.astro";
import ProjectForm from "./form/ProjectForm.astro";

const { role } = Astro.props;

// Debug logging
console.log("Dashboard role:", role);
---

<!-- Projects List - 2/3 width on md+ screens -->
<div class="w-full md:w-2/3">
  <ProjectSearch />
  <ProjectList />
</div>
<!-- PDF Viewer - 1/3 width on md+ screens, sticky on md+ -->
<div id="new-project" class="w-full md:w-1/3 md:sticky md:top-20 md:self-start">
  <h3>New Project</h3>
  <ProjectForm userRole={role} isNewProject={true} projectId="" />
</div>
