---
/**
 * Test: Reveal slide-toggle (mobile)
 * Scrolling element: height 100dvh - 4rem, margin-top 4rem, margin-bottom 0, overflow-y scroll.
 * As you scroll down: margin-top decreases (content background masks header), margin-bottom increases to 4rem (footer shows).
 * Page load / scroll up = header shows; scroll down = footer shows.
 */
import App from "../../components/ui/App.astro";
import { checkAuth } from "../../lib/auth";

const { currentUser } = await checkAuth(Astro.cookies);
---

<App
  title="Test: Reveal slide-toggle"
  description="Mobile test: scroll-driven margin so content background masks header and reveals footer"
  layout="fullwidth"
  {currentUser}
>
  <!-- Fixed header (4rem) – visible when scroll at top; masked by scroll pane when margin-top → 0 -->

  <div class="px-4 py-8">
    <h1 class="text-xl font-bold text-gray-900 dark:text-white md:text-2xl">
      Reveal slide-toggle test
    </h1>
    <p class="mt-2 text-sm text-gray-600 dark:text-gray-400 md:hidden">
      On mobile: scroll down. The content background will cover the header and reveal the footer.
    </p>
    <p class="mt-4 text-gray-600 dark:text-gray-400">
      Scroll position drives margin-top (4rem → 0) and margin-bottom (0 → 4rem). Header shows when
      at top; footer shows when at bottom.
    </p>

    <section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 1</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut
        labore et dolore magna aliqua.
      </p>
    </section>
    <section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 2</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
        commodo consequat.
      </p>
    </section>
    <section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 3</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
        pariatur.
      </p>
    </section>
    <section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 4</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
        anim id est laborum.
      </p>
    </section>
    <section class="mt-8 space-y-4 pb-8">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">End</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Keep scrolling to see the footer branding appear as margin-bottom increases.
      </p>
    </section><section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 2</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
        commodo consequat.
      </p>
    </section>
    <section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 3</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
        pariatur.
      </p>
    </section>
    <section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 4</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
        anim id est laborum.
      </p>
    </section>
    <section class="mt-8 space-y-4 pb-8">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">End</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Keep scrolling to see the footer branding appear as margin-bottom increases.
      </p>
    </section><section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 2</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
        commodo consequat.
      </p>
    </section>
    <section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 3</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
        pariatur.
      </p>
    </section>
    <section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 4</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
        anim id est laborum.
      </p>
    </section>
    <section class="mt-8 space-y-4 pb-8">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">End</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Keep scrolling to see the footer branding appear as margin-bottom increases.
      </p>
    </section><section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 2</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
        commodo consequat.
      </p>
    </section>
    <section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 3</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
        pariatur.
      </p>
    </section>
    <section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 4</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
        anim id est laborum.
      </p>
    </section>
    <section class="mt-8 space-y-4 pb-8">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">End</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Keep scrolling to see the footer branding appear as margin-bottom increases.
      </p>
    </section><section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 2</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
        commodo consequat.
      </p>
    </section>
    <section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 3</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
        pariatur.
      </p>
    </section>
    <section class="mt-8 space-y-4">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section 4</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
        anim id est laborum.
      </p>
    </section>
    <section class="mt-8 space-y-4 pb-8">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">End</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Keep scrolling to see the footer branding appear as margin-bottom increases.
      </p>
    </section>
  </div>
</App>
