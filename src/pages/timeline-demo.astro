---
import App from "../components/common/App.astro";
import NodeTimeline from "../components/ui/NodeTimeline.astro";
import { checkAuth } from "../lib/auth";

const { currentUser, isAuth } = await checkAuth(Astro.cookies);

if (!currentUser || !isAuth) {
  return Astro.redirect("/auth/login");
}
---

<App title="Fire Protection Workflow Timeline">
  <NodeTimeline />
</App>
