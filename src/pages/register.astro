---
import Base from "../layout/Base.astro";
import AuthForm from "../components/AuthForm.astro";
import SectionContainer from "../components/SectionContainer.astro";

// Check authentication
import { checkAuth } from "../lib/auth";
const { isAuth, session, user, role } = await checkAuth(Astro.cookies);

const title = "Register";
---

<Base
  title={title}
  description="Create an account"
  user={isAuth ? user : undefined}
>
  <SectionContainer class="mx-6">
    <AuthForm />
  </SectionContainer>
</Base>
