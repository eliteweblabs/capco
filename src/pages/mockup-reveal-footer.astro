---
/**
 * Mockup: Mobile-friendly template with sticky header, min-height 100dvh,
 * and fixed footer that is revealed when the user scrolls to the bottom.
 * Reveal-footer behavior is now site-wide in App.astro; layout prop is optional.
 */
import App from "../components/ui/App.astro";
import { checkAuth } from "../lib/auth";

const { currentUser } = await checkAuth(Astro.cookies);
---

<App
  title="Mockup: Reveal footer"
  description="Mobile-friendly template with sticky header, 100dvh min height, fixed footer revealed on scroll"
  layout="reveal-footer"
  {currentUser}
>
  <div class="flex min-h-full flex-col">
    <!-- Hero / first screen: fills viewport with sticky header above -->
    <section class="flex min-h-[100dvh] flex-col justify-center py-8 sm:py-12">
      <h1 class="text-2xl font-bold text-gray-900 dark:text-white sm:text-3xl">
        Reveal footer mockup
      </h1>
      <p class="mt-3 max-w-md text-gray-600 dark:text-gray-400">
        This template uses a sticky header, main content with min-height 100dvh, and a fixed footer
        at <code class="rounded bg-gray-200 dark:bg-gray-700 px-1">-z-1</code>. Scroll to the bottom
        to reveal the footer.
      </p>
    </section>

    <!-- Extra content so there is enough scroll to reveal the footer -->
    <section class="space-y-6 py-8">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section two</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut
        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation.
      </p>
      <p class="text-gray-600 dark:text-gray-400">
        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
        pariatur. Excepteur sint occaecat cupidatat non proident.
      </p>
    </section>

    <section class="space-y-6 py-8">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Section three</h2>
      <p class="text-gray-600 dark:text-gray-400">
        Keep scrolling. When you reach the end, the fixed footer will appear as the content scrolls
        up. The main content has bottom padding so the last bit of scroll reveals the footer.
      </p>
    </section>
  </div>
</App>
