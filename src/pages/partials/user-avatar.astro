---
// UserAvatar partial - makes the UserAvatar component accessible as a partial

// Check if we have props (when used as component) or need to use headers (when used as partial)
const isPartialRequest =
  Astro.request.headers.has("x-user-avatar-user-id") ||
  Astro.request.headers.has("x-user-avatar-first-name");

if (isPartialRequest) {
  // Pass through to component which will read from headers
  return await UserAvatarComponent(Astro.props);
} else {
  // Use as regular component with props
  return await UserAvatarComponent(Astro.props);
}
---
