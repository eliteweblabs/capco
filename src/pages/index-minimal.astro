---
const requireAuthRedirect = undefined;
import { checkAuth } from "../lib/auth";
const { currentUser, session, supabase, refreshToken, accessToken } = await checkAuth(
  Astro.cookies
);

if (requireAuthRedirect && (!session || !currentUser)) {
  return Astro.redirect(requireAuthRedirect);
}

const supabaseUrl = import.meta.env.PUBLIC_SUPABASE_URL || import.meta.env.SUPABASE_URL;

const stats = [
  {
    title: "Total Projects",
    value: "1,234",
    change: { value: "12%", type: "increase" as const },
    icon: "boxicon-chart",
    color: "blue" as const,
  },
];
---

<html>
  <head>
    <title>Index Minimal</title>
  </head>
  <body>
    <h1>Index Minimal</h1>
    <p>User: {currentUser?.name || "Not logged in"}</p>
    <p>Stats: {stats.length} items</p>
  </body>
</html>
