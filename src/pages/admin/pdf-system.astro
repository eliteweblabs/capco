---
import App from "../../components/common/App.astro";
import PDFSystem from "../../components/pdf-system/PDFSystem.astro";
// import { checkAuth } from "../../lib/auth";

// const { currentUser, session, supabase } = await checkAuth(Astro.cookies);
// const currentRole = currentUser?.profile?.role || "Client";
const { globalInputClasses, secondaryTextClasses, primaryTextClasses } = Astro.props;

// For development: allow access without authentication
// In production, you might want to re-enable these checks
// if (!currentUser) {
//   return Astro.redirect("/auth/login");
// }

// if (currentRole !== "Admin") {
//   return Astro.redirect("/dashboard");
// }
---

<App title="PDF System - CAPCo Fire Protection">
  <div class="min-h-screen bg-gray-50 dark:bg-gray-900">
    <div class="mx-auto px-1 py-8">
      <PDFSystem {globalInputClasses} {secondaryTextClasses} {primaryTextClasses} />
    </div>
  </div>
</App>
