---
import { checkAuth } from "../../../lib/auth";
import LayoutDefault from "../../../components/layouts/LayoutDefault.astro";
import AlertBlock from "../../../components/blocks/AlertBlock.astro";
import { globalClasses } from "../../api/global/global-classes";

const { currentUser, session } = await checkAuth(Astro.cookies);
if (!currentUser || !session || currentUser?.profile?.role !== "Admin") {
  return Astro.redirect("/auth/login");
}
const { primaryTextClasses, secondaryTextClasses } = globalClasses();
---

<LayoutDefault title="Alert Block" description="Alert / banner block component.">
  <div class="px-4 py-8">
    <h1 class={`mb-2 text-3xl font-bold ${primaryTextClasses}`}>Alert Block</h1>
    <p class={`mb-6 ${secondaryTextClasses} text-gray-600 dark:text-gray-400`}>Alert and banner blocks.</p>

    <div class="space-y-4 rounded-lg border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-gray-900">
      <AlertBlock
        variant="info"
        title="Info"
        message="This is an informational alert block."
      />
      <AlertBlock
        variant="success"
        title="Success"
        message="Operation completed successfully."
      />
      <AlertBlock
        variant="warning"
        title="Warning"
        message="Please review before continuing."
      />
      <AlertBlock
        variant="error"
        title="Error"
        message="Something went wrong."
      />
    </div>
  </div>
</LayoutDefault>
