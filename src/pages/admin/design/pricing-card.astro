---
import { checkAuth } from "../../../lib/auth";
import LayoutFullWidth from "../../../components/layouts/LayoutFullWidth.astro";
import PricingCard from "../../../components/common/PricingCard.astro";
import { globalClasses } from "../../api/global/global-classes";

const { currentUser, session } = await checkAuth(Astro.cookies);
if (!currentUser || !session || currentUser?.profile?.role !== "Admin") {
  return Astro.redirect("/auth/login");
}
const { primaryTextClasses, mutedTextClasses, globalCardStyle } = globalClasses();
---

<LayoutFullWidth title="Pricing Card" description="Pricing display cards." classList="p-4">
  <div class="px-4 py-8">
    <h1 class={`mb-2 text-3xl font-bold ${primaryTextClasses}`}>Pricing Card</h1>
    <p class={`mb-6 ${mutedTextClasses}`}>Pricing display cards.</p>

    <div class={`grid grid-cols-1 gap-6 ${globalCardStyle} p-6 md:grid-cols-3`}>
      <PricingCard
        title="Starter"
        description="Perfect for small projects"
        price="$49/mo"
        features={["5 active projects", "Basic support", "Document storage"]}
        buttonText="Get Started"
        buttonHref="/pricing"
      />
      <PricingCard
        title="Professional"
        description="For growing teams"
        price="$99/mo"
        features={["Unlimited projects", "Priority support", "Advanced analytics"]}
        buttonText="Start Free Trial"
        buttonHref="/pricing"
      />
      <PricingCard
        title="Enterprise"
        description="For large organizations"
        price="Custom"
        features={["Everything in Pro", "Dedicated support", "Custom integrations"]}
        buttonText="Contact Sales"
        buttonHref="/contact"
      />
    </div>
  </div>
</LayoutFullWidth>
