---
import { checkAuth } from "../../../lib/auth";
import LayoutDefault from "../../../components/layouts/LayoutDefault.astro";
import ImageSlider from "../../../components/ui/ImageSlider.astro";
import { globalClasses } from "../../api/global/global-classes";

const { currentUser, session } = await checkAuth(Astro.cookies);
if (!currentUser || !session || currentUser?.profile?.role !== "Admin") {
  return Astro.redirect("/auth/login");
}
const { primaryTextClasses, secondaryTextClasses } = globalClasses();
const slides = [
  { src: "https://images.unsplash.com/photo-1504307651254-35680f356dfd?w=600&auto=format", alt: "Construction", direction: "left" as const },
  { src: "https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=600&auto=format", alt: "Fire safety", direction: "right" as const },
  { src: "https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=600&auto=format", alt: "Engineering", direction: "up" as const },
  { src: "https://images.unsplash.com/photo-1581092162384-8987c1d64718?w=600&auto=format", alt: "Systems", direction: "down" as const },
];
---

<LayoutDefault title="Image Slider" description="Grid-based image slider with optional overlay.">
  <div class="px-4 py-8">
    <h1 class={`mb-2 text-3xl font-bold ${primaryTextClasses}`}>Image Slider</h1>
    <p class={`mb-6 ${secondaryTextClasses} text-gray-600 dark:text-gray-400`}>Grid-based multi-directional image slider.</p>

    <div class="rounded-lg border border-gray-200 overflow-hidden dark:border-gray-700">
      <ImageSlider
        slides={slides}
        title="Our Work"
        description="Fire protection systems"
        height="400px"
      />
    </div>
  </div>
</LayoutDefault>
