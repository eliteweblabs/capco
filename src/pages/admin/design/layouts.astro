---
import { checkAuth } from "../../../lib/auth";
import LayoutDefault from "../../../components/layouts/LayoutDefault.astro";
import { globalClasses } from "../../api/global/global-classes";

const { currentUser, session } = await checkAuth(Astro.cookies);
if (!currentUser || !session || currentUser?.profile?.role !== "Admin") {
  return Astro.redirect("/auth/login");
}
const { primaryTextClasses, mutedTextClasses, globalCardStyle } = globalClasses();
---

<LayoutDefault title="Layouts" description="Page layout variants: Default, Fullwidth, Minimal, Landing.">
  <div class="px-4 py-8">
    <h1 class={`mb-2 text-3xl font-bold ${primaryTextClasses}`}>Layouts</h1>
    <p class={`mb-6 ${mutedTextClasses}`}>Page layout variants used across the app.</p>

    <div class={`space-y-6 ${globalCardStyle} p-6`}>
      <div>
        <h2 class="mb-2 text-lg font-semibold">LayoutDefault</h2>
        <p class="text-sm text-gray-600 dark:text-gray-400">Sidebar + main content. Used for most admin and app pages.</p>
      </div>
      <div>
        <h2 class="mb-2 text-lg font-semibold">LayoutFullwidth</h2>
        <p class="text-sm text-gray-600 dark:text-gray-400">Full-width content, no sidebar. Used for landing and marketing.</p>
      </div>
      <div>
        <h2 class="mb-2 text-lg font-semibold">LayoutMinimal</h2>
        <p class="text-sm text-gray-600 dark:text-gray-400">Minimal chrome. Used for auth and simple forms.</p>
      </div>
      <div>
        <h2 class="mb-2 text-lg font-semibold">LayoutProductCapco / Landing</h2>
        <p class="text-sm text-gray-600 dark:text-gray-400">Product-style landing layout.</p>
      </div>
    </div>
  </div>
</LayoutDefault>
