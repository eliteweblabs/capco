---
import { checkAuth } from "../../../lib/auth";
import LayoutDefault from "../../../components/layouts/LayoutDefault.astro";
import LogoCloudBlock from "../../../components/blocks/LogoCloudBlock.astro";
import { globalClasses } from "../../api/global/global-classes";

const { currentUser, session } = await checkAuth(Astro.cookies);
if (!currentUser || !session || currentUser?.profile?.role !== "Admin") {
  return Astro.redirect("/auth/login");
}
const { primaryTextClasses, mutedTextClasses, globalCardStyle } = globalClasses();
---

<LayoutDefault title="Logo Cloud Block" description="Partner and client logos.">
  <div class="px-4 py-8">
    <h1 class={`mb-2 text-3xl font-bold ${primaryTextClasses}`}>Logo Cloud Block</h1>
    <p class={`mb-6 ${mutedTextClasses}`}>Partner and client logos (grid or marquee).</p>

    <div class={`${globalCardStyle} p-6`}>
      <LogoCloudBlock
        title="Trusted By"
        variant="grid"
        logo1Icon="fa-solid fa-building"
        logo1Alt="Partner 1"
        logo1IconColor="text-primary-600"
        logo2Icon="fa-solid fa-shield-halved"
        logo2Alt="Partner 2"
        logo2IconColor="text-primary-600"
        logo3Icon="fa-solid fa-check-double"
        logo3Alt="Partner 3"
        logo3IconColor="text-primary-600"
      />
    </div>
  </div>
</LayoutDefault>
