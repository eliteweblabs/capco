(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9265,9630],{1275:(e,r,t)=>{"use strict";t.d(r,{d:()=>m,t:()=>x});var s=t(95155),n=t(12115),a=t(42529),i=t(6132),o=t(52056),l=t(23327),c=t(65229),d=t(64269);let u=(0,n.createContext)(void 0);function x(e){let{children:r}=e,[t,a]=(0,n.useState)([]),i=(0,n.useCallback)(e=>{var r;let t=Math.random().toString(36).slice(2,11);return a(r=>[...r,{...e,id:t}]),setTimeout(()=>{a(e=>e.filter(e=>e.id!==t))},null!=(r=e.duration)?r:e.action?1e4:5e3),t},[]),o=(0,n.useCallback)(e=>{a(r=>r.filter(r=>r.id!==e))},[]);return(0,s.jsxs)(u.Provider,{value:{toasts:t,addToast:i,removeToast:o},children:[r,(0,s.jsx)(h,{toasts:t,onRemove:o})]})}function m(){let e=(0,n.useContext)(u);if(!e)throw Error("useToast must be used within a ToastProvider");return{toast:e.addToast,success:(r,t)=>e.addToast({type:"success",title:r,description:t}),error:(r,t)=>e.addToast({type:"error",title:r,description:t}),warning:(r,t)=>e.addToast({type:"warning",title:r,description:t}),info:(r,t)=>e.addToast({type:"info",title:r,description:t})}}function h(e){let{toasts:r,onRemove:t}=e;return(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 max-w-sm w-full",children:r.map(e=>(0,s.jsx)(b,{toast:e,onRemove:t},e.id))})}let f={success:a.A,error:i.A,warning:o.A,info:l.A},g={success:"text-success",error:"text-error",warning:"text-warning",info:"text-info"};function b(e){let{toast:r,onRemove:t}=e,n=f[r.type];return(0,s.jsxs)("div",{className:(0,d.cn)("flex items-start gap-3 p-4 rounded-lg shadow-lg border","bg-background-elevated border-border","animate-in slide-in-from-right-full"),role:"alert",children:[(0,s.jsx)(n,{className:(0,d.cn)("h-5 w-5 flex-shrink-0 mt-0.5",g[r.type])}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-foreground",children:r.title}),r.description&&(0,s.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:r.description}),r.action&&(0,s.jsx)("button",{onClick:()=>{var e;null==(e=r.action)||e.onClick(),t(r.id)},className:"mt-2 text-sm font-medium text-brand hover:text-brand/80 transition-colors",children:r.action.label})]}),(0,s.jsxs)("button",{onClick:()=>t(r.id),className:"flex-shrink-0 text-foreground-muted hover:text-foreground transition-colors",children:[(0,s.jsx)(c.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Dismiss"})]})]})}},3998:(e,r,t)=>{"use strict";t.d(r,{Button:()=>o});var s=t(95155),n=t(12115),a=t(64269),i=t(35299);let o=(0,n.forwardRef)((e,r)=>{let{className:t,variant:n="primary",size:o="md",loading:l,disabled:c,children:d,...u}=e;return(0,s.jsxs)("button",{ref:r,className:(0,a.cn)("\n      inline-flex items-center justify-center font-medium\n      transition-all duration-150 focus-visible:outline-none focus-visible:ring-1\n      focus-visible:ring-brand focus-visible:ring-offset-1\n      disabled:pointer-events-none disabled:opacity-50\n      rounded-lg\n    ",{primary:"\n        bg-brand text-white hover:bg-brand/90\n        border border-brand-secondary\n        shadow-xs active:shadow-none active:bg-brand-secondary\n      ",secondary:"\n        bg-background-tertiary text-foreground\n        border border-border hover:border-border-hover\n        hover:bg-background-elevated shadow-xs\n        active:shadow-none\n      ",ghost:"\n        text-foreground-secondary hover:text-foreground\n        hover:bg-background-tertiary\n        border border-transparent\n        active:bg-background-secondary\n      ",destructive:"\n        bg-error text-white hover:bg-error/90\n        border border-red-700\n        shadow-xs active:shadow-none active:bg-red-700\n      ",outline:"\n        border border-brand text-brand\n        hover:bg-brand/10\n        active:bg-brand/20\n      "}[n],{sm:"h-8 px-3 text-sm gap-1.5",md:"h-10 px-4 text-sm gap-2",lg:"h-12 px-6 text-base gap-2",icon:"h-10 w-10"}[o],t),disabled:c||l,...u,children:[l&&(0,s.jsx)(i.A,{className:"h-4 w-4 animate-spin"}),d]})});o.displayName="Button"},11647:(e,r,t)=>{"use strict";t.d(r,{E:()=>a});var s=t(95155),n=t(64269);function a(e){let{className:r,variant:t="default",...a}=e;return(0,s.jsx)("span",{className:(0,n.cn)("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-semibold transition-colors",{default:"bg-brand/10 text-brand border-brand/20",success:"bg-success/10 text-success border-success/20",warning:"bg-warning/10 text-warning border-warning/20",error:"bg-error/10 text-error border-error/20",info:"bg-info/10 text-info border-info/20",secondary:"bg-background-tertiary text-foreground-secondary border-border"}[t],r),...a})}},18653:(e,r,t)=>{"use strict";t.d(r,{y:()=>a});var s=t(95155),n=t(64269);function a(e){let{size:r="md",className:t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("animate-spin rounded-full border-2 border-current border-t-transparent text-brand",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[r],t),children:(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})})}},23574:(e,r,t)=>{"use strict";t.d(r,{CopyButton:()=>c});var s=t(95155),n=t(12115),a=t(5917),i=t(75426),o=t(3998),l=t(1275);function c(e){let{value:r,className:t,label:c}=e,[d,u]=(0,n.useState)(!1),x=(0,l.d)(),m=async()=>{if(!r)return void x.error("Nothing to copy");try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(r);else{let e=document.createElement("textarea");e.value=r,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}u(!0),x.success(c?"".concat(c," copied"):"Copied to clipboard"),setTimeout(()=>u(!1),2e3)}catch(e){console.error("Failed to copy:",e),x.error("Failed to copy to clipboard")}};return(0,s.jsx)(o.Button,{type:"button",variant:"ghost",size:"sm",className:"h-7 px-2 ".concat(t||""),onClick:m,children:d?(0,s.jsx)(a.A,{className:"h-3 w-3 text-success"}):(0,s.jsx)(i.A,{className:"h-3 w-3"})})}},48768:(e,r,t)=>{"use strict";t.d(r,{AuthProvidersForm:()=>k});var s=t(95155),n=t(12115),a=t(20063),i=t(86948),o=t(3998),l=t(65142),c=t(11647),d=t(51834),u=t(18653),x=t(23574),m=t(17910),h=t(52056),f=t(61362),g=t(89559),b=t(65229),p=t(93499),v=t(70532),j=t(57828),N=t(67405),w=t(50457),y=t(33828);function k(e){let{projectId:r,apiPort:t}=e,w=(0,a.useRouter)(),{isRunning:y}=(0,N.$)(r),[k,S]=(0,n.useState)(!0),[A,E]=(0,n.useState)(!1),[T,B]=(0,n.useState)(null),[R,F]=(0,n.useState)(!1),[I,z]=(0,n.useState)([]),[D,L]=(0,n.useState)([]),[M,P]=(0,n.useState)(null),[V,Z]=(0,n.useState)({enabled:!0,clientId:"",clientSecret:"",additionalConfig:{}}),[U,_]=(0,n.useState)({});(0,n.useEffect)(()=>{W()},[r]);let W=async()=>{S(!0),B(null);try{let e=await fetch("/api/v1/projects/".concat(r,"/auth-providers")),t=await e.json();if(!t.success)throw Error(t.error||"Failed to fetch providers");z(t.data.available),L(t.data.configured)}catch(e){B(e instanceof Error?e.message:"An error occurred")}finally{S(!1)}},O=e=>{var r,t,s;let n=D.find(r=>r.provider===e.id);Z({enabled:null==(t=null==n?void 0:n.enabled)||t,clientId:(null==n||null==(r=n.clientId)?void 0:r.includes("*"))?"":(null==n?void 0:n.clientId)||"",clientSecret:"",additionalConfig:{}});let a=e.fields.filter(e=>!e.envVar.includes("CLIENT_ID")&&!e.envVar.includes("SECRET")),i={};for(let e of a)i[e.envVar]=(null==n||null==(s=n.additionalConfig)?void 0:s[e.envVar])||"";Z(e=>({...e,additionalConfig:i})),_({}),P(e)},G=async()=>{if(M){E(!0),B(null),F(!1);try{let e=D.filter(e=>e.provider!==M.id);V.enabled&&V.clientId&&V.clientSecret&&e.push({provider:M.id,enabled:!0,clientId:V.clientId,clientSecret:V.clientSecret,additionalConfig:Object.keys(V.additionalConfig).length>0?V.additionalConfig:void 0});let t=await fetch("/api/v1/projects/".concat(r,"/auth-providers"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({providers:e})}),s=await t.json();if(!s.success)throw Error(s.error||"Failed to save provider");F(!0),P(null),W(),w.refresh()}catch(e){B(e instanceof Error?e.message:"An error occurred")}finally{E(!1)}}},$=async e=>{E(!0),B(null),F(!1);try{let t=D.filter(r=>r.provider!==e),s=await fetch("/api/v1/projects/".concat(r,"/auth-providers"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({providers:t})}),n=await s.json();if(!n.success)throw Error(n.error||"Failed to remove provider");F(!0),W(),w.refresh()}catch(e){B(e instanceof Error?e.message:"An error occurred")}finally{E(!1)}};if(k)return(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(u.y,{size:"lg"})});let q=I.filter(e=>e.configured),H=I.filter(e=>!e.configured);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(i.Zp,{className:"border-brand/30 bg-brand/5",children:(0,s.jsx)(i.Wu,{className:"py-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(m.A,{className:"h-5 w-5 text-brand flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-foreground",children:"Social Authentication"}),(0,s.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:"Configure OAuth providers to allow users to sign in with their existing accounts. Changes require a project restart to take effect."})]})]})})}),y&&(0,s.jsx)(i.Zp,{className:"border-warning/50 bg-warning/5",children:(0,s.jsx)(i.Wu,{className:"py-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 text-warning flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-foreground",children:"Project is Running"}),(0,s.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:"Changes to authentication providers will not take effect until you restart the project."})]})]})})}),R&&(0,s.jsx)(i.Zp,{className:"border-success/50 bg-success/5",children:(0,s.jsx)(i.Wu,{className:"py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(f.A,{className:"h-5 w-5 text-success flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-foreground",children:"Configuration Saved"}),(0,s.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:y?"Restart the project for changes to take effect.":"Start the project to use the new configuration."})]})]}),y&&(0,s.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>w.push("/projects/".concat(r)),children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Go to Project"]})]})})}),T&&(0,s.jsx)(i.Zp,{className:"border-error/50 bg-error/5",children:(0,s.jsx)(i.Wu,{className:"py-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 text-error flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-error",children:"Error"}),(0,s.jsx)("p",{className:"text-sm text-error/80 mt-1",children:T})]})]})})}),(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{className:"text-base",children:"Callback URL"}),(0,s.jsx)(i.BT,{children:"Use this URL when configuring OAuth apps with providers"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-background-tertiary rounded-lg font-mono text-sm",children:[(0,s.jsxs)("span",{className:"flex-1 truncate",children:["http://localhost:",t,"/auth/v1/callback"]}),(0,s.jsx)(x.CopyButton,{value:"http://localhost:".concat(t,"/auth/v1/callback")})]})})]}),q.length>0&&(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Configured Providers"}),(0,s.jsx)(i.BT,{children:"These providers are currently configured for your project"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)("div",{className:"space-y-3",children:q.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(C,{provider:e.id}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.name}),(0,s.jsx)(c.E,{variant:"success",className:"mt-1",children:"Enabled"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>O(e),children:"Edit"}),(0,s.jsx)(o.Button,{variant:"ghost",size:"sm",onClick:()=>$(e.id),disabled:A,children:(0,s.jsx)(b.A,{className:"h-4 w-4"})})]})]},e.id))})})]}),(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Available Providers"}),(0,s.jsx)(i.BT,{children:"Click on a provider to configure it"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:H.map(e=>(0,s.jsxs)("button",{onClick:()=>O(e),className:"flex items-center gap-3 p-4 border border-border rounded-lg hover:border-brand/50 hover:bg-brand/5 transition-colors text-left",children:[(0,s.jsx)(C,{provider:e.id}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-foreground-muted",children:"Click to configure"})]})]},e.id))})})]}),M&&(0,s.jsx)(d.lG,{open:!!M,onClose:()=>P(null),title:"Configure ".concat(M.name),children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(C,{provider:M.id,size:"lg"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:M.name}),(0,s.jsxs)("a",{href:M.docsUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-brand hover:underline flex items-center gap-1",children:["View setup guide",(0,s.jsx)(p.A,{className:"h-3 w-3"})]})]})]})}),(0,s.jsxs)("div",{className:"p-3 bg-background-tertiary rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs text-foreground-muted mb-1",children:"Callback URL"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("code",{className:"text-sm flex-1 truncate",children:M.redirectUri}),(0,s.jsx)(x.CopyButton,{value:M.redirectUri})]})]}),M.fields.map(e=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[e.name,e.required&&(0,s.jsx)("span",{className:"text-error",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(l.Input,{type:e.secret&&!U[e.envVar]?"password":"text",value:e.envVar.includes("CLIENT_ID")?V.clientId:e.envVar.includes("SECRET")?V.clientSecret:V.additionalConfig[e.envVar]||"",onChange:r=>{e.envVar.includes("CLIENT_ID")?Z(e=>({...e,clientId:r.target.value})):e.envVar.includes("SECRET")?Z(e=>({...e,clientSecret:r.target.value})):Z(t=>({...t,additionalConfig:{...t.additionalConfig,[e.envVar]:r.target.value}}))},placeholder:e.placeholder||"Enter ".concat(e.name.toLowerCase()),className:e.secret?"pr-10":""}),e.secret&&(0,s.jsx)("button",{type:"button",onClick:()=>_(r=>({...r,[e.envVar]:!r[e.envVar]})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-foreground-muted hover:text-foreground",children:U[e.envVar]?(0,s.jsx)(v.A,{className:"h-4 w-4"}):(0,s.jsx)(j.A,{className:"h-4 w-4"})})]})]},e.envVar)),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-border",children:[(0,s.jsx)(o.Button,{variant:"outline",onClick:()=>P(null),children:"Cancel"}),(0,s.jsx)(o.Button,{onClick:G,disabled:A||!V.clientId||!V.clientSecret,children:A?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.y,{size:"sm",className:"mr-2"}),"Saving..."]}):"Save Provider"})]})]})})]})}function C(e){let{provider:r,size:t="sm"}=e,n="lg"===t?"h-10 w-10":"h-8 w-8",a={google:{icon:w.UKz,bg:"bg-white border border-border",iconColor:"text-[#4285F4]"},github:{icon:w.SrF,bg:"bg-[#24292e]"},gitlab:{icon:w.k4g,bg:"bg-[#FC6D26]"},discord:{icon:w.Nxe,bg:"bg-[#5865F2]"},twitter:{icon:y.TCj,bg:"bg-black"},facebook:{icon:w.toy,bg:"bg-[#1877F2]"},apple:{icon:w.d50,bg:"bg-black"},azure:{icon:y.cpg,bg:"bg-[#0078D4]"},bitbucket:{icon:w.Qkb,bg:"bg-[#0052CC]"},linkedin:{icon:w.d58,bg:"bg-[#0A66C2]"},notion:{icon:w.i4$,bg:"bg-black"},slack:{icon:w.D6W,bg:"bg-[#4A154B]"},spotify:{icon:w.j3k,bg:"bg-[#1DB954]"},twitch:{icon:w.Cfo,bg:"bg-[#9146FF]"},zoom:{icon:w.gkj,bg:"bg-[#2D8CFF]"}}[r];if(a){let e=a.icon;return(0,s.jsx)("div",{className:"".concat(n," ").concat(a.bg," rounded-lg flex items-center justify-center"),children:(0,s.jsx)(e,{size:"lg"===t?20:16,className:a.iconColor||"text-white"})})}return(0,s.jsx)("div",{className:"".concat(n," ").concat({workos:"bg-[#6363F1]",keycloak:"bg-[#4D4D4D]"}[r]||"bg-gray-500"," rounded-lg flex items-center justify-center text-white font-bold text-xs"),children:r.substring(0,2).toUpperCase()})}},51834:(e,r,t)=>{"use strict";t.d(r,{Es:()=>c,lG:()=>l});var s=t(95155),n=t(12115),a=t(65229),i=t(64269),o=t(3998);function l(e){let{open:r,onClose:t,children:l,className:c,title:d}=e;return r?(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:(0,i.cn)("relative w-full max-w-lg max-h-[90vh] flex flex-col bg-background-secondary rounded-xl shadow-lg border border-border","animate-in fade-in-0 zoom-in-95 duration-200",c),role:"dialog","aria-modal":"true",onClick:e=>e.stopPropagation(),children:[d&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 pb-0 flex-shrink-0",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:d}),(0,s.jsxs)(o.Button,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8 text-foreground-muted hover:text-foreground",children:[(0,s.jsx)(a.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:l})]})})]}):null}function c(e){let{children:r,className:t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex items-center justify-end gap-3 p-6 pt-0",t),children:r})}},62927:(e,r,t)=>{"use strict";t.d(r,{Header:()=>f});var s=t(95155),n=t(12115),a=t(59427),i=t(37494),o=t(79451),l=t(64269);function c(){let[e,r]=(0,n.useState)("system"),[t,l]=(0,n.useState)(!1);(0,n.useEffect)(()=>{l(!0);let e=localStorage.getItem("theme");e&&r(e)},[]),(0,n.useEffect)(()=>{if(!t)return;let r=document.documentElement,s=e=>{r.setAttribute("data-theme",e),r.classList.remove("light","dark"),r.classList.add(e)};if("system"===e){let e=window.matchMedia("(prefers-color-scheme: dark)");s(e.matches?"dark":"light");let r=e=>{s(e.matches?"dark":"light")};return e.addEventListener("change",r),()=>e.removeEventListener("change",r)}s(e)},[e,t]);let c=e=>{r(e),localStorage.setItem("theme",e)};return t?(0,s.jsxs)("div",{className:"flex items-center gap-1 p-1 rounded-lg bg-background-tertiary border border-border",children:[(0,s.jsx)(d,{active:"light"===e,onClick:()=>c("light"),title:"Light mode",children:(0,s.jsx)(a.A,{className:"h-4 w-4"})}),(0,s.jsx)(d,{active:"dark"===e,onClick:()=>c("dark"),title:"Dark mode",children:(0,s.jsx)(i.A,{className:"h-4 w-4"})}),(0,s.jsx)(d,{active:"system"===e,onClick:()=>c("system"),title:"System theme",children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})]}):(0,s.jsxs)("div",{className:"flex items-center gap-1 p-1 rounded-lg bg-background-tertiary",children:[(0,s.jsx)("div",{className:"h-8 w-8"}),(0,s.jsx)("div",{className:"h-8 w-8"}),(0,s.jsx)("div",{className:"h-8 w-8"})]})}function d(e){let{active:r,onClick:t,title:n,children:a}=e;return(0,s.jsx)("button",{onClick:t,title:n,className:(0,l.cn)("h-8 w-8 flex items-center justify-center rounded-md transition-colors",r?"bg-background-elevated text-brand shadow-sm":"text-foreground-muted hover:text-foreground"),children:a})}var u=t(3998),x=t(6191),m=t(52619),h=t.n(m);function f(e){let{title:r,description:t,showCreateButton:n=!0}=e;return(0,s.jsxs)("header",{className:"sticky top-0 z-30 flex items-center justify-between h-14 lg:h-16 px-4 lg:px-6 bg-background/95 backdrop-blur-sm border-b border-border",children:[(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[r&&(0,s.jsx)("h1",{className:"text-lg lg:text-xl font-semibold text-foreground truncate",children:r}),t&&(0,s.jsx)("p",{className:"text-xs lg:text-sm text-foreground-secondary truncate",children:t})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 lg:gap-3 ml-4",children:[n&&(0,s.jsxs)(h(),{href:"/projects/new",children:[(0,s.jsxs)(u.Button,{size:"sm",className:"hidden sm:flex",children:[(0,s.jsx)(x.A,{className:"h-4 w-4"}),"New Project"]}),(0,s.jsx)(u.Button,{size:"icon",className:"sm:hidden h-8 w-8",children:(0,s.jsx)(x.A,{className:"h-4 w-4"})})]}),(0,s.jsx)(c,{})]})]})}},64121:(e,r,t)=>{Promise.resolve().then(t.bind(t,48768)),Promise.resolve().then(t.bind(t,89405)),Promise.resolve().then(t.bind(t,62927))},64269:(e,r,t)=>{"use strict";t.d(r,{Ye:()=>d,Yq:()=>c,cn:()=>a,fw:()=>o,mo:()=>l,z3:()=>i});var s=t(2821),n=t(75889);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.QP)((0,s.$)(r))}let i=function(e){if(0===e)return"0 B";let r=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,r)).toFixed(2))," ").concat(["B","KB","MB","GB","TB"][r])};function o(e){let r=new Date,t=new Date(e),s=Math.floor((r.getTime()-t.getTime())/1e3);return s<60?"just now":s<3600?"".concat(Math.floor(s/60),"m ago"):s<86400?"".concat(Math.floor(s/3600),"h ago"):s<604800?"".concat(Math.floor(s/86400),"d ago"):t.toLocaleDateString()}function l(e){let r,t=new Date,s=new Date(e),n=s.getTime()-t.getTime(),a=Math.abs(Math.floor(n/1e3));if(a<60)r="less than a minute";else if(a<3600){let e=Math.floor(a/60);r="".concat(e," minute").concat(e>1?"s":"")}else if(a<86400){let e=Math.floor(a/3600);r="".concat(e," hour").concat(e>1?"s":"")}else{if(!(a<604800))return s.toLocaleDateString();let e=Math.floor(a/86400);r="".concat(e," day").concat(e>1?"s":"")}return n>0?"in ".concat(r):"".concat(r," ago")}function c(e){return new Date(e).toLocaleString()}function d(e){return e.toLowerCase().replace(/[^a-z0-9_-]/g,"-").replace(/^[^a-z0-9]/,"").replace(/-+/g,"-").slice(0,50)}},65142:(e,r,t)=>{"use strict";t.d(r,{Input:()=>i});var s=t(95155),n=t(12115),a=t(64269);let i=(0,n.forwardRef)((e,r)=>{let{className:t,type:n="text",error:i,icon:o,...l}=e;return(0,s.jsxs)("div",{className:"relative",children:[o&&(0,s.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-foreground-muted",children:o}),(0,s.jsx)("input",{type:n,className:(0,a.cn)("\n            w-full h-10 px-3 py-2\n            bg-background-tertiary text-foreground\n            border border-border rounded-lg shadow-2xs\n            placeholder:text-foreground-muted\n            hover:border-border-hover\n            focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-brand focus-visible:border-transparent\n            disabled:cursor-not-allowed disabled:opacity-50\n            transition-all duration-150\n            ",o&&"pl-10",i&&"border-error focus-visible:ring-error hover:border-error",t),ref:r,...l})]})});i.displayName="Input"},67405:(e,r,t)=>{"use strict";t.d(r,{$:()=>n});var s=t(12115);function n(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pollInterval:t=5e3,enabled:n=!0}=r,[a,i]=(0,s.useState)("unknown"),[o,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),[u,x]=(0,s.useState)(null),[m,h]=(0,s.useState)(!1),f=(0,s.useCallback)(async()=>{if(e)try{let r=await fetch("/api/v1/projects/".concat(e,"/status")),t=await r.json();t.success?(i(t.data.status),x(t.data.lastStatusCheck),d(null),h(!0)):d(t.error||"Failed to fetch status")}catch(e){d(e instanceof Error?e.message:"Failed to fetch status")}finally{l(!1)}},[e]);return(0,s.useEffect)(()=>{n&&f()},[n,f]),(0,s.useEffect)(()=>{if(!n||t<=0)return;let e=setInterval(f,t);return()=>clearInterval(e)},[n,t,f]),{status:a,isLoading:o&&!m,error:c,lastChecked:u,isRunning:"running"===a||"degraded"===a,isTransitioning:"starting"===a||"stopping"===a,refresh:f}}},86948:(e,r,t)=>{"use strict";t.d(r,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>o});var s=t(95155),n=t(12115),a=t(64269);let i=(0,n.forwardRef)((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("rounded-xl border border-border bg-background-secondary shadow-xs",t),...n})});i.displayName="Card";let o=(0,n.forwardRef)((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...n})});o.displayName="CardHeader";let l=(0,n.forwardRef)((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("h3",{ref:r,className:(0,a.cn)("text-lg font-semibold leading-none tracking-tight text-foreground",t),...n})});l.displayName="CardTitle";let c=(0,n.forwardRef)((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-foreground-secondary",t),...n})});c.displayName="CardDescription";let d=(0,n.forwardRef)((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",t),...n})});d.displayName="CardContent",(0,n.forwardRef)((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",t),...n})}).displayName="CardFooter"},89405:(e,r,t)=>{"use strict";t.d(r,{Breadcrumb:()=>c});var s=t(95155),n=t(52619),a=t.n(n),i=t(65993),o=t(27937),l=t(64269);function c(e){let{items:r,className:t}=e;return(0,s.jsxs)("nav",{"aria-label":"Breadcrumb",className:(0,l.cn)("flex items-center gap-1 text-sm",t),children:[(0,s.jsx)(a(),{href:"/",className:"text-foreground-muted hover:text-foreground transition-colors",children:(0,s.jsx)(i.A,{className:"h-4 w-4"})}),r.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 text-foreground-muted"}),e.href&&t<r.length-1?(0,s.jsx)(a(),{href:e.href,className:"text-foreground-muted hover:text-foreground transition-colors",children:e.label}):(0,s.jsx)("span",{className:"text-foreground font-medium",children:e.label})]},e.label))]})}}},e=>{e.O(0,[2362,6446,2903,2619,535,8441,1255,7358],()=>e(e.s=64121)),_N_E=e.O()}]);