(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3196],{11647:(e,s,r)=>{"use strict";r.d(s,{E:()=>n});var a=r(95155),t=r(64269);function n(e){let{className:s,variant:r="default",...n}=e;return(0,a.jsx)("span",{className:(0,t.cn)("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-semibold transition-colors",{default:"bg-brand/10 text-brand border-brand/20",success:"bg-success/10 text-success border-success/20",warning:"bg-warning/10 text-warning border-warning/20",error:"bg-error/10 text-error border-error/20",info:"bg-info/10 text-info border-info/20",secondary:"bg-background-tertiary text-foreground-secondary border-border"}[r],s),...n})}},13406:(e,s,r)=>{"use strict";r.d(s,{Xi:()=>o,av:()=>d,j7:()=>l,tU:()=>c});var a=r(95155),t=r(12115),n=r(64269);let i=(0,t.createContext)(void 0);function c(e){let{defaultValue:s,value:r,children:c,className:l,onValueChange:o}=e,[d,m]=(0,t.useState)(s||r||""),x=void 0!==r?r:d;return(0,a.jsx)(i.Provider,{value:{activeTab:x,setActiveTab:e=>{void 0===r&&m(e),null==o||o(e)}},children:(0,a.jsx)("div",{className:(0,n.cn)("w-full",l),children:c})})}function l(e){let{children:s,className:r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("inline-flex items-center gap-1 p-1 rounded-lg bg-background-tertiary border border-border",r),role:"tablist",children:s})}function o(e){let{value:s,children:r,className:c,disabled:l}=e,o=(0,t.useContext)(i);if(!o)throw Error("TabsTrigger must be used within Tabs");let{activeTab:d,setActiveTab:m}=o,x=d===s;return(0,a.jsx)("button",{role:"tab","aria-selected":x,"aria-controls":"panel-".concat(s),disabled:l,onClick:()=>m(s),className:(0,n.cn)("px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-150","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-brand",x?"bg-background-elevated text-foreground shadow-xs":"text-foreground-secondary hover:text-foreground hover:bg-background-secondary",l&&"opacity-50 cursor-not-allowed",c),children:r})}function d(e){let{value:s,children:r,className:c}=e,l=(0,t.useContext)(i);if(!l)throw Error("TabsContent must be used within Tabs");let{activeTab:o}=l;return o!==s?null:(0,a.jsx)("div",{role:"tabpanel",id:"panel-".concat(s),className:(0,n.cn)("mt-4",c),children:r})}},44846:(e,s,r)=>{"use strict";r.d(s,{d:()=>i});var a=r(95155),t=r(12115),n=r(64269);let i=(0,t.forwardRef)((e,s)=>{let{className:r,checked:t,onCheckedChange:i,onChange:c,...l}=e;return(0,a.jsxs)("label",{className:(0,n.cn)("relative inline-flex cursor-pointer items-center",r),children:[(0,a.jsx)("input",{type:"checkbox",role:"switch",className:"peer sr-only",ref:s,checked:t,onChange:e=>{null==c||c(e),null==i||i(e.target.checked)},...l}),(0,a.jsx)("div",{className:(0,n.cn)("h-6 w-11 rounded-full transition-colors","bg-background-tertiary border border-border","peer-checked:bg-brand peer-checked:border-brand","peer-focus-visible:ring-2 peer-focus-visible:ring-brand peer-focus-visible:ring-offset-2","peer-disabled:cursor-not-allowed peer-disabled:opacity-50","after:absolute after:left-[2px] after:top-[2px]","after:h-5 after:w-5 after:rounded-full","after:bg-white after:shadow-sm","after:transition-transform","peer-checked:after:translate-x-5")})]})});i.displayName="Switch"},75314:(e,s,r)=>{"use strict";r.d(s,{DomainSettingsForm:()=>$});var a=r(95155),t=r(12115),n=r(20063),i=r(86948),c=r(3998),l=r(65142),o=r(44846),d=r(11647),m=r(18653),x=r(51834),u=r(13406),h=r(1275),f=r(63139),p=r(67405),j=r(26983),g=r(78874),b=r(52056),v=r(42529);function N(e){let{validTo:s,className:r}=e;if(!s)return(0,a.jsxs)(d.E,{variant:"secondary",className:r,children:[(0,a.jsx)(j.A,{className:"h-3 w-3 mr-1"}),"Unknown"]});let t=new Date(s),n=new Date,i=Math.floor((t.getTime()-n.getTime())/864e5);return i<0?(0,a.jsxs)(d.E,{variant:"error",className:r,children:[(0,a.jsx)(g.A,{className:"h-3 w-3 mr-1"}),"Expired"]}):i<=7?(0,a.jsxs)(d.E,{variant:"error",className:r,children:[(0,a.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"Expires in ",i," day",1!==i?"s":""]}):i<=30?(0,a.jsxs)(d.E,{variant:"warning",className:r,children:[(0,a.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"Expires in ",i," days"]}):(0,a.jsxs)(d.E,{variant:"success",className:r,children:[(0,a.jsx)(v.A,{className:"h-3 w-3 mr-1"}),"Valid for ",i," days"]})}var y=r(76907),w=r(77801),S=r(89559),C=r(71360),A=r(16485),k=r(39068),E=r(71871),T=r(5370),R=r(37107);function I(e){var s,r,n,l,o;let{projectId:u,certificate:f,onRemove:p,onRenew:j}=e,g=(0,h.d)(),[v,I]=(0,t.useState)(!1),[D,P]=(0,t.useState)(!1),[F,L]=(0,t.useState)(!1),U=function(e){if(!e)return"secondary";let s=new Date(e),r=new Date,a=Math.floor((s.getTime()-r.getTime())/864e5);return a<0||a<=7?"error":a<=30?"warning":"success"}(f.validTo),z="letsencrypt"===f.source,O=async()=>{I(!0);try{let e=await fetch("/api/v1/projects/".concat(u,"/certificate/renew"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({force:!0})}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to renew certificate");g.success("Certificate renewed","Certificate has been renewed successfully"),null==j||j()}catch(s){let e=s instanceof Error?s.message:"Failed to renew certificate";g.error("Renewal failed",e)}finally{I(!1)}},B=async()=>{P(!0);try{let e=await fetch("/api/v1/projects/".concat(u,"/certificate/revoke"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deleteAfterRevoke:!0})}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to revoke certificate");g.success("Certificate revoked","Certificate has been revoked and removed"),L(!1),null==p||p()}catch(s){let e=s instanceof Error?s.message:"Failed to revoke certificate";g.error("Revocation failed",e)}finally{P(!1)}},K=async()=>{try{let e=await fetch("/api/v1/projects/".concat(u,"/certificate"),{method:"DELETE"}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to remove certificate");g.success("Certificate removed","Certificate has been removed"),null==p||p()}catch(s){let e=s instanceof Error?s.message:"Failed to remove certificate";g.error("Removal failed",e)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2",children:["success"===U?(0,a.jsx)(y.A,{className:"h-5 w-5 text-success"}):(0,a.jsx)(w.A,{className:"h-5 w-5 text-warning"}),"SSL Certificate Active"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[z&&(0,a.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:O,disabled:v,children:[v?(0,a.jsx)(m.y,{size:"sm",className:"mr-2"}):(0,a.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"Renew"]}),(0,a.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:z?()=>L(!0):K,className:"text-error hover:text-error",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 mr-2"}),z?"Revoke":"Remove"]})]})]})}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background-tertiary",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(A.A,{className:"h-5 w-5 text-foreground-muted"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Expires"}),(0,a.jsx)("p",{className:"text-sm text-foreground-muted",children:(o=f.validTo)?new Date(o).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):"Unknown"})]})]}),(0,a.jsx)(N,{validTo:f.validTo})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(k.A,{className:"h-5 w-5 text-foreground-muted mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Domains"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:f.domains.map(e=>(0,a.jsx)(d.E,{variant:"secondary",className:"text-xs",children:e},e))})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(E.A,{className:"h-5 w-5 text-foreground-muted mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Issuer"}),(0,a.jsx)("p",{className:"text-sm text-foreground-muted",children:f.issuer||"Unknown"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(T.A,{className:"h-5 w-5 text-foreground-muted mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Key Type"}),(0,a.jsxs)("p",{className:"text-sm text-foreground-muted",children:[(null==(s=f.keyType)?void 0:s.toUpperCase())||"Unknown"," ",f.keySize?"(".concat(f.keySize," bit)"):""]})]})]}),f.serialNumber&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(R.A,{className:"h-5 w-5 text-foreground-muted mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Serial Number"}),(0,a.jsx)("p",{className:"text-sm text-foreground-muted font-mono truncate max-w-[200px]",children:f.serialNumber})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t border-border",children:[(0,a.jsx)(d.E,{variant:z?"success":"secondary",children:z?"Let's Encrypt":"Custom Certificate"}),z&&(null==(r=f.letsencrypt)?void 0:r.staging)&&(0,a.jsx)(d.E,{variant:"warning",children:"Staging"}),z&&(null==(n=f.letsencrypt)?void 0:n.autoRenew)&&(0,a.jsx)(d.E,{variant:"secondary",children:"Auto-Renew"}),(null==(l=f.custom)?void 0:l.hasIntermediates)&&(0,a.jsx)(d.E,{variant:"secondary",children:"With Chain"})]})]})]}),(0,a.jsx)(x.lG,{open:F,onClose:()=>L(!1),title:"Revoke Certificate",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 border border-warning/50 bg-warning/5 rounded-lg",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-warning flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"Warning"}),(0,a.jsx)("p",{className:"text-foreground-secondary mt-1",children:"Revoking a certificate is permanent and cannot be undone. The certificate will be marked as invalid and will no longer be trusted by browsers."})]})]}),(0,a.jsxs)("p",{className:"text-sm text-foreground-muted",children:["Are you sure you want to revoke the SSL certificate for"," ",(0,a.jsx)("strong",{children:f.domains.join(", ")}),"?"]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)(c.Button,{variant:"outline",onClick:()=>L(!1),children:"Cancel"}),(0,a.jsx)(c.Button,{variant:"destructive",onClick:B,disabled:D,children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.y,{size:"sm",className:"mr-2"}),"Revoking..."]}):"Revoke Certificate"})]})]})})]})}var D=r(17910),P=r(23664),F=r(23327),L=r(61362);let U=[{id:"cloudflare",name:"Cloudflare",docsUrl:"https://certbot-dns-cloudflare.readthedocs.io/"},{id:"route53",name:"AWS Route53",docsUrl:"https://certbot-dns-route53.readthedocs.io/"},{id:"digitalocean",name:"DigitalOcean",docsUrl:"https://certbot-dns-digitalocean.readthedocs.io/"},{id:"godaddy",name:"GoDaddy",docsUrl:"https://github.com/miigotu/certbot-dns-godaddy"},{id:"google",name:"Google Cloud DNS",docsUrl:"https://certbot-dns-google.readthedocs.io/"}];function z(e){let{projectId:s,domain:r,onSuccess:n}=e,d=(0,h.d)(),[x,u]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[j,g]=(0,t.useState)(""),[v,N]=(0,t.useState)("http-01"),[y,w]=(0,t.useState)("cloudflare"),[S,C]=(0,t.useState)("rsa"),[A,E]=(0,t.useState)(2048),[R,I]=(0,t.useState)(!1),[z,O]=(0,t.useState)(!0),[B,K]=(0,t.useState)({}),Z=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?p(!0):u(!0);try{let r=await fetch("/api/v1/projects/".concat(s,"/certificate/obtain"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j,challengeType:v,dnsProvider:"dns-01"===v?y:void 0,dnsCredentials:"dns-01"===v?B:void 0,keyType:S,keySize:A,staging:R,dryRun:e,autoRenew:z})}),a=await r.json();if(!a.success)throw Error(a.error||"Failed to obtain certificate");e?d.success("Dry run successful","Certificate can be obtained with these settings"):(d.success("Certificate obtained","SSL certificate has been configured successfully"),null==n||n())}catch(r){let s=r instanceof Error?r.message:"Failed to obtain certificate";d.error(e?"Dry run failed":"Request failed",s)}finally{u(!1),p(!1)}};return(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"h-5 w-5"}),"Let's Encrypt Configuration"]}),(0,a.jsxs)(i.BT,{children:["Obtain a free SSL certificate from Let's Encrypt for ",r]})]}),(0,a.jsxs)(i.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"h-4 w-4"}),"Email Address"]}),(0,a.jsx)(l.Input,{type:"email",value:j,onChange:e=>g(e.target.value),placeholder:"admin@example.com"}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted",children:"Required for Let's Encrypt registration and expiry notifications"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(k.A,{className:"h-4 w-4"}),"Verification Method"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>N("http-01"),className:"p-4 border rounded-lg text-left transition-colors ".concat("http-01"===v?"border-brand bg-brand/10":"border-border hover:border-brand/50"),children:[(0,a.jsx)("p",{className:"font-medium",children:"HTTP-01"}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted mt-1",children:"Requires port 80 access. Simpler setup."})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>N("dns-01"),className:"p-4 border rounded-lg text-left transition-colors ".concat("dns-01"===v?"border-brand bg-brand/10":"border-border hover:border-brand/50"),children:[(0,a.jsx)("p",{className:"font-medium",children:"DNS-01"}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted mt-1",children:"For wildcard certs. Requires DNS API access."})]})]})]}),"dns-01"===v&&(0,a.jsxs)("div",{className:"space-y-4 p-4 border border-border rounded-lg bg-background-tertiary",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"DNS Provider"}),(0,a.jsx)("select",{value:y,onChange:e=>w(e.target.value),className:"w-full h-10 px-3 border border-border rounded-lg bg-background text-sm focus:outline-none focus:ring-2 focus:ring-brand",children:U.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(()=>{switch(y){case"cloudflare":return(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"API Token"}),(0,a.jsx)(l.Input,{type:"password",value:B.cloudflareApiToken||"",onChange:e=>K({...B,cloudflareApiToken:e.target.value}),placeholder:"Your Cloudflare API token"}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted",children:"Create a token with Zone:DNS:Edit permissions"})]})});case"route53":return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"AWS Access Key ID"}),(0,a.jsx)(l.Input,{type:"password",value:B.awsAccessKeyId||"",onChange:e=>K({...B,awsAccessKeyId:e.target.value}),placeholder:"AKIAIOSFODNN7EXAMPLE"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"AWS Secret Access Key"}),(0,a.jsx)(l.Input,{type:"password",value:B.awsSecretAccessKey||"",onChange:e=>K({...B,awsSecretAccessKey:e.target.value}),placeholder:"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"AWS Region (optional)"}),(0,a.jsx)(l.Input,{value:B.awsRegion||"",onChange:e=>K({...B,awsRegion:e.target.value}),placeholder:"us-east-1"})]})]});case"digitalocean":return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"API Token"}),(0,a.jsx)(l.Input,{type:"password",value:B.digitaloceanToken||"",onChange:e=>K({...B,digitaloceanToken:e.target.value}),placeholder:"Your DigitalOcean API token"})]});case"godaddy":return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"API Key"}),(0,a.jsx)(l.Input,{type:"password",value:B.godaddyApiKey||"",onChange:e=>K({...B,godaddyApiKey:e.target.value}),placeholder:"Your GoDaddy API key"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"API Secret"}),(0,a.jsx)(l.Input,{type:"password",value:B.godaddyApiSecret||"",onChange:e=>K({...B,godaddyApiSecret:e.target.value}),placeholder:"Your GoDaddy API secret"})]})]});case"google":return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Project ID"}),(0,a.jsx)(l.Input,{value:B.googleProjectId||"",onChange:e=>K({...B,googleProjectId:e.target.value}),placeholder:"your-gcp-project-id"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Service Account JSON"}),(0,a.jsx)("textarea",{value:B.googleServiceAccountJson||"",onChange:e=>K({...B,googleServiceAccountJson:e.target.value}),placeholder:"Paste your service account JSON here...",className:"w-full h-32 px-3 py-2 text-sm border border-border rounded-lg bg-background font-mono resize-none focus:outline-none focus:ring-2 focus:ring-brand"})]})]});default:return null}})()]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(T.A,{className:"h-4 w-4"}),"Key Type"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{C("rsa"),E(2048)},className:"p-3 border rounded-lg text-left transition-colors ".concat("rsa"===S?"border-brand bg-brand/10":"border-border hover:border-brand/50"),children:[(0,a.jsx)("p",{className:"font-medium",children:"RSA"}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted",children:"Maximum compatibility"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{C("ecdsa"),E(256)},className:"p-3 border rounded-lg text-left transition-colors ".concat("ecdsa"===S?"border-brand bg-brand/10":"border-border hover:border-brand/50"),children:[(0,a.jsx)("p",{className:"font-medium",children:"ECDSA"}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted",children:"Smaller, faster"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm text-foreground-muted",children:"Key Size"}),(0,a.jsx)("select",{value:A,onChange:e=>E(parseInt(e.target.value)),className:"w-full h-10 px-3 border border-border rounded-lg bg-background text-sm focus:outline-none focus:ring-2 focus:ring-brand",children:"rsa"===S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("option",{value:2048,children:"2048 bit (Recommended)"}),(0,a.jsx)("option",{value:4096,children:"4096 bit (Higher security)"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("option",{value:256,children:"P-256 (Recommended)"}),(0,a.jsx)("option",{value:384,children:"P-384 (Higher security)"})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-4 pt-4 border-t border-border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Auto-Renewal"}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted",children:"Automatically renew certificate before expiry"})]}),(0,a.jsx)(o.d,{checked:z,onCheckedChange:O})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Staging Mode"}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted",children:"Use Let's Encrypt staging server (for testing)"})]}),(0,a.jsx)(o.d,{checked:R,onCheckedChange:I})]})]}),R&&(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 border border-warning/50 bg-warning/5 rounded-lg",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-warning flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"Staging Mode Enabled"}),(0,a.jsx)("p",{className:"text-foreground-secondary mt-1",children:"Staging certificates are not trusted by browsers. Use only for testing."})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 border border-brand/30 bg-brand/5 rounded-lg",children:[(0,a.jsx)(F.A,{className:"h-5 w-5 text-brand flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"HTTP-01 Challenge Requirements"}),(0,a.jsx)("p",{className:"text-foreground-secondary mt-1",children:"Port 80 must be accessible from the internet. Make sure your firewall allows incoming connections on port 80 and your domain DNS is configured correctly."})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border",children:[(0,a.jsx)(c.Button,{variant:"outline",onClick:()=>Z(!0),disabled:!j||x||f,children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.y,{size:"sm",className:"mr-2"}),"Testing..."]}):"Test Configuration"}),(0,a.jsx)(c.Button,{onClick:()=>Z(!1),disabled:!j||x||f,children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.y,{size:"sm",className:"mr-2"}),"Obtaining Certificate..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"Obtain Certificate"]})})]})]})]})}var O=r(21786),B=r(89715),K=r(99187),Z=r(70532),V=r(57828),W=r(50859);function M(e){let{projectId:s,domain:r,onSuccess:n}=e,l=(0,h.d)(),[o,x]=(0,t.useState)(!1),[u,f]=(0,t.useState)(!1),[p,j]=(0,t.useState)(null),[v,N]=(0,t.useState)(""),[y,w]=(0,t.useState)(""),[S,C]=(0,t.useState)(""),[A,k]=(0,t.useState)(!1),E=(0,t.useCallback)(e=>s=>{var r;let a=null==(r=s.target.files)?void 0:r[0];if(!a)return;let t=new FileReader;t.onload=s=>{var r;let a=null==(r=s.target)?void 0:r.result;switch(e){case"certificate":N(a);break;case"privateKey":w(a);break;case"intermediates":C(a)}j(null)},t.readAsText(a)},[]),T=async()=>{if(!v||!y)return void l.error("Missing fields","Certificate and private key are required");x(!0),j(null);try{let e=await fetch("/api/v1/projects/".concat(s,"/certificate/validate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({certificate:v,privateKey:y,intermediates:S||void 0})}),r=await e.json();if(!r.success)throw Error(r.error||"Validation failed");j(r.data),r.data.valid?l.success("Validation passed","Certificate is valid and can be uploaded"):l.error("Validation failed","Please fix the errors below")}catch(s){let e=s instanceof Error?s.message:"Validation failed";l.error("Validation error",e)}finally{x(!1)}},R=async()=>{if(!v||!y)return void l.error("Missing fields","Certificate and private key are required");f(!0);try{let e=await fetch("/api/v1/projects/".concat(s,"/certificate/upload"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({certificate:v,privateKey:y,intermediates:S||void 0})}),r=await e.json();if(!r.success)throw Error(r.error||"Upload failed");l.success("Certificate uploaded","SSL certificate has been configured successfully"),null==n||n()}catch(s){let e=s instanceof Error?s.message:"Upload failed";l.error("Upload error",e)}finally{f(!1)}},I=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(O.A,{className:"h-5 w-5"}),"Upload Custom Certificate"]}),(0,a.jsxs)(i.BT,{children:["Upload your own SSL certificate for ",r]})]}),(0,a.jsxs)(i.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(B.A,{className:"h-4 w-4"}),"Certificate (PEM)"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"file",accept:".pem,.crt,.cer",onChange:E("certificate"),className:"hidden",id:"cert-upload"}),(0,a.jsxs)("label",{htmlFor:"cert-upload",className:"inline-flex items-center px-3 py-2 text-sm border border-border rounded-lg cursor-pointer hover:bg-background-tertiary transition-colors",children:[(0,a.jsx)(O.A,{className:"h-4 w-4 mr-2"}),"Choose File"]}),v&&(0,a.jsxs)(d.E,{variant:"success",className:"py-1",children:[(0,a.jsx)(L.A,{className:"h-3 w-3 mr-1"}),"Loaded"]})]}),(0,a.jsx)("textarea",{value:v,onChange:e=>{N(e.target.value),j(null)},placeholder:"-----BEGIN CERTIFICATE----- ... -----END CERTIFICATE-----",className:"w-full h-32 px-3 py-2 text-sm border border-border rounded-lg bg-background font-mono resize-none focus:outline-none focus:ring-2 focus:ring-brand"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(K.A,{className:"h-4 w-4"}),"Private Key (PEM)"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"file",accept:".pem,.key",onChange:E("privateKey"),className:"hidden",id:"key-upload"}),(0,a.jsxs)("label",{htmlFor:"key-upload",className:"inline-flex items-center px-3 py-2 text-sm border border-border rounded-lg cursor-pointer hover:bg-background-tertiary transition-colors",children:[(0,a.jsx)(O.A,{className:"h-4 w-4 mr-2"}),"Choose File"]}),y&&(0,a.jsxs)(d.E,{variant:"success",className:"py-1",children:[(0,a.jsx)(L.A,{className:"h-3 w-3 mr-1"}),"Loaded"]}),(0,a.jsx)(c.Button,{variant:"ghost",size:"sm",onClick:()=>k(!A),children:A?(0,a.jsx)(Z.A,{className:"h-4 w-4"}):(0,a.jsx)(V.A,{className:"h-4 w-4"})})]}),(0,a.jsx)("textarea",{value:A?y:y?"••••••••••••••••••••••••••••••••":"",onChange:e=>{A&&(w(e.target.value),j(null))},placeholder:"-----BEGIN PRIVATE KEY----- ... -----END PRIVATE KEY-----",className:"w-full h-32 px-3 py-2 text-sm border border-border rounded-lg bg-background font-mono resize-none focus:outline-none focus:ring-2 focus:ring-brand",readOnly:!A&&!!y}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted",children:"Your private key will be encrypted before storage"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(W.A,{className:"h-4 w-4"}),"Intermediate Chain (Optional)"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"file",accept:".pem,.crt,.cer",onChange:E("intermediates"),className:"hidden",id:"chain-upload"}),(0,a.jsxs)("label",{htmlFor:"chain-upload",className:"inline-flex items-center px-3 py-2 text-sm border border-border rounded-lg cursor-pointer hover:bg-background-tertiary transition-colors",children:[(0,a.jsx)(O.A,{className:"h-4 w-4 mr-2"}),"Choose File"]}),S&&(0,a.jsxs)(d.E,{variant:"success",className:"py-1",children:[(0,a.jsx)(L.A,{className:"h-3 w-3 mr-1"}),"Loaded"]})]}),(0,a.jsx)("textarea",{value:S,onChange:e=>{C(e.target.value),j(null)},placeholder:"-----BEGIN CERTIFICATE----- (CA/Intermediate certificates) -----END CERTIFICATE-----",className:"w-full h-24 px-3 py-2 text-sm border border-border rounded-lg bg-background font-mono resize-none focus:outline-none focus:ring-2 focus:ring-brand"}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted",children:"Include any intermediate certificates needed to complete the chain"})]}),p&&(0,a.jsxs)("div",{className:"space-y-3",children:[p.valid&&p.info?(0,a.jsxs)("div",{className:"p-4 border border-success/50 bg-success/5 rounded-lg space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(L.A,{className:"h-5 w-5 text-success"}),(0,a.jsx)("span",{className:"font-medium text-success",children:"Certificate Valid"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-foreground-muted",children:"Subject"}),(0,a.jsx)("p",{className:"font-medium",children:p.info.subject})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-foreground-muted",children:"Issuer"}),(0,a.jsx)("p",{className:"font-medium",children:p.info.issuer})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-foreground-muted",children:"Valid From"}),(0,a.jsx)("p",{className:"font-medium",children:I(p.info.validFrom)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-foreground-muted",children:"Valid Until"}),(0,a.jsx)("p",{className:"font-medium",children:I(p.info.validTo)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-foreground-muted",children:"Key Type"}),(0,a.jsxs)("p",{className:"font-medium",children:[p.info.keyType," (",p.info.keySize," bit)"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-foreground-muted",children:"Domains"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:p.info.domains.map(e=>(0,a.jsx)(d.E,{variant:"secondary",className:"text-xs",children:e},e))})]})]}),!p.info.domainMatch&&(0,a.jsxs)("div",{className:"flex items-start gap-2 p-2 bg-warning/10 rounded",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-warning mt-0.5"}),(0,a.jsxs)("p",{className:"text-xs text-warning",children:["Certificate domains don't match project domain (",r,")"]})]})]}):(0,a.jsxs)("div",{className:"p-4 border border-error/50 bg-error/5 rounded-lg space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-5 w-5 text-error"}),(0,a.jsx)("span",{className:"font-medium text-error",children:"Validation Failed"})]}),(0,a.jsx)("ul",{className:"list-disc list-inside text-sm text-error/80 space-y-1",children:p.errors.map((e,s)=>(0,a.jsx)("li",{children:e},s))})]}),p.warnings.length>0&&(0,a.jsxs)("div",{className:"p-4 border border-warning/50 bg-warning/5 rounded-lg space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-warning"}),(0,a.jsx)("span",{className:"font-medium text-warning",children:"Warnings"})]}),(0,a.jsx)("ul",{className:"list-disc list-inside text-sm text-warning/80 space-y-1",children:p.warnings.map((e,s)=>(0,a.jsx)("li",{children:e},s))})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border",children:[(0,a.jsx)(c.Button,{variant:"outline",onClick:T,disabled:!v||!y||o||u,children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.y,{size:"sm",className:"mr-2"}),"Validating..."]}):"Validate"}),(0,a.jsx)(c.Button,{onClick:R,disabled:!v||!y||o||u||null!==p&&!p.valid,children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.y,{size:"sm",className:"mr-2"}),"Uploading..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"Upload Certificate"]})})]})]})]})}var Y=r(11362);let _=[{id:"letsencrypt",label:"Let's Encrypt",description:"Free automatic SSL certificates with auto-renewal",icon:D.A},{id:"custom",label:"Custom Certificate",description:"Upload your own certificate and private key",icon:O.A},{id:"none",label:"No SSL",description:"HTTP only (not recommended for production)",icon:Y.A}];function J(e){let{value:s,onChange:r,disabled:t}=e;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"SSL Certificate Source"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:_.map(e=>{let n=e.icon,i=s===e.id;return(0,a.jsxs)("button",{type:"button",disabled:t,onClick:()=>r(e.id),className:"p-4 border rounded-lg text-left transition-colors ".concat(i?"border-brand bg-brand/10":"border-border hover:border-brand/50"," ").concat(t?"opacity-50 cursor-not-allowed":""),children:[(0,a.jsx)(n,{className:"h-5 w-5 mb-2 ".concat(i?"text-brand":"text-foreground-muted")}),(0,a.jsx)("p",{className:"font-medium",children:e.label}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted mt-1",children:e.description})]},e.id)})})]})}var q=r(93499),G=r(99708),H=r(34172),X=r(75426);function $(e){let{projectId:s,apiPort:r,serverHost:j,currentDomain:g}=e,v=(0,n.useRouter)(),N=(0,h.d)(),{isRunning:w}=(0,p.$)(s),[S,A]=(0,t.useState)(!1),[E,T]=(0,t.useState)(!1),[R,P]=(0,t.useState)(!1),[F,U]=(0,t.useState)(!1),[O,B]=(0,t.useState)(null),[K,Z]=(0,t.useState)(!0),[V,W]=(0,t.useState)("letsencrypt"),[_,$]=(0,t.useState)(g||{name:"",sslEnabled:!0,webServer:"nginx"}),Q=!!(null==g?void 0:g.name),ee=(0,t.useCallback)(async()=>{if(!Q)return void Z(!1);try{let e=await fetch("/api/v1/projects/".concat(s,"/certificate")),r=await e.json();r.success&&r.data?(B(r.data),W(r.data.source)):B(null)}catch(e){B(null)}finally{Z(!1)}},[s,Q]);(0,t.useEffect)(()=>{ee()},[ee]);let es=()=>{ee(),v.refresh()},er=async()=>{if(!_.name)return void N.error("Domain required","Please enter a domain name");if(!/^[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9](?:\.[a-zA-Z]{2,})+$/.test(_.name))return void N.error("Invalid domain","Please enter a valid domain name (e.g., api.example.com)");A(!0);try{let e=await fetch("/api/v1/projects/".concat(s,"/domain"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)}),r=await e.json();if(!r.success)throw Error(r.error||"Failed to save domain configuration");v.refresh(),w?N.toast({type:"success",title:"Domain configured",description:"Restart required for changes to take effect",action:{label:"Restart Now",onClick:()=>U(!0)},duration:15e3}):N.success("Domain configured","Start the project to apply the configuration")}catch(s){let e=s instanceof Error?s.message:"An error occurred";N.error("Failed to save domain",e)}finally{A(!1)}},ea=async()=>{T(!0);try{let e=await fetch("/api/v1/projects/".concat(s,"/domain"),{method:"DELETE"}),r=await e.json();if(!r.success)throw Error(r.error||"Failed to remove domain");$({name:"",sslEnabled:!0,webServer:"nginx"}),P(!1),v.refresh(),w?N.toast({type:"success",title:"Domain removed",description:"Restart required for changes to take effect",action:{label:"Restart Now",onClick:()=>U(!0)},duration:15e3}):N.success("Domain removed","The custom domain has been removed")}catch(s){let e=s instanceof Error?s.message:"An error occurred";N.error("Failed to remove domain",e)}finally{T(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(i.Zp,{className:"border-brand/30 bg-brand/5",children:(0,a.jsx)(i.Wu,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(k.A,{className:"h-5 w-5 text-brand flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"Custom Domain Configuration"}),(0,a.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:"Configure a custom domain to access your Supabase project. We'll generate the necessary web server configuration for you."})]})]})})}),Q&&(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(L.A,{className:"h-5 w-5 text-success"}),"Domain Active"]})}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-lg flex items-center justify-center ".concat((null==g?void 0:g.sslEnabled)?"bg-success/10":"bg-warning/10"),children:(null==g?void 0:g.sslEnabled)?(0,a.jsx)(y.A,{className:"h-5 w-5 text-success"}):(0,a.jsx)(D.A,{className:"h-5 w-5 text-warning"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("a",{href:"http".concat((null==g?void 0:g.sslEnabled)?"s":"","://").concat(null==g?void 0:g.name),target:"_blank",rel:"noopener noreferrer",className:"font-medium text-foreground hover:text-brand transition-colors flex items-center gap-1",children:[null==g?void 0:g.name,(0,a.jsx)(q.A,{className:"h-3 w-3"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(d.E,{variant:(null==g?void 0:g.sslEnabled)?"success":"warning",children:(null==g?void 0:g.sslEnabled)?"SSL Enabled":"No SSL"}),(0,a.jsx)(d.E,{variant:"secondary",className:"capitalize",children:null==g?void 0:g.webServer})]})]})]}),(0,a.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:()=>P(!0),className:"text-error hover:text-error",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 mr-2"}),"Remove"]})]})})]}),(0,a.jsxs)(u.tU,{defaultValue:"domain",children:[(0,a.jsxs)(u.j7,{children:[(0,a.jsxs)(u.Xi,{value:"domain",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Domain"]}),(0,a.jsxs)(u.Xi,{value:"certificate",disabled:!Q||!_.sslEnabled,children:[(0,a.jsx)(G.A,{className:"h-4 w-4 mr-2"}),"Certificate"]})]}),(0,a.jsxs)(u.av,{value:"domain",className:"space-y-6",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:Q?"Update Domain":"Configure Domain"}),(0,a.jsx)(i.BT,{children:"Enter your custom domain name and configure SSL settings"})]}),(0,a.jsxs)(i.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Domain Name"}),(0,a.jsx)(l.Input,{value:_.name,onChange:e=>$(s=>({...s,name:e.target.value})),placeholder:"api.example.com"}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted",children:"Enter the full domain name without http:// or https://"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Enable SSL (HTTPS)"}),(0,a.jsx)("p",{className:"text-sm text-foreground-muted",children:"Secure your domain with an SSL certificate"})]}),(0,a.jsx)(o.d,{checked:_.sslEnabled,onCheckedChange:e=>$(s=>({...s,sslEnabled:e}))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Web Server"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["nginx","apache","caddy"].map(e=>(0,a.jsxs)("button",{onClick:()=>$(s=>({...s,webServer:e})),className:"p-4 border rounded-lg text-left transition-colors ".concat(_.webServer===e?"border-brand bg-brand/10":"border-border hover:border-brand/50"),children:[(0,a.jsx)(H.A,{className:"h-5 w-5 mb-2 ".concat(_.webServer===e?"text-brand":"text-foreground-muted")}),(0,a.jsx)("p",{className:"font-medium capitalize",children:e}),(0,a.jsxs)("p",{className:"text-xs text-foreground-muted",children:["nginx"===e&&"Most popular","apache"===e&&"Traditional","caddy"===e&&"Auto HTTPS"]})]},e))})]})]})]}),_.name&&(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"DNS Configuration"}),(0,a.jsx)(i.BT,{children:"Add these DNS records at your domain registrar"})]}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-background-tertiary rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"A Record"}),(0,a.jsx)(c.Button,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText("YOUR_SERVER_IP"),N.success("Copied","Copied to clipboard")},children:(0,a.jsx)(X.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-foreground-muted",children:"Type:"}),(0,a.jsx)("span",{className:"ml-2 font-mono",children:"A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-foreground-muted",children:"Name:"}),(0,a.jsx)("span",{className:"ml-2 font-mono",children:_.name.split(".")[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-foreground-muted",children:"Value:"}),(0,a.jsx)("span",{className:"ml-2 font-mono",children:"YOUR_SERVER_IP"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 border border-warning/50 bg-warning/5 rounded-lg",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-warning flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"Important"}),(0,a.jsxs)("p",{className:"text-foreground-secondary mt-1",children:["Replace ",(0,a.jsx)("code",{className:"font-mono bg-background-tertiary px-1 rounded",children:"YOUR_SERVER_IP"})," with your actual server IP address. DNS propagation can take up to 48 hours."]})]})]}),(0,a.jsxs)("div",{className:"text-sm text-foreground-muted",children:[(0,a.jsx)("p",{children:"Your project will be accessible at:"}),(0,a.jsxs)("code",{className:"font-mono text-foreground",children:["http",_.sslEnabled?"s":"","://",_.name]}),(0,a.jsx)("p",{className:"mt-2",children:"Proxying to:"}),(0,a.jsxs)("code",{className:"font-mono text-foreground",children:["http://localhost:",r]})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(c.Button,{onClick:er,disabled:S||!_.name,children:S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.y,{size:"sm",className:"mr-2"}),"Saving..."]}):Q?"Update Domain":"Configure Domain"})})]}),(0,a.jsx)(u.av,{value:"certificate",className:"space-y-6",children:K?(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"py-12",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,a.jsx)(m.y,{size:"lg"}),(0,a.jsx)("p",{className:"text-foreground-muted",children:"Loading certificate information..."})]})})}):O?(0,a.jsx)(I,{projectId:s,certificate:O,onRemove:es,onRenew:es}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(i.Zp,{className:"border-warning/50 bg-warning/5",children:(0,a.jsx)(i.Wu,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(Y.A,{className:"h-5 w-5 text-warning flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"No SSL Certificate Configured"}),(0,a.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:"Your domain is configured for SSL but no certificate is installed. Choose a certificate source below to secure your connection."})]})]})})}),(0,a.jsx)(J,{value:V,onChange:W}),"letsencrypt"===V&&Q&&(0,a.jsx)(z,{projectId:s,domain:(null==g?void 0:g.name)||"",onSuccess:es}),"custom"===V&&Q&&(0,a.jsx)(M,{projectId:s,domain:(null==g?void 0:g.name)||"",onSuccess:es}),"none"===V&&(0,a.jsx)(i.Zp,{className:"border-error/50 bg-error/5",children:(0,a.jsx)(i.Wu,{className:"py-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-error flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"Not Recommended for Production"}),(0,a.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:"Running without SSL means all traffic is unencrypted. This should only be used for local development or behind a separate TLS termination proxy."}),(0,a.jsx)("p",{className:"text-sm text-foreground-secondary mt-2",children:'To disable SSL, go to the Domain tab and turn off "Enable SSL".'})]})]})})})]})})]})]}),(0,a.jsx)(x.lG,{open:R,onClose:()=>P(!1),title:"Remove Domain",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-foreground-secondary",children:["Are you sure you want to remove the custom domain ",(0,a.jsx)("strong",{children:null==g?void 0:g.name}),"? This will delete the web server configuration."]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)(c.Button,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),(0,a.jsx)(c.Button,{variant:"destructive",onClick:ea,disabled:E,children:E?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.y,{size:"sm",className:"mr-2"}),"Removing..."]}):"Remove Domain"})]})]})}),(0,a.jsx)(f.v,{projectId:s,apiPort:r,serverHost:j,open:F,onClose:()=>U(!1)})]})}},94999:(e,s,r)=>{Promise.resolve().then(r.bind(r,75314)),Promise.resolve().then(r.bind(r,89405)),Promise.resolve().then(r.bind(r,62927))}},e=>{e.O(0,[2903,2619,1334,3227,8441,1255,7358],()=>e(e.s=94999)),_N_E=e.O()}]);