(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1709],{6191:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},12108:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},15870:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},20063:(e,t,r)=>{"use strict";var s=r(47260);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},20523:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]])},24033:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},27937:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},37494:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},38022:(e,t,r)=>{"use strict";r.d(t,{ProjectCard:()=>M});var s=r(95155),a=r(52619),n=r.n(a),l=r(86948),i=r(11647),c=r(18653),d=r(20811),o=r(12115),h=r(20063),u=r(3998),m=r(51834),x=r(64269);function p(e){let{trigger:t,children:r,align:a="left",className:n}=e,[l,i]=(0,o.useState)(!1),c=(0,o.useRef)(null);return(0,o.useEffect)(()=>{function e(e){c.current&&!c.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,s.jsxs)("div",{className:(0,x.cn)("relative inline-block",n),ref:c,children:[(0,s.jsx)("div",{onClick:()=>i(!l),children:t}),l&&(0,s.jsx)("div",{className:(0,x.cn)("absolute z-50 mt-2 min-w-[180px] rounded-xl border border-border bg-background-elevated shadow-md","animate-in fade-in-0 zoom-in-95 duration-150","right"===a?"right-0":"left-0"),children:(0,s.jsx)("div",{className:"py-1",onClick:()=>i(!1),children:r})})]})}function y(e){let{children:t,onClick:r,disabled:a,destructive:n,className:l}=e;return(0,s.jsx)("button",{onClick:r,disabled:a,className:(0,x.cn)("w-full flex items-center gap-2 px-3 py-2 text-sm text-left transition-all duration-150","hover:bg-background-tertiary focus:bg-background-tertiary focus:outline-none",n?"text-error hover:text-error":"text-foreground-secondary hover:text-foreground",a&&"opacity-50 cursor-not-allowed",l),children:t})}function k(){return(0,s.jsx)("div",{className:"my-1 h-px bg-border"})}var v=r(67405);let j=(0,r(71847).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var g=r(15870),f=r(93499),b=r(71360),A=r(52056);function N(e){let{projectId:t,projectName:r,apiPort:a,serverHost:n}=e,l=(0,h.useRouter)(),{isRunning:i}=(0,v.$)(t),[d,x]=(0,o.useState)(!1),[N,w]=(0,o.useState)(!1),[C,M]=(0,o.useState)(!1),[P,z]=(0,o.useState)(null),E=async()=>{w(!0),z(null);try{let e=await fetch("/api/v1/projects/".concat(t,"?removeFiles=").concat(C),{method:"DELETE"});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to delete project")}x(!1),l.refresh()}catch(e){z(e instanceof Error?e.message:"An error occurred"),w(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(p,{trigger:(0,s.jsx)(u.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,s.jsx)(j,{className:"h-4 w-4"})}),align:"right",children:[(0,s.jsxs)(y,{onClick:()=>{l.push("/projects/".concat(t,"/settings"))},children:[(0,s.jsx)(g.A,{className:"h-4 w-4"}),"Settings"]}),(0,s.jsxs)(y,{onClick:()=>{i&&window.open("http://".concat(n,":").concat(a),"_blank")},disabled:!i,children:[(0,s.jsx)(f.A,{className:"h-4 w-4"}),"Open Studio",!i&&(0,s.jsx)("span",{className:"ml-auto text-xs text-foreground-muted",children:"(stopped)"})]}),(0,s.jsx)(k,{}),(0,s.jsxs)(y,{destructive:!0,onClick:()=>x(!0),children:[(0,s.jsx)(b.A,{className:"h-4 w-4"}),"Remove"]})]}),(0,s.jsx)(m.lG,{open:d,onClose:()=>!N&&x(!1),title:"Delete Project",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"h-12 w-12 rounded-full bg-error/10 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(A.A,{className:"h-6 w-6 text-error"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-foreground",children:["Are you sure you want to delete ",(0,s.jsx)("strong",{children:r}),"?"]}),(0,s.jsx)("p",{className:"text-sm text-foreground-muted mt-1",children:"This action cannot be undone. All containers will be stopped and removed."})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-background-tertiary rounded-lg",children:[(0,s.jsx)("input",{type:"checkbox",id:"removeFiles-".concat(t),checked:C,onChange:e=>M(e.target.checked),className:"h-4 w-4 rounded border-border"}),(0,s.jsxs)("label",{htmlFor:"removeFiles-".concat(t),className:"text-sm",children:["Also delete project files from disk",(0,s.jsx)("span",{className:"block text-xs text-foreground-muted",children:"This will permanently remove all project data including the Supabase directory"})]})]}),P&&(0,s.jsx)("div",{className:"p-3 bg-error/10 border border-error/20 rounded-lg text-sm text-error",children:P}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-border",children:[(0,s.jsx)(u.Button,{variant:"outline",onClick:()=>x(!1),disabled:N,children:"Cancel"}),(0,s.jsx)(u.Button,{variant:"destructive",onClick:E,disabled:N,children:N?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.y,{size:"sm",className:"mr-2"}),"Deleting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Delete Project"]})})]})]})})]})}var w=r(20523);let C={running:"success",stopped:"secondary",degraded:"warning",error:"error",starting:"warning",stopping:"warning",unknown:"secondary"};function M(e){let{project:t,serverHost:r}=e,{status:a,isLoading:o}=(0,v.$)(t.id);return(0,s.jsx)(l.Zp,{className:"hover:border-border-hover transition-colors",children:(0,s.jsxs)(l.Wu,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-lg bg-brand/10 flex items-center justify-center",children:(0,s.jsx)(w.A,{className:"h-5 w-5 text-brand"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n(),{href:"/projects/".concat(t.id),className:"font-semibold text-foreground hover:text-brand transition-colors",children:t.name}),(0,s.jsxs)("p",{className:"text-sm text-foreground-muted",children:["ID: ",t.id]})]})]}),(0,s.jsx)(N,{projectId:t.id,projectName:t.name,apiPort:t.ports.api,serverHost:r})]}),t.description&&(0,s.jsx)("p",{className:"text-sm text-foreground-secondary mb-4 line-clamp-2",children:t.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[o?(0,s.jsxs)(i.E,{variant:"secondary",children:[(0,s.jsx)(c.y,{size:"sm",className:"mr-1"}),"Checking..."]}):(0,s.jsx)(i.E,{variant:C[a]||"secondary",children:a.charAt(0).toUpperCase()+a.slice(1)}),(0,s.jsx)(d.ProjectActions,{projectId:t.id,apiPort:t.ports.api,serverHost:r})]}),(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-border",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-foreground-muted",children:"API Port:"})," ",(0,s.jsx)("span",{className:"text-foreground font-mono",children:t.ports.api})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-foreground-muted",children:"Database:"})," ",(0,s.jsx)("span",{className:"text-foreground font-mono",children:t.ports.db})]})]})})]})})}},50803:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])},52056:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},59e3:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},59427:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},61362:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},65229:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},65993:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},71360:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},76708:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,52619,23)),Promise.resolve().then(r.bind(r,89405)),Promise.resolve().then(r.bind(r,62927)),Promise.resolve().then(r.bind(r,38022)),Promise.resolve().then(r.bind(r,3998))},78874:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},79451:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},85921:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},93499:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])}},e=>{e.O(0,[2903,2619,1118,8441,1255,7358],()=>e(e.s=76708)),_N_E=e.O()}]);