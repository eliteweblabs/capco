(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5492],{6132:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6191:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},12108:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},20063:(e,s,t)=>{"use strict";var a=t(47260);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},23327:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},23664:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},24033:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},27937:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},28483:(e,s,t)=>{"use strict";t.d(s,{SmtpSettingsForm:()=>y});var a=t(95155),r=t(12115),n=t(86948),l=t(3998),i=t(65142),c=t(18653),d=t(63139),o=t(90240),h=t(67405),m=t(23664),u=t(93499),p=t(70532),x=t(57828);function y(e){let{projectId:s,apiPort:t,serverHost:y,inbucketPort:j}=e,{isRunning:k}=(0,h.$)(s),[f,v]=(0,r.useState)(!0),[N,A]=(0,r.useState)(!1),[b,w]=(0,r.useState)({host:"",port:587,user:"",password:"",adminEmail:"",senderName:""}),{isSaving:M,saveSettings:S,showRestartModal:C,closeRestartModal:P}=(0,o._)({projectId:s,category:"smtp"});(0,r.useEffect)(()=>{E()},[s]);let E=async()=>{v(!0);try{let e=await fetch("/api/v1/projects/".concat(s,"/settings?category=smtp")),t=await e.json();t.success&&w(t.data)}catch(e){}finally{v(!1)}};return f?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(c.y,{size:"lg"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(n.Zp,{className:"border-brand/30 bg-brand/5",children:(0,a.jsx)(n.Wu,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-brand flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"Email Configuration"}),(0,a.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:"Configure SMTP settings for sending authentication emails, password resets, and notifications. By default, Supabase uses Inbucket for local email testing."})]})]})})}),k&&(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-foreground-muted flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"Local Email Testing (Inbucket)"}),(0,a.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:"View all outgoing emails in the Inbucket web interface during development."})]})]}),(0,a.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>window.open("http://localhost:".concat(j),"_blank"),children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Open Inbucket"]})]})})}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"SMTP Server"}),(0,a.jsx)(n.BT,{children:"Configure your SMTP server for sending emails (e.g., SendGrid, Mailgun, AWS SES)"})]}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"SMTP Host"}),(0,a.jsx)(i.Input,{value:b.host,onChange:e=>w(s=>({...s,host:e.target.value})),placeholder:"smtp.example.com"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"SMTP Port"}),(0,a.jsx)(i.Input,{type:"number",value:b.port,onChange:e=>w(s=>({...s,port:parseInt(e.target.value,10)||587})),placeholder:"587"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Username"}),(0,a.jsx)(i.Input,{value:b.user,onChange:e=>w(s=>({...s,user:e.target.value})),placeholder:"smtp-user@example.com"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Input,{type:N?"text":"password",value:b.password,onChange:e=>w(s=>({...s,password:e.target.value})),placeholder:"Enter SMTP password",className:"pr-10"}),(0,a.jsx)("button",{type:"button",onClick:()=>A(!N),className:"absolute right-3 top-1/2 -translate-y-1/2 text-foreground-muted hover:text-foreground",children:N?(0,a.jsx)(p.A,{className:"h-4 w-4"}):(0,a.jsx)(x.A,{className:"h-4 w-4"})})]})]})]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Sender Information"}),(0,a.jsx)(n.BT,{children:'Configure the "From" address and name for outgoing emails'})]}),(0,a.jsx)(n.Wu,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Admin Email"}),(0,a.jsx)(i.Input,{type:"email",value:b.adminEmail,onChange:e=>w(s=>({...s,adminEmail:e.target.value})),placeholder:"admin@example.com"}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted",children:"Used as the sender address for authentication emails"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Sender Name"}),(0,a.jsx)(i.Input,{value:b.senderName,onChange:e=>w(s=>({...s,senderName:e.target.value})),placeholder:"My App"}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted",children:"Display name shown to email recipients"})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Common SMTP Providers"}),(0,a.jsx)(n.BT,{children:"Quick reference for popular SMTP services"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(g,{name:"SendGrid",host:"smtp.sendgrid.net",port:587,notes:"Use API key as password"}),(0,a.jsx)(g,{name:"Mailgun",host:"smtp.mailgun.org",port:587,notes:"Use sandbox domain for testing"}),(0,a.jsx)(g,{name:"AWS SES",host:"email-smtp.{region}.amazonaws.com",port:587,notes:"Use SES SMTP credentials"})]})})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(l.Button,{onClick:()=>{S(b)},disabled:M,children:M?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.y,{size:"sm",className:"mr-2"}),"Saving..."]}):"Save Changes"})})]}),(0,a.jsx)(d.v,{projectId:s,apiPort:t,serverHost:y,open:C,onClose:P})]})}function g(e){let{name:s,host:t,port:r,notes:n}=e;return(0,a.jsxs)("div",{className:"p-4 border border-border rounded-lg",children:[(0,a.jsx)("p",{className:"font-medium mb-2",children:s}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-foreground-muted",children:"Host:"})," ",(0,a.jsx)("code",{className:"font-mono text-xs",children:t})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-foreground-muted",children:"Port:"})," ",(0,a.jsx)("code",{className:"font-mono text-xs",children:r})]}),(0,a.jsx)("p",{className:"text-xs text-foreground-muted mt-2",children:n})]})]})}},37494:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},42529:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},50803:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])},52056:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},57828:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},59427:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},61362:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},65229:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},65993:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},70532:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},71587:(e,s,t)=>{Promise.resolve().then(t.bind(t,28483)),Promise.resolve().then(t.bind(t,89405)),Promise.resolve().then(t.bind(t,62927))},78874:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},79451:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},89559:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},90240:(e,s,t)=>{"use strict";t.d(s,{_:()=>i});var a=t(12115),r=t(20063),n=t(1275),l=t(67405);function i(e){let{projectId:s,category:t}=e,i=(0,r.useRouter)(),c=(0,n.d)(),{isRunning:d}=(0,l.$)(s),[o,h]=(0,a.useState)(!1),[m,u]=(0,a.useState)(!1);return{isSaving:o,saveSettings:(0,a.useCallback)(async e=>{h(!0);try{let a=await fetch("/api/v1/projects/".concat(s,"/settings"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:t,settings:e})}),r=await a.json();if(!r.success)throw Error(r.error||"Failed to save settings");return i.refresh(),d?c.toast({type:"success",title:"Settings saved",description:"Restart required for changes to take effect",action:{label:"Restart Now",onClick:()=>u(!0)},duration:15e3}):c.success("Settings saved","Start the project to apply the new configuration"),{success:!0}}catch(s){let e=s instanceof Error?s.message:"An error occurred";return c.error("Failed to save settings",e),{success:!1,error:e}}finally{h(!1)}},[s,t,d,i,c]),showRestartModal:m,closeRestartModal:(0,a.useCallback)(()=>{u(!1)},[])}}},93499:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])}},e=>{e.O(0,[2903,2619,3227,8441,1255,7358],()=>e(e.s=71587)),_N_E=e.O()}]);