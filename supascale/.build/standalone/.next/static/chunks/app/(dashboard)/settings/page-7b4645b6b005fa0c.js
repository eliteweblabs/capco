(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1670],{3130:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ep});var t=a(95155),r=a(12115),n=a(13406),i=a(86948),l=a(3998),c=a(65142),d=a(18653),o=a(1275),m=a(11647),x=a(20508),u=a(17910),h=a(16485),p=a(46046),f=a(64269);function j(){let e=(0,o.d)(),[s,a]=(0,r.useState)(!0),[n,j]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null),[v,b]=(0,r.useState)("");(0,r.useEffect)(()=>{!async function(){try{let e=await fetch("/api/v1/settings/profile"),s=await e.json();s.success&&(y(s.data),b(s.data.username))}catch(s){console.error("Failed to fetch profile:",s),e.error("Error","Failed to load profile")}finally{a(!1)}}()},[e]);let N=async()=>{if(!v.trim())return void e.error("Error","Username is required");if(v.length<3)return void e.error("Error","Username must be at least 3 characters");j(!0);try{let s=await fetch("/api/v1/settings/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:v})}),a=await s.json();if(!a.success)throw Error(a.error||"Failed to update profile");e.success("Profile updated","Your username has been updated"),y(e=>e?{...e,username:v}:null)}catch(a){let s=a instanceof Error?a.message:"Failed to update profile";e.error("Error",s)}finally{j(!1)}};return s?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(d.y,{size:"lg"})}):(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsx)(i.ZB,{className:"text-lg",children:"Profile Information"})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-background-tertiary rounded-lg",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-brand/10 flex items-center justify-center shrink-0",children:(0,t.jsx)(x.A,{className:"h-6 w-6 text-brand"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("h3",{className:"font-semibold truncate",children:null==g?void 0:g.username}),(0,t.jsxs)(m.E,{variant:(null==g?void 0:g.role)==="admin"?"info":"secondary",children:[(0,t.jsx)(u.A,{className:"h-3 w-3 mr-1"}),null==g?void 0:g.role]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-xs text-foreground-muted",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.A,{className:"h-3 w-3"}),(0,t.jsxs)("span",{children:["Joined ",(null==g?void 0:g.createdAt)?(0,f.Yq)(g.createdAt):"N/A"]})]}),(null==g?void 0:g.lastLogin)&&(0,t.jsxs)("span",{children:["Last login: ",(0,f.Yq)(g.lastLogin)]})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-[1fr,auto] items-end",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Username"}),(0,t.jsx)(c.Input,{value:v,onChange:e=>b(e.target.value),placeholder:"Enter your username"}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:"Your display name and login username"})]}),(0,t.jsx)(l.Button,{onClick:N,disabled:n||v===(null==g?void 0:g.username),children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.y,{size:"sm",className:"mr-2"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Save"]})})]})]})]})}var g=a(5370),y=a(70532),v=a(57828);function b(){let e=(0,o.d)(),[s,a]=(0,r.useState)(!1),[n,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,j]=(0,r.useState)(""),b=async s=>{if(s.preventDefault(),!x)return void e.error("Error","Current password is required");if(h.length<8)return void e.error("Error","New password must be at least 8 characters");if(h!==f)return void e.error("Error","Passwords do not match");a(!0);try{let s=await fetch("/api/v1/settings/password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:x,newPassword:h,confirmPassword:f})}),a=await s.json();if(!a.success)throw Error(a.error||"Failed to change password");e.success("Password changed","Your password has been updated successfully"),u(""),p(""),j("")}catch(a){let s=a instanceof Error?a.message:"Failed to change password";e.error("Error",s)}finally{a(!1)}};return(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(i.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"h-5 w-5"}),"Change Password"]}),(0,t.jsx)(l.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!n),children:n?(0,t.jsx)(y.A,{className:"h-4 w-4"}):(0,t.jsx)(v.A,{className:"h-4 w-4"})})]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("form",{onSubmit:b,className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Current Password"}),(0,t.jsx)(c.Input,{type:n?"text":"password",value:x,onChange:e=>u(e.target.value),placeholder:"Current password",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"New Password"}),(0,t.jsx)(c.Input,{type:n?"text":"password",value:h,onChange:e=>p(e.target.value),placeholder:"Min 8 characters",required:!0,minLength:8})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Confirm Password"}),(0,t.jsx)(c.Input,{type:n?"text":"password",value:f,onChange:e=>j(e.target.value),placeholder:"Confirm password",required:!0})]})]}),f&&h!==f&&(0,t.jsx)("p",{className:"text-xs text-error",children:"Passwords do not match"}),(0,t.jsx)("div",{className:"flex justify-end pt-2",children:(0,t.jsx)(l.Button,{type:"submit",disabled:s||!x||!h||h!==f,children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.y,{size:"sm",className:"mr-2"}),"Changing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Change Password"]})})})]})})]})}var N=a(52056),w=a(75426),k=a(6191),S=a(5917),A=a(71360);let C={projects:"read",backups:"read",tasks:"read",cloudStorage:"read",system:"none"};function E(){let e=(0,o.d)(),[s,a]=(0,r.useState)(!0),[n,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)([]),[j,b]=(0,r.useState)(null),[E,F]=(0,r.useState)(null),[P,T]=(0,r.useState)({}),[B,I]=(0,r.useState)(null),[O,z]=(0,r.useState)({name:"",permissions:{...C},expiresIn:"never"}),U=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/v1/settings/api-keys"),s=await e.json();s.success&&f(s.data)}catch(e){console.error("Failed to fetch API keys:",e)}finally{a(!1)}},[]);(0,r.useEffect)(()=>{U()},[U]);let R=async s=>{if(s.preventDefault(),!O.name.trim())return void e.error("Error","Please enter a name for the API key");m(!0);try{let s=await fetch("/api/v1/settings/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:O.name,permissions:O.permissions,expiresAt:(e=>{if("never"===e)return;let s=new Date;switch(e){case"30days":s.setDate(s.getDate()+30);break;case"90days":s.setDate(s.getDate()+90);break;case"1year":s.setFullYear(s.getFullYear()+1)}return s.toISOString()})(O.expiresIn)})}),a=await s.json();if(!a.success)throw Error(a.error||"Failed to create API key");b(a.data.fullKey),e.success("API Key Created","Make sure to copy your key now!"),z({name:"",permissions:{...C},expiresIn:"never"}),h(!1),U()}catch(a){let s=a instanceof Error?a.message:"Failed to create API key";e.error("Error",s)}finally{m(!1)}},Z=async s=>{if(confirm("Are you sure you want to delete this API key? This action cannot be undone."))try{let a=await fetch("/api/v1/settings/api-keys?id=".concat(s),{method:"DELETE"}),t=await a.json();if(!t.success)throw Error(t.error||"Failed to delete API key");e.success("API Key Deleted","The API key has been revoked"),U()}catch(a){let s=a instanceof Error?a.message:"Failed to delete API key";e.error("Error",s)}},W=async(s,a)=>{try{await navigator.clipboard.writeText(s),a&&(F(a),setTimeout(()=>F(null),2e3)),e.success("Copied","API key copied to clipboard")}catch(s){e.error("Error","Failed to copy to clipboard")}},D=async s=>{if(P[s])return void T(e=>{let a={...e};return delete a[s],a});I(s);try{let e=await fetch("/api/v1/settings/api-keys/".concat(s,"/reveal")),a=await e.json();if(!a.success)throw Error(a.error||"Failed to reveal API key");T(e=>({...e,[s]:a.data.fullKey}))}catch(a){let s=a instanceof Error?a.message:"Failed to reveal API key";e.error("Error",s)}finally{I(null)}},K=async s=>{if(P[s])return void await W(P[s],s);try{let e=await fetch("/api/v1/settings/api-keys/".concat(s,"/reveal")),a=await e.json();if(!a.success)throw Error(a.error||"Failed to get API key");await W(a.data.fullKey,s)}catch(a){let s=a instanceof Error?a.message:"Failed to copy API key";e.error("Error",s)}},L=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),M=e=>!!e&&new Date(e)<new Date;return s?(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"flex items-center justify-center py-8",children:(0,t.jsx)(d.y,{})})}):(0,t.jsxs)("div",{className:"space-y-4",children:[j&&(0,t.jsx)(i.Zp,{className:"border-yellow-500 bg-yellow-500/10",children:(0,t.jsx)(i.Wu,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(N.A,{className:"h-5 w-5 text-yellow-500 shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("p",{className:"font-medium text-yellow-500",children:"Save your API key now!"}),(0,t.jsx)("p",{className:"text-sm text-foreground-muted",children:"This is the only time you will see this key. Copy it and store it securely."}),(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-background rounded-md p-2 font-mono text-sm",children:[(0,t.jsx)("code",{className:"flex-1 break-all",children:j}),(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>W(j),children:(0,t.jsx)(w.A,{className:"h-4 w-4"})})]}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>b(null),children:"I've saved my key"})]})]})})}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(i.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"h-5 w-5"}),"API Keys"]}),(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>h(!x),children:[(0,t.jsx)(k.A,{className:"h-4 w-4 mr-1"}),"New Key"]})]})}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("p",{className:"text-sm text-foreground-muted mb-4",children:"API keys allow external applications to access the Supascale API on your behalf. Keep your keys secure and never share them publicly."}),x&&(0,t.jsxs)("form",{onSubmit:R,className:"mb-6 p-4 border rounded-lg bg-background-subtle space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Key Name"}),(0,t.jsx)(c.Input,{value:O.name,onChange:e=>z(s=>({...s,name:e.target.value})),placeholder:"e.g., Production Server",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Permissions"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.keys(C).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-1",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("span",{className:"text-sm font-medium capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),(0,t.jsxs)("p",{className:"text-xs text-foreground-muted",children:["projects"===e&&"Manage projects, domains, certificates, settings","backups"===e&&"Create and restore backups","tasks"===e&&"Manage scheduled tasks","cloudStorage"===e&&"Manage cloud storage providers","system"===e&&"System logs, resources, process management"]})]}),(0,t.jsx)("div",{className:"flex gap-1 ml-4",children:["none","read","write"].map(s=>(0,t.jsx)(l.Button,{type:"button",variant:O.permissions[e]===s?"primary":"outline",size:"sm",className:"px-2 py-1 text-xs",onClick:()=>{z(a=>({...a,permissions:{...a.permissions,[e]:s}}))},children:s},s))})]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Expiration"}),(0,t.jsxs)("select",{value:O.expiresIn,onChange:e=>z(s=>({...s,expiresIn:e.target.value})),className:"w-full px-3 py-2 rounded-md border bg-background",children:[(0,t.jsx)("option",{value:"never",children:"Never"}),(0,t.jsx)("option",{value:"30days",children:"30 days"}),(0,t.jsx)("option",{value:"90days",children:"90 days"}),(0,t.jsx)("option",{value:"1year",children:"1 year"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),(0,t.jsxs)(l.Button,{type:"submit",disabled:n,children:[n?(0,t.jsx)(d.y,{className:"mr-2"}):null,"Create Key"]})]})]}),0===p.length?(0,t.jsxs)("div",{className:"text-center py-8 text-foreground-muted",children:[(0,t.jsx)(u.A,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"No API keys yet"}),(0,t.jsx)("p",{className:"text-sm",children:"Create an API key to get started"})]}):(0,t.jsx)("div",{className:"space-y-2",children:p.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg ".concat(M(e.expiresAt)?"opacity-50 bg-background-subtle":""),children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium truncate",children:e.name}),M(e.expiresAt)&&(0,t.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded bg-red-500/10 text-red-500",children:"Expired"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-foreground-muted mt-0.5",children:[(0,t.jsx)("code",{className:"font-mono",children:P[e.id]?P[e.id]:"".concat(e.keyPrefix,"...")}),(0,t.jsxs)("span",{children:["Created ",L(e.createdAt)]}),e.lastUsedAt&&(0,t.jsxs)("span",{children:["Last used ",L(e.lastUsedAt)]}),e.expiresAt&&!M(e.expiresAt)&&(0,t.jsxs)("span",{children:["Expires ",L(e.expiresAt)]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 ml-4",children:[(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>D(e.id),disabled:B===e.id,title:P[e.id]?"Hide key":"Reveal key",children:B===e.id?(0,t.jsx)(d.y,{className:"h-4 w-4"}):P[e.id]?(0,t.jsx)(y.A,{className:"h-4 w-4"}):(0,t.jsx)(v.A,{className:"h-4 w-4"})}),(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>K(e.id),title:"Copy full key",children:E===e.id?(0,t.jsx)(S.A,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(w.A,{className:"h-4 w-4"})}),(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>Z(e.id),className:"text-red-500 hover:text-red-600",title:"Delete key",children:(0,t.jsx)(A.A,{className:"h-4 w-4"})})]})]},e.id))})]})]})]})}var F=a(54485),P=a(89559),T=a(42529),B=a(78874),I=a(79451),O=a(39068);function z(e){if(!e)return null;if("string"==typeof e)return e;if("object"==typeof e){if("message"in e&&e.message)return String(e.message);if("error"in e&&e.error)return String(e.error);try{return JSON.stringify(e)}catch(e){}}return null}function U(){let e=(0,o.d)(),[s,a]=(0,r.useState)(!0),[n,c]=(0,r.useState)(!1),[x,u]=(0,r.useState)([]),[h,p]=(0,r.useState)(0),[j,g]=(0,r.useState)(0),y=async function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&c(!0);try{let e=await fetch("/api/v1/settings/login-history?limit=".concat(20,"&offset=").concat(s)),a=await e.json();a.success&&(u(a.data),p(a.total),g(s))}catch(s){console.error("Failed to fetch login history:",s),e.error("Error","Failed to load login history")}finally{a(!1),c(!1)}};if((0,r.useEffect)(()=>{y()},[]),s)return(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(d.y,{size:"lg"})});let v=j+20<h;return(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(F.A,{className:"h-5 w-5"}),"Login History"]}),(0,t.jsx)(i.BT,{children:"Your recent authentication activity"})]}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>y(0,!0),disabled:n,children:n?(0,t.jsx)(d.y,{size:"sm"}):(0,t.jsx)(P.A,{className:"h-4 w-4"})})]})}),(0,t.jsxs)(i.Wu,{children:[0===x.length?(0,t.jsxs)("div",{className:"text-center py-8 text-foreground-muted",children:[(0,t.jsx)(F.A,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,t.jsx)("p",{children:"No login history found"})]}):(0,t.jsx)("div",{className:"space-y-3",children:x.map(e=>{let{browser:s,os:a}=(e=>{if(!e)return{browser:"Unknown",os:"Unknown"};let s="Unknown",a="Unknown";return e.includes("Firefox")?s="Firefox":e.includes("Edg")?s="Edge":e.includes("Chrome")?s="Chrome":e.includes("Safari")&&(s="Safari"),e.includes("Windows")?a="Windows":e.includes("Mac OS")?a="macOS":e.includes("Linux")?a="Linux":e.includes("Android")?a="Android":e.includes("iOS")&&(a="iOS"),{browser:s,os:a}})(e.userAgent),r="success"===e.status;return(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-background-tertiary rounded-lg",children:[(0,t.jsx)("div",{className:"p-2 rounded-full ".concat(r?"bg-success/10":"bg-error/10"),children:r?(0,t.jsx)(T.A,{className:"h-5 w-5 text-success"}):(0,t.jsx)(B.A,{className:"h-5 w-5 text-error"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-medium",children:"login"===e.action?"Sign in":e.action}),(0,t.jsx)(m.E,{variant:r?"success":"error",children:r?"Success":"Failed"})]}),e.details&&z(e.details)&&(0,t.jsx)("p",{className:"text-sm text-foreground-muted mb-2",children:z(e.details)}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-xs text-foreground-muted",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(I.A,{className:"h-3.5 w-3.5"}),(0,t.jsxs)("span",{children:[s," on ",a]})]}),e.ipAddress&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(O.A,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{children:e.ipAddress})]})]})]}),(0,t.jsxs)("div",{className:"text-xs text-foreground-muted text-right shrink-0",children:[(0,t.jsx)("div",{children:(0,f.fw)(e.createdAt)}),(0,t.jsx)("div",{className:"mt-1",children:(0,f.Yq)(e.createdAt)})]})]},e.id)})}),h>20&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[(0,t.jsxs)("p",{className:"text-sm text-foreground-muted",children:["Showing ",j+1," - ",Math.min(j+20,h)," of ",h]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>y(j-20),disabled:!(j>0)||n,children:"Previous"}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>y(j+20),disabled:!v||n,children:"Next"})]})]})]})]})})}var R=a(34172),Z=a(1375),W=a(32320),D=a(26983),K=a(15870),L=a(6132),M=a(50906),H=a(63581),J=a(85710);function X(e){if(!e)return null;if("string"==typeof e)return e;if("object"==typeof e){if("stderr"in e&&e.stderr)return String(e.stderr);if("stdout"in e&&e.stdout)return String(e.stdout);if("message"in e&&e.message)return String(e.message);if("error"in e&&e.error)return String(e.error);try{return JSON.stringify(e)}catch(e){return"[Complex object]"}}return null}let Y={project:R.A,backup:Z.A,"cloud-storage":W.A,schedule:D.A,task:D.A,auth:u.A,settings:K.A},q={project:"Project",backup:"Backup","cloud-storage":"Cloud Storage",schedule:"Schedule",task:"Task",auth:"Authentication",settings:"Settings"};function _(){let e=(0,o.d)(),[s,a]=(0,r.useState)(!0),[n,c]=(0,r.useState)(!1),[x,u]=(0,r.useState)([]),[h,p]=(0,r.useState)(0),[j,g]=(0,r.useState)(0),[y,v]=(0,r.useState)(""),[b,N]=(0,r.useState)(""),[w,k]=(0,r.useState)(!1),S=async function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&c(!0);try{let e=new URLSearchParams({limit:"30",offset:s.toString()});y&&e.append("type",y),b&&e.append("status",b);let a=await fetch("/api/v1/settings/activity-history?".concat(e)),t=await a.json();t.success&&(u(t.data),p(t.total),g(s))}catch(s){console.error("Failed to fetch activity history:",s),e.error("Error","Failed to load activity history")}finally{a(!1),c(!1)}};if((0,r.useEffect)(()=>{S(0)},[y,b]),s)return(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(d.y,{size:"lg"})});let A=j+30<h;return(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(M.A,{className:"h-5 w-5"}),"Activity History"]}),(0,t.jsx)(i.BT,{children:"All actions and events in your account"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(l.Button,{variant:w?"primary":"outline",size:"sm",onClick:()=>k(!w),children:[(0,t.jsx)(H.A,{className:"h-4 w-4 mr-1"}),"Filters"]}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>S(0,!0),disabled:n,children:n?(0,t.jsx)(d.y,{size:"sm"}):(0,t.jsx)(P.A,{className:"h-4 w-4"})})]})]}),w&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-border mt-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-foreground-muted",children:"Type"}),(0,t.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"block w-40 px-3 py-1.5 text-sm bg-background-secondary border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,t.jsx)("option",{value:"",children:"All types"}),["project","backup","cloud-storage","schedule","task","auth","settings"].map(e=>(0,t.jsx)("option",{value:e,children:q[e]||e},e))]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-foreground-muted",children:"Status"}),(0,t.jsxs)("select",{value:b,onChange:e=>N(e.target.value),className:"block w-40 px-3 py-1.5 text-sm bg-background-secondary border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,t.jsx)("option",{value:"",children:"All statuses"}),["success","failure","pending"].map(e=>(0,t.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]}),(y||b)&&(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>{v(""),N("")},children:"Clear filters"})})]})]}),(0,t.jsxs)(i.Wu,{children:[0===x.length?(0,t.jsxs)("div",{className:"text-center py-8 text-foreground-muted",children:[(0,t.jsx)(M.A,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,t.jsx)("p",{children:"No activity found"}),(y||b)&&(0,t.jsx)("p",{className:"text-sm mt-1",children:"Try adjusting your filters"})]}):(0,t.jsx)("div",{className:"space-y-2",children:x.map(e=>{let s=Y[e.type]||J.A;return(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-background-tertiary rounded-lg hover:bg-background-secondary transition-colors",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-background-secondary",children:(0,t.jsx)(s,{className:"h-4 w-4 text-foreground-muted"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:"font-medium text-sm",children:e.action}),(0,t.jsx)(m.E,{variant:"secondary",children:q[e.type]||e.type}),(0,t.jsxs)(m.E,{variant:(e=>{switch(e){case"success":return"success";case"failure":case"failed":return"error";default:return"warning"}})(e.status),children:[(e=>{switch(e){case"success":return(0,t.jsx)(T.A,{className:"h-4 w-4 text-success"});case"failure":case"failed":return(0,t.jsx)(B.A,{className:"h-4 w-4 text-error"});default:return(0,t.jsx)(L.A,{className:"h-4 w-4 text-warning"})}})(e.status),(0,t.jsx)("span",{className:"ml-1",children:e.status})]})]}),e.details&&X(e.details)&&(0,t.jsx)("p",{className:"text-xs text-foreground-muted mt-1 line-clamp-2",children:X(e.details)}),e.errorMessage&&(0,t.jsx)("p",{className:"text-xs text-error mt-1 line-clamp-2",children:e.errorMessage})]}),(0,t.jsx)("div",{className:"text-xs text-foreground-muted text-right shrink-0",children:(0,t.jsx)("div",{children:(0,f.fw)(e.timestamp)})})]},e.id)})}),h>30&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[(0,t.jsxs)("p",{className:"text-sm text-foreground-muted",children:["Showing ",j+1," - ",Math.min(j+30,h)," of ",h]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>S(j-30),disabled:!(j>0)||n,children:"Previous"}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>S(j+30),disabled:!A||n,children:"Next"})]})]})]})]})})}var V=a(61062),G=a(26617),$=a(68695),Q=a(39867),ee=a(25164);function es(){let e=(0,o.d)(),{updateInfo:s,isChecking:a,checkError:r,checkForUpdates:n,showUpdateDialog:c}=(0,V.xS)(),x=async()=>{let s=await n(!0);s?s.updateAvailable?e.info("Update Available","Version ".concat(s.latestVersion," is available")):e.success("Up to date","You are running the latest version"):e.error("Check Failed","Unable to check for updates. Please try again later.")},u=r&&!s,h=null==s?void 0:s.updateAvailable;return(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)(i.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(G.A,{className:"h-5 w-5"}),"Software Updates"]})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-background-tertiary rounded-lg",children:[(0,t.jsx)("div",{className:"p-2 rounded-full shrink-0 ".concat(u?"bg-warning/10":h?"bg-brand/10":"bg-success/10"),children:u?(0,t.jsx)(L.A,{className:"h-6 w-6 text-warning"}):h?(0,t.jsx)($.A,{className:"h-6 w-6 text-brand"}):(0,t.jsx)(T.A,{className:"h-6 w-6 text-success"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:"font-semibold",children:u?"Unable to Check":h?"Update Available":"Up to Date"}),h&&(0,t.jsx)(m.E,{variant:"info",children:"New"})]}),(0,t.jsx)("p",{className:"text-sm text-foreground-muted",children:u?r:h?"v".concat(s.latestVersion," is available"):"Running the latest version"})]}),(0,t.jsxs)("div",{className:"text-right shrink-0",children:[(0,t.jsx)("div",{className:"text-lg font-mono font-semibold",children:ee.Xe}),(0,t.jsx)("div",{className:"text-xs text-foreground-muted",children:"Current"})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(null==s?void 0:s.lastChecked)&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-foreground-muted",children:[(0,t.jsx)(D.A,{className:"h-3.5 w-3.5"}),(0,t.jsxs)("span",{children:["Checked ",(0,f.fw)(s.lastChecked)]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(null==s?void 0:s.updateAvailable)&&(0,t.jsxs)(l.Button,{size:"sm",onClick:c,children:[(0,t.jsx)(Q.A,{className:"h-4 w-4 mr-1.5"}),"Download & Install"]}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:x,disabled:a,children:a?(0,t.jsx)(d.y,{size:"sm"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.A,{className:"h-4 w-4 mr-1.5"}),"Check Now"]})})]})]}),(null==s?void 0:s.updateAvailable)&&s.releaseNotes&&(0,t.jsxs)("div",{className:"pt-2 border-t border-border",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium mb-2",children:["Release Notes - v",s.latestVersion]}),(0,t.jsx)("div",{className:"p-3 bg-background-tertiary rounded-lg text-sm whitespace-pre-wrap max-h-40 overflow-auto",children:s.releaseNotes})]}),(0,t.jsxs)("div",{className:"pt-2 border-t border-border",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"About Updates"}),(0,t.jsx)("p",{className:"text-sm text-foreground-muted",children:"Updates are automatically checked daily. When an update is available, you can download and install it directly from this page. Your data (database, backups, configuration) will be preserved during the update process."})]})]})]})}var ea=a(23327),et=a(85998),er=a(23664),en=a(86604),ei=a(20523),el=a(58734),ec=a(12229),ed=a(44846);function eo(){let e=(0,o.d)(),[s,a]=(0,r.useState)(null),[n,x]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null),[f,j]=(0,r.useState)(""),[g,b]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[S,A]=(0,r.useState)({serverHost:"localhost"}),[C,E]=(0,r.useState)(!0),[F,B]=(0,r.useState)(!1),[I,z]=(0,r.useState)({enableEmail:!1,emailProvider:"resend",resendApiKey:"",resendFromEmail:"",notificationEmail:"",notifyOnBackupFailure:!0,notifyOnBackupSuccess:!1,notifyOnTaskFailure:!0,notifyOnProjectDown:!0,notifyOnUpdateAvailable:!0}),[U,Z]=(0,r.useState)(!1),[W,D]=(0,r.useState)(!1),[K,L]=(0,r.useState)(!1),M=(0,r.useCallback)(async()=>{try{x(!0),h(null);let e=await fetch("/api/v1/system/container-settings"),s=await e.json();s.success?a(s.data):h(s.error||"Failed to fetch container settings")}catch(e){h("Failed to connect to server")}finally{x(!1)}},[]),H=(0,r.useCallback)(async()=>{try{E(!0);let i=await fetch("/api/v1/settings"),l=await i.json();if(l.success){var e,s,a,t,r,n;A({serverHost:(null==(e=l.data.general)?void 0:e.serverHost)||"localhost"}),l.data.notifications&&z({enableEmail:l.data.notifications.enableEmail||!1,emailProvider:l.data.notifications.emailProvider||"resend",resendApiKey:l.data.notifications.resendApiKey||"",resendFromEmail:l.data.notifications.resendFromEmail||"",notificationEmail:l.data.notifications.notificationEmail||"",notifyOnBackupFailure:null==(s=l.data.notifications.notifyOnBackupFailure)||s,notifyOnBackupSuccess:null!=(a=l.data.notifications.notifyOnBackupSuccess)&&a,notifyOnTaskFailure:null==(t=l.data.notifications.notifyOnTaskFailure)||t,notifyOnProjectDown:null==(r=l.data.notifications.notifyOnProjectDown)||r,notifyOnUpdateAvailable:null==(n=l.data.notifications.notifyOnUpdateAvailable)||n})}}catch(e){console.error("Failed to fetch general settings:",e)}finally{E(!1)}},[]),J=async()=>{B(!0);try{let s=await fetch("/api/v1/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({general:{serverHost:S.serverHost}})}),a=await s.json();a.success?e.success("Settings Saved","Server host has been updated"):e.error("Save Failed",a.error||"Failed to save settings")}catch(s){e.error("Error","Failed to save settings")}finally{B(!1)}},X=async()=>{Z(!0);try{let s=await fetch("/api/v1/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notifications:I})}),a=await s.json();a.success?e.success("Settings Saved","Notification settings have been updated"):e.error("Save Failed",a.error||"Failed to save settings")}catch(s){e.error("Error","Failed to save settings")}finally{Z(!1)}},Y=async()=>{if(!I.resendApiKey||!I.notificationEmail)return void e.error("Missing Configuration","Please configure API key and notification email first");L(!0);try{let s=await fetch("/api/v1/notifications/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:I.emailProvider,apiKey:I.resendApiKey,fromEmail:I.resendFromEmail,toEmail:I.notificationEmail})}),a=await s.json();a.success?e.success("Test Email Sent","Check your inbox for the test email"):e.error("Test Failed",a.error||"Failed to send test email")}catch(s){e.error("Error","Failed to send test email")}finally{L(!1)}};(0,r.useEffect)(()=>{M(),H()},[M,H]);let q=async()=>{if(!f.trim())return void e.error("Invalid Path","Please enter a valid storage path");if(window.confirm("Are you sure you want to relocate container storage to:\n\n".concat(f,"\n\nThis will:\n- Stop all running containers\n- Remove all existing container images\n- Images will be re-downloaded when projects start\n\nThis action cannot be undone."))){b(!0);try{let s=await fetch("/api/v1/system/container-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"relocate-storage",newPath:f.trim()})}),a=await s.json();a.success?(e.success("Storage Relocated",a.message),k(!1),j(""),M()):e.error("Relocation Failed",a.error)}catch(s){e.error("Error","Failed to relocate storage")}finally{b(!1)}}};if(n)return(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"py-8 flex items-center justify-center",children:(0,t.jsx)(d.y,{size:"lg"})})});if(u)return(0,t.jsx)(i.Zp,{children:(0,t.jsxs)(i.Wu,{className:"py-8 text-center",children:[(0,t.jsx)(N.A,{className:"h-12 w-12 text-warning mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-foreground-muted",children:u}),(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:M,className:"mt-4",children:[(0,t.jsx)(P.A,{className:"h-4 w-4 mr-1.5"}),"Retry"]})]})});if(!s)return null;let _="podman"===s.runtime;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)(i.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(O.A,{className:"h-5 w-5"}),"Server Host"]})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-1.5 block",children:"Server Hostname / IP Address"}),(0,t.jsx)(c.Input,{placeholder:"localhost",value:S.serverHost,onChange:e=>A({...S,serverHost:e.target.value}),disabled:C||F}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted mt-1.5",children:"The hostname or IP address used to access your Supabase projects. This is used in Studio dashboard links and other external URLs. Use your server's public IP or domain name if accessing remotely."})]}),(0,t.jsx)("div",{className:"p-3 bg-background-tertiary rounded-lg",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(ea.A,{className:"h-4 w-4 text-foreground-muted shrink-0 mt-0.5"}),(0,t.jsxs)("p",{className:"text-sm text-foreground-muted",children:["Examples: ",(0,t.jsx)("code",{className:"text-xs bg-background px-1 py-0.5 rounded",children:"192.168.1.100"}),","," ",(0,t.jsx)("code",{className:"text-xs bg-background px-1 py-0.5 rounded",children:"myserver.local"}),", or"," ",(0,t.jsx)("code",{className:"text-xs bg-background px-1 py-0.5 rounded",children:"supabase.example.com"})]})]})}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(l.Button,{size:"sm",onClick:J,disabled:C||F,children:F?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.y,{size:"sm",className:"mr-1.5"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-1.5"}),"Save"]})})})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)(i.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(et.A,{className:"h-5 w-5"}),"Email Notifications"]})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Enable Email Notifications"}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:"Receive email alerts for important events"})]}),(0,t.jsx)(ed.d,{checked:I.enableEmail,onCheckedChange:async s=>{let a={...I,enableEmail:s};z(a);try{let t=await fetch("/api/v1/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notifications:a})}),r=await t.json();r.success?e.success("Settings Saved","Email notifications ".concat(s?"enabled":"disabled")):e.error("Save Failed",r.error||"Failed to save settings")}catch(s){e.error("Error","Failed to save settings")}}})]}),I.enableEmail&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"p-3 bg-background-tertiary rounded-lg",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(er.A,{className:"h-4 w-4 text-foreground-muted shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"font-medium",children:"Resend Email Provider"}),(0,t.jsxs)("p",{className:"text-foreground-muted",children:["Get your API key from"," ",(0,t.jsx)("a",{href:"https://resend.com",target:"_blank",rel:"noopener noreferrer",className:"text-brand hover:underline",children:"resend.com"})]})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-1.5 block",children:"Resend API Key"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Input,{type:W?"text":"password",placeholder:"re_xxxxxxxxxxxx",value:I.resendApiKey||"",onChange:e=>z({...I,resendApiKey:e.target.value}),className:"pr-10"}),(0,t.jsx)("button",{type:"button",onClick:()=>D(!W),className:"absolute right-3 top-1/2 -translate-y-1/2 text-foreground-muted hover:text-foreground",children:W?(0,t.jsx)(y.A,{className:"h-4 w-4"}):(0,t.jsx)(v.A,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-1.5 block",children:"From Email Address"}),(0,t.jsx)(c.Input,{type:"email",placeholder:"notifications@yourdomain.com",value:I.resendFromEmail||"",onChange:e=>z({...I,resendFromEmail:e.target.value})}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted mt-1",children:"Must be a verified domain in your Resend account"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-1.5 block",children:"Send Notifications To"}),(0,t.jsx)(c.Input,{type:"email",placeholder:"admin@example.com",value:I.notificationEmail||"",onChange:e=>z({...I,notificationEmail:e.target.value})}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted mt-1",children:"Email address where notifications will be sent"})]}),(0,t.jsxs)("div",{className:"pt-3 border-t border-border",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Notification Triggers"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Backup failures"}),(0,t.jsx)(ed.d,{checked:I.notifyOnBackupFailure,onCheckedChange:e=>z({...I,notifyOnBackupFailure:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Backup successes"}),(0,t.jsx)(ed.d,{checked:I.notifyOnBackupSuccess,onCheckedChange:e=>z({...I,notifyOnBackupSuccess:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Task failures"}),(0,t.jsx)(ed.d,{checked:I.notifyOnTaskFailure,onCheckedChange:e=>z({...I,notifyOnTaskFailure:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Project down/unhealthy"}),(0,t.jsx)(ed.d,{checked:I.notifyOnProjectDown,onCheckedChange:e=>z({...I,notifyOnProjectDown:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Updates available"}),(0,t.jsx)(ed.d,{checked:I.notifyOnUpdateAvailable,onCheckedChange:e=>z({...I,notifyOnUpdateAvailable:e})})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-3 border-t border-border",children:[(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:Y,disabled:K||!I.resendApiKey||!I.notificationEmail,children:K?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.y,{size:"sm",className:"mr-1.5"}),"Sending..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(en.A,{className:"h-4 w-4 mr-1.5"}),"Send Test Email"]})}),(0,t.jsx)(l.Button,{size:"sm",onClick:X,disabled:U,children:U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.y,{size:"sm",className:"mr-1.5"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-1.5"}),"Save"]})})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)(i.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(R.A,{className:"h-5 w-5"}),"Container Runtime"]})}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-background-tertiary rounded-lg",children:[(0,t.jsx)("div",{className:"p-2 rounded-full bg-success/10 shrink-0",children:(0,t.jsx)(T.A,{className:"h-6 w-6 text-success"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:"font-semibold capitalize",children:s.runtime}),(0,t.jsx)(m.E,{variant:"secondary",children:s.version})]}),(0,t.jsxs)("p",{className:"text-sm text-foreground-muted",children:["Storage driver: ",s.storageDriver]})]})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)(i.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(ei.A,{className:"h-5 w-5"}),"Container Storage"]})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg ".concat(s.diskWarning?"bg-warning/10 border border-warning/20":"bg-background-tertiary"),children:[(0,t.jsx)("div",{className:"p-2 rounded-full shrink-0 ".concat(s.diskWarning?"bg-warning/10":"bg-brand/10"),children:s.diskWarning?(0,t.jsx)(N.A,{className:"h-6 w-6 text-warning"}):(0,t.jsx)(el.A,{className:"h-6 w-6 text-brand"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"font-mono text-sm break-all",children:s.storagePath}),(0,t.jsx)("p",{className:"text-sm text-foreground-muted mt-1",children:s.diskWarning?"Low disk space warning - consider relocating storage":"Container images and data location"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"p-3 bg-background-tertiary rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-lg font-semibold",children:s.diskUsage.used}),(0,t.jsx)("div",{className:"text-xs text-foreground-muted",children:"Used"})]}),(0,t.jsxs)("div",{className:"p-3 bg-background-tertiary rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-lg font-semibold",children:s.diskUsage.available}),(0,t.jsx)("div",{className:"text-xs text-foreground-muted",children:"Available"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-lg text-center ".concat(s.diskWarning?"bg-warning/10":"bg-background-tertiary"),children:[(0,t.jsx)("div",{className:"text-lg font-semibold ".concat(s.diskWarning?"text-warning":""),children:s.diskUsage.percent}),(0,t.jsx)("div",{className:"text-xs text-foreground-muted",children:"Disk Used"})]})]}),_&&(0,t.jsx)("div",{className:"pt-3 border-t border-border",children:w?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-1.5 block",children:"New Storage Path"}),(0,t.jsx)(c.Input,{placeholder:"/data/containers/storage",value:f,onChange:e=>j(e.target.value),disabled:g}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted mt-1",children:"Enter the full path for the new storage location"})]}),(0,t.jsx)("div",{className:"p-3 bg-warning/10 border border-warning/20 rounded-lg",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 text-warning shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"font-medium text-warning",children:"Warning"}),(0,t.jsx)("p",{className:"text-foreground-muted",children:"This will remove all existing container images. Projects will need to re-download their images on next start (10-15GB download)."})]})]})}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>{k(!1),j("")},disabled:g,children:"Cancel"}),(0,t.jsx)(l.Button,{variant:"destructive",size:"sm",onClick:q,disabled:g||!f.trim(),children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.y,{size:"sm",className:"mr-1.5"}),"Relocating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ec.A,{className:"h-4 w-4 mr-1.5"}),"Relocate Storage"]})})]})]}):(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Relocate Storage"}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:"Move container storage to a different location with more space"})]}),(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>k(!0),children:[(0,t.jsx)(ec.A,{className:"h-4 w-4 mr-1.5"}),"Change Location"]})]})}),!_&&"docker"===s.runtime&&(0,t.jsx)("div",{className:"p-3 bg-background-tertiary rounded-lg",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(ea.A,{className:"h-4 w-4 text-foreground-muted shrink-0 mt-0.5"}),(0,t.jsxs)("p",{className:"text-sm text-foreground-muted",children:["Docker storage location can be changed by editing ",(0,t.jsx)("code",{className:"text-xs bg-background px-1 py-0.5 rounded",children:"/etc/docker/daemon.json"})," and setting the ",(0,t.jsx)("code",{className:"text-xs bg-background px-1 py-0.5 rounded",children:"data-root"})," option."]})]})}),(0,t.jsxs)("div",{className:"pt-2 border-t border-border",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"About Container Storage"}),(0,t.jsx)("p",{className:"text-sm text-foreground-muted",children:"Supabase projects require approximately 10-15GB of container images. If your current storage location is running low on space, you can relocate it to a partition with more available disk space."})]})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:M,disabled:n,children:[(0,t.jsx)(P.A,{className:"h-4 w-4 mr-1.5 ".concat(n?"animate-spin":"")}),"Refresh"]})})]})}var em=a(76907);let ex=[{id:"audit",name:"Security Audit",description:"Check for RLS misconfigurations and security vulnerabilities"},{id:"coverage",name:"RLS Coverage",description:"Analyze row-level security policy coverage across tables"},{id:"storage",name:"Storage Security",description:"Scan storage buckets for public access and policy issues"}],eu=[{value:"critical",label:"Critical Only",description:"Only notify for critical issues"},{value:"high",label:"High & Critical",description:"Notify for high and critical issues"},{value:"medium",label:"Medium & Above",description:"Notify for medium, high, and critical issues"},{value:"low",label:"All Issues",description:"Notify for all severity levels"}];function eh(){let e=(0,o.d)(),[s,a]=(0,r.useState)({enabled:!0,scanTime:"03:00",scanTypes:["audit","coverage"],minSeverityToNotify:"high"}),[n,m]=(0,r.useState)(!0),[x,u]=(0,r.useState)(!1),h=(0,r.useCallback)(async()=>{try{m(!0);let n=await fetch("/api/v1/settings"),i=await n.json();if(i.success&&i.data.securityScanning){var e,s,t,r;a({enabled:null==(e=i.data.securityScanning.enabled)||e,scanTime:null!=(s=i.data.securityScanning.scanTime)?s:"03:00",scanTypes:null!=(t=i.data.securityScanning.scanTypes)?t:["audit","coverage"],minSeverityToNotify:null!=(r=i.data.securityScanning.minSeverityToNotify)?r:"high"})}}catch(e){console.error("Failed to fetch security scanning settings:",e)}finally{m(!1)}},[]);(0,r.useEffect)(()=>{h()},[h]);let f=async t=>{let r={...s,enabled:t};a(r);try{let s=await fetch("/api/v1/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({securityScanning:r})}),a=await s.json();a.success?e.success("Settings Saved","Automatic security scanning ".concat(t?"enabled":"disabled")):e.error("Save Failed",a.error||"Failed to save settings")}catch(s){e.error("Error","Failed to save settings")}},j=async()=>{u(!0);try{let a=await fetch("/api/v1/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({securityScanning:s})}),t=await a.json();t.success?e.success("Settings Saved","Security scanning settings have been updated"):e.error("Save Failed",t.error||"Failed to save settings")}catch(s){e.error("Error","Failed to save settings")}finally{u(!1)}};return n?(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"py-8 flex items-center justify-center",children:(0,t.jsx)(d.y,{size:"lg"})})}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)(i.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(em.A,{className:"h-5 w-5"}),"Automatic Security Scanning"]})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Enable Daily Security Scans"}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:"Automatically scan all running projects for security issues"})]}),(0,t.jsx)(ed.d,{checked:s.enabled,onCheckedChange:f})]}),s.enabled&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"p-3 bg-background-tertiary rounded-lg",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(ea.A,{className:"h-4 w-4 text-foreground-muted shrink-0 mt-0.5"}),(0,t.jsx)("p",{className:"text-sm text-foreground-muted",children:"Security scans run automatically at the configured time each day. Results are stored per-project and can trigger email notifications if configured."})]})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm font-medium mb-1.5 flex items-center gap-2",children:[(0,t.jsx)(D.A,{className:"h-4 w-4"}),"Scan Time (24-hour format)"]}),(0,t.jsx)(c.Input,{type:"time",value:s.scanTime,onChange:e=>a({...s,scanTime:e.target.value}),className:"max-w-[150px]"}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted mt-1",children:"Time of day when security scans will run (server timezone)"})]}),(0,t.jsxs)("div",{className:"pt-3 border-t border-border",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Scan Types"}),(0,t.jsx)("div",{className:"space-y-3",children:ex.map(r=>(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:r.name}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:r.description})]}),(0,t.jsx)(ed.d,{checked:s.scanTypes.includes(r.id),onCheckedChange:()=>(t=>{let r=s.scanTypes.includes(t)?s.scanTypes.filter(e=>e!==t):[...s.scanTypes,t];if(0===r.length)return void e.error("Invalid Selection","At least one scan type must be selected");a({...s,scanTypes:r})})(r.id)})]},r.id))})]}),(0,t.jsxs)("div",{className:"pt-3 border-t border-border",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium mb-1.5 flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4"}),"Notification Threshold"]}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted mb-3",children:"Minimum severity level to trigger email notifications"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:eu.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>a({...s,minSeverityToNotify:e.value}),className:"p-3 rounded-lg text-left transition-colors ".concat(s.minSeverityToNotify===e.value?"bg-brand/10 border-2 border-brand":"bg-background-tertiary border-2 border-transparent hover:border-border"),children:[(0,t.jsx)("span",{className:"text-sm font-medium ".concat(s.minSeverityToNotify===e.value?"text-brand":""),children:e.label}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted mt-0.5",children:e.description})]},e.value))})]}),(0,t.jsx)("div",{className:"flex justify-end pt-3 border-t border-border",children:(0,t.jsx)(l.Button,{size:"sm",onClick:j,disabled:x,children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.y,{size:"sm",className:"mr-1.5"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-1.5"}),"Save Settings"]})})})]})]})]}),(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"py-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(ea.A,{className:"h-5 w-5 text-foreground-muted shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Email Notifications"}),(0,t.jsxs)("p",{className:"text-sm text-foreground-muted",children:["To receive email alerts when security issues are found, make sure email notifications are configured in the ",(0,t.jsx)("span",{className:"text-brand",children:"System"}),' tab and "Security issues" notifications are enabled.']})]})]})})})]})}function ep(){let[e,s]=(0,r.useState)("profile");return(0,t.jsxs)("div",{className:"space-y-4 px-4 sm:px-6 lg:px-8 py-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Settings"}),(0,t.jsx)("p",{className:"text-foreground-muted text-sm",children:"Manage your account settings and preferences"})]}),(0,t.jsxs)(n.tU,{value:e,onValueChange:s,children:[(0,t.jsxs)(n.j7,{className:"flex flex-wrap gap-1 w-full",children:[(0,t.jsxs)(n.Xi,{value:"profile",className:"flex items-center gap-1.5 flex-1 min-w-0 sm:flex-none",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 shrink-0"}),(0,t.jsx)("span",{className:"hidden xs:inline truncate",children:"Profile"})]}),(0,t.jsxs)(n.Xi,{value:"password",className:"flex items-center gap-1.5 flex-1 min-w-0 sm:flex-none",children:[(0,t.jsx)(g.A,{className:"h-4 w-4 shrink-0"}),(0,t.jsx)("span",{className:"hidden xs:inline truncate",children:"Password"})]}),(0,t.jsxs)(n.Xi,{value:"api-keys",className:"flex items-center gap-1.5 flex-1 min-w-0 sm:flex-none",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 shrink-0"}),(0,t.jsx)("span",{className:"hidden xs:inline truncate",children:"API Keys"})]}),(0,t.jsxs)(n.Xi,{value:"logins",className:"flex items-center gap-1.5 flex-1 min-w-0 sm:flex-none",children:[(0,t.jsx)(F.A,{className:"h-4 w-4 shrink-0"}),(0,t.jsx)("span",{className:"hidden xs:inline truncate",children:"Logins"})]}),(0,t.jsxs)(n.Xi,{value:"activity",className:"flex items-center gap-1.5 flex-1 min-w-0 sm:flex-none",children:[(0,t.jsx)(M.A,{className:"h-4 w-4 shrink-0"}),(0,t.jsx)("span",{className:"hidden xs:inline truncate",children:"Activity"})]}),(0,t.jsxs)(n.Xi,{value:"system",className:"flex items-center gap-1.5 flex-1 min-w-0 sm:flex-none",children:[(0,t.jsx)(R.A,{className:"h-4 w-4 shrink-0"}),(0,t.jsx)("span",{className:"hidden xs:inline truncate",children:"System"})]}),(0,t.jsxs)(n.Xi,{value:"security-scanning",className:"flex items-center gap-1.5 flex-1 min-w-0 sm:flex-none",children:[(0,t.jsx)(em.A,{className:"h-4 w-4 shrink-0"}),(0,t.jsx)("span",{className:"hidden xs:inline truncate",children:"Security"})]}),(0,t.jsxs)(n.Xi,{value:"updates",className:"flex items-center gap-1.5 flex-1 min-w-0 sm:flex-none",children:[(0,t.jsx)(Q.A,{className:"h-4 w-4 shrink-0"}),(0,t.jsx)("span",{className:"hidden xs:inline truncate",children:"Updates"})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)(n.av,{value:"profile",children:(0,t.jsx)(j,{})}),(0,t.jsx)(n.av,{value:"password",children:(0,t.jsx)(b,{})}),(0,t.jsx)(n.av,{value:"api-keys",children:(0,t.jsx)(E,{})}),(0,t.jsx)(n.av,{value:"logins",children:(0,t.jsx)(U,{})}),(0,t.jsx)(n.av,{value:"activity",children:(0,t.jsx)(_,{})}),(0,t.jsx)(n.av,{value:"system",children:(0,t.jsx)(eo,{})}),(0,t.jsx)(n.av,{value:"security-scanning",children:(0,t.jsx)(eh,{})}),(0,t.jsx)(n.av,{value:"updates",children:(0,t.jsx)(es,{})})]})]})]})}},11647:(e,s,a)=>{"use strict";a.d(s,{E:()=>n});var t=a(95155),r=a(64269);function n(e){let{className:s,variant:a="default",...n}=e;return(0,t.jsx)("span",{className:(0,r.cn)("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-semibold transition-colors",{default:"bg-brand/10 text-brand border-brand/20",success:"bg-success/10 text-success border-success/20",warning:"bg-warning/10 text-warning border-warning/20",error:"bg-error/10 text-error border-error/20",info:"bg-info/10 text-info border-info/20",secondary:"bg-background-tertiary text-foreground-secondary border-border"}[a],s),...n})}},12040:(e,s,a)=>{Promise.resolve().then(a.bind(a,3130))},13406:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>l});var t=a(95155),r=a(12115),n=a(64269);let i=(0,r.createContext)(void 0);function l(e){let{defaultValue:s,value:a,children:l,className:c,onValueChange:d}=e,[o,m]=(0,r.useState)(s||a||""),x=void 0!==a?a:o;return(0,t.jsx)(i.Provider,{value:{activeTab:x,setActiveTab:e=>{void 0===a&&m(e),null==d||d(e)}},children:(0,t.jsx)("div",{className:(0,n.cn)("w-full",c),children:l})})}function c(e){let{children:s,className:a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("inline-flex items-center gap-1 p-1 rounded-lg bg-background-tertiary border border-border",a),role:"tablist",children:s})}function d(e){let{value:s,children:a,className:l,disabled:c}=e,d=(0,r.useContext)(i);if(!d)throw Error("TabsTrigger must be used within Tabs");let{activeTab:o,setActiveTab:m}=d,x=o===s;return(0,t.jsx)("button",{role:"tab","aria-selected":x,"aria-controls":"panel-".concat(s),disabled:c,onClick:()=>m(s),className:(0,n.cn)("px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-150","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-brand",x?"bg-background-elevated text-foreground shadow-xs":"text-foreground-secondary hover:text-foreground hover:bg-background-secondary",c&&"opacity-50 cursor-not-allowed",l),children:a})}function o(e){let{value:s,children:a,className:l}=e,c=(0,r.useContext)(i);if(!c)throw Error("TabsContent must be used within Tabs");let{activeTab:d}=c;return d!==s?null:(0,t.jsx)("div",{role:"tabpanel",id:"panel-".concat(s),className:(0,n.cn)("mt-4",l),children:a})}},25164:(e,s,a)=>{"use strict";a.d(s,{Xe:()=>t});let t="v1.1.33-01242026"},44846:(e,s,a)=>{"use strict";a.d(s,{d:()=>i});var t=a(95155),r=a(12115),n=a(64269);let i=(0,r.forwardRef)((e,s)=>{let{className:a,checked:r,onCheckedChange:i,onChange:l,...c}=e;return(0,t.jsxs)("label",{className:(0,n.cn)("relative inline-flex cursor-pointer items-center",a),children:[(0,t.jsx)("input",{type:"checkbox",role:"switch",className:"peer sr-only",ref:s,checked:r,onChange:e=>{null==l||l(e),null==i||i(e.target.checked)},...c}),(0,t.jsx)("div",{className:(0,n.cn)("h-6 w-11 rounded-full transition-colors","bg-background-tertiary border border-border","peer-checked:bg-brand peer-checked:border-brand","peer-focus-visible:ring-2 peer-focus-visible:ring-brand peer-focus-visible:ring-offset-2","peer-disabled:cursor-not-allowed peer-disabled:opacity-50","after:absolute after:left-[2px] after:top-[2px]","after:h-5 after:w-5 after:rounded-full","after:bg-white after:shadow-sm","after:transition-transform","peer-checked:after:translate-x-5")})]})});i.displayName="Switch"},61062:(e,s,a)=>{"use strict";a.d(s,{LD:()=>t.L,xS:()=>t.x});var t=a(80555);a(85160)},65142:(e,s,a)=>{"use strict";a.d(s,{Input:()=>i});var t=a(95155),r=a(12115),n=a(64269);let i=(0,r.forwardRef)((e,s)=>{let{className:a,type:r="text",error:i,icon:l,...c}=e;return(0,t.jsxs)("div",{className:"relative",children:[l&&(0,t.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-foreground-muted",children:l}),(0,t.jsx)("input",{type:r,className:(0,n.cn)("\n            w-full h-10 px-3 py-2\n            bg-background-tertiary text-foreground\n            border border-border rounded-lg shadow-2xs\n            placeholder:text-foreground-muted\n            hover:border-border-hover\n            focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-brand focus-visible:border-transparent\n            disabled:cursor-not-allowed disabled:opacity-50\n            transition-all duration-150\n            ",l&&"pl-10",i&&"border-error focus-visible:ring-error hover:border-error",a),ref:s,...c})]})});i.displayName="Input"},86948:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>i,aR:()=>l});var t=a(95155),r=a(12115),n=a(64269);let i=(0,r.forwardRef)((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-xl border border-border bg-background-secondary shadow-xs",a),...r})});i.displayName="Card";let l=(0,r.forwardRef)((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let c=(0,r.forwardRef)((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h3",{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight text-foreground",a),...r})});c.displayName="CardTitle";let d=(0,r.forwardRef)((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-foreground-secondary",a),...r})});d.displayName="CardDescription";let o=(0,r.forwardRef)((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent",(0,r.forwardRef)((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"}},e=>{e.O(0,[2903,1413,555,8441,1255,7358],()=>e(e.s=12040)),_N_E=e.O()}]);