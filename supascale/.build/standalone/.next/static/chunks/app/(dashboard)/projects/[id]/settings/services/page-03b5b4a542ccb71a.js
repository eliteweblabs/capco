(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7580],{5917:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6191:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9602:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},14639:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]])},17910:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},18653:(e,t,s)=>{"use strict";s.d(t,{y:()=>c});var a=s(95155),r=s(64269);function c(e){let{size:t="md",className:s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-spin rounded-full border-2 border-current border-t-transparent text-brand",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[t],s),children:(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})})}},20063:(e,t,s)=>{"use strict";var a=s(47260);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},20523:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]])},23327:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},27937:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},37494:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},39068:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},42196:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},47251:(e,t,s)=>{"use strict";s.d(t,{ServicesForm:()=>x});var a=s(95155),r=s(12115),c=s(20063),i=s(86948),d=s(3998),h=s(61704),l=s(18653),n=s(67405),o=s(95707),y=s(52056),u=s(61362),p=s(89559);function x(e){let{projectId:t,projectName:s,initialServices:x}=e,m=(0,c.useRouter)(),{isRunning:k}=(0,n.$)(t),[v,f]=(0,r.useState)(x),[g,j]=(0,r.useState)(!1),[A,w]=(0,r.useState)(null),[M,b]=(0,r.useState)(!1),N=JSON.stringify(v.sort())!==JSON.stringify([...x].sort()),S=async()=>{j(!0),w(null),b(!1);try{let e=await fetch("/api/v1/projects/".concat(t,"/services"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({services:v})}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to update services");b(!0),m.refresh()}catch(e){w(e instanceof Error?e.message:"An error occurred")}finally{j(!1)}},C=async()=>{try{(await fetch("/api/v1/projects/".concat(t,"/stop"),{method:"POST"})).ok&&setTimeout(async()=>{await fetch("/api/v1/projects/".concat(t,"/start"),{method:"POST"}),m.refresh()},2e3)}catch(e){w("Failed to restart project")}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(i.Zp,{className:"border-brand/30 bg-brand/5",children:(0,a.jsx)(i.Wu,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(o.A,{className:"h-5 w-5 text-brand flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"Manage Supabase Services"}),(0,a.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:"Enable or disable services to customize your deployment and reduce resource usage. Changes require a project restart to take effect."})]})]})})}),k&&(0,a.jsx)(i.Zp,{className:"border-warning/50 bg-warning/5",children:(0,a.jsx)(i.Wu,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(y.A,{className:"h-5 w-5 text-warning flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"Project is Running"}),(0,a.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:"Changes to services will not take effect until you restart the project. Data in the database will be preserved."})]})]})})}),M&&(0,a.jsx)(i.Zp,{className:"border-success/50 bg-success/5",children:(0,a.jsx)(i.Wu,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-success flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-foreground",children:"Services Updated"}),(0,a.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:k?"Restart the project for changes to take effect.":"Start the project to apply the new configuration."})]})]}),k&&(0,a.jsxs)(d.Button,{variant:"outline",onClick:C,children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Restart Now"]})]})})}),A&&(0,a.jsx)(i.Zp,{className:"border-error/50 bg-error/5",children:(0,a.jsx)(i.Wu,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(y.A,{className:"h-5 w-5 text-error flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-error",children:"Error"}),(0,a.jsx)("p",{className:"text-sm text-error/80 mt-1",children:A})]})]})})}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"h-5 w-5"}),"Services for ",s]}),(0,a.jsx)(i.BT,{children:"Select which Supabase services to include in this project. Core services (Database, Vector, Analytics) cannot be disabled."})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)(h.I,{value:v,onChange:f})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-sm text-foreground-muted",children:N?"You have unsaved changes.":"No changes to save."}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d.Button,{variant:"outline",onClick:()=>f(x),disabled:!N||g,children:"Reset"}),(0,a.jsx)(d.Button,{onClick:S,disabled:!N||g,children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.y,{size:"sm",className:"mr-2"}),"Saving..."]}):"Save Changes"})]})]})]})}},52056:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},56154:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},59384:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},59427:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},61362:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},62274:(e,t,s)=>{Promise.resolve().then(s.bind(s,47251)),Promise.resolve().then(s.bind(s,89405)),Promise.resolve().then(s.bind(s,62927))},65506:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]])},65993:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},67405:(e,t,s)=>{"use strict";s.d(t,{$:()=>r});var a=s(12115);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pollInterval:s=5e3,enabled:r=!0}=t,[c,i]=(0,a.useState)("unknown"),[d,h]=(0,a.useState)(!0),[l,n]=(0,a.useState)(null),[o,y]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1),x=(0,a.useCallback)(async()=>{if(e)try{let t=await fetch("/api/v1/projects/".concat(e,"/status")),s=await t.json();s.success?(i(s.data.status),y(s.data.lastStatusCheck),n(null),p(!0)):n(s.error||"Failed to fetch status")}catch(e){n(e instanceof Error?e.message:"Failed to fetch status")}finally{h(!1)}},[e]);return(0,a.useEffect)(()=>{r&&x()},[r,x]),(0,a.useEffect)(()=>{if(!r||s<=0)return;let e=setInterval(x,s);return()=>clearInterval(e)},[r,s,x]),{status:c,isLoading:d&&!u,error:l,lastChecked:o,isRunning:"running"===c||"degraded"===c,isTransitioning:"starting"===c||"stopping"===c,refresh:x}}},79451:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},80534:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},85710:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},89559:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},89715:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},95707:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]])},99708:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[2903,2619,6563,8441,1255,7358],()=>e(e.s=62274)),_N_E=e.O()}]);