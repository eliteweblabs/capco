"use strict";exports.id=4930,exports.ids=[4930],exports.modules={6837:(a,b,c)=>{c.d(b,{Breadcrumb:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Breadcrumb() from the server but Breadcrumb is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/layout/breadcrumb.tsx","Breadcrumb")},13663:(a,b,c)=>{c.d(b,{Breadcrumb:()=>j});var d=c(21124),e=c(3991),f=c.n(e),g=c(78733),h=c(59405),i=c(44943);function j({items:a,className:b}){return(0,d.jsxs)("nav",{"aria-label":"Breadcrumb",className:(0,i.cn)("flex items-center gap-1 text-sm",b),children:[(0,d.jsx)(f(),{href:"/",className:"text-foreground-muted hover:text-foreground transition-colors",children:(0,d.jsx)(g.A,{className:"h-4 w-4"})}),a.map((b,c)=>(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(h.A,{className:"h-4 w-4 text-foreground-muted"}),b.href&&c<a.length-1?(0,d.jsx)(f(),{href:b.href,className:"text-foreground-muted hover:text-foreground transition-colors",children:b.label}):(0,d.jsx)("span",{className:"text-foreground font-medium",children:b.label})]},b.label))]})}},15073:(a,b,c)=>{c.d(b,{Header:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/layout/header.tsx","Header")},21890:(a,b,c)=>{c.d(b,{Header:()=>p});var d=c(21124),e=c(38301),f=c(70175),g=c(60988),h=c(34487),i=c(44943);function j(){let[a,b]=(0,e.useState)("system"),[c,i]=(0,e.useState)(!1),j=a=>{b(a),localStorage.setItem("theme",a)};return c?(0,d.jsxs)("div",{className:"flex items-center gap-1 p-1 rounded-lg bg-background-tertiary border border-border",children:[(0,d.jsx)(k,{active:"light"===a,onClick:()=>j("light"),title:"Light mode",children:(0,d.jsx)(f.A,{className:"h-4 w-4"})}),(0,d.jsx)(k,{active:"dark"===a,onClick:()=>j("dark"),title:"Dark mode",children:(0,d.jsx)(g.A,{className:"h-4 w-4"})}),(0,d.jsx)(k,{active:"system"===a,onClick:()=>j("system"),title:"System theme",children:(0,d.jsx)(h.A,{className:"h-4 w-4"})})]}):(0,d.jsxs)("div",{className:"flex items-center gap-1 p-1 rounded-lg bg-background-tertiary",children:[(0,d.jsx)("div",{className:"h-8 w-8"}),(0,d.jsx)("div",{className:"h-8 w-8"}),(0,d.jsx)("div",{className:"h-8 w-8"})]})}function k({active:a,onClick:b,title:c,children:e}){return(0,d.jsx)("button",{onClick:b,title:c,className:(0,i.cn)("h-8 w-8 flex items-center justify-center rounded-md transition-colors",a?"bg-background-elevated text-brand shadow-sm":"text-foreground-muted hover:text-foreground"),children:e})}var l=c(35284),m=c(8849),n=c(3991),o=c.n(n);function p({title:a,description:b,showCreateButton:c=!0}){return(0,d.jsxs)("header",{className:"sticky top-0 z-30 flex items-center justify-between h-14 lg:h-16 px-4 lg:px-6 bg-background/95 backdrop-blur-sm border-b border-border",children:[(0,d.jsxs)("div",{className:"min-w-0 flex-1",children:[a&&(0,d.jsx)("h1",{className:"text-lg lg:text-xl font-semibold text-foreground truncate",children:a}),b&&(0,d.jsx)("p",{className:"text-xs lg:text-sm text-foreground-secondary truncate",children:b})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 lg:gap-3 ml-4",children:[c&&(0,d.jsxs)(o(),{href:"/projects/new",children:[(0,d.jsxs)(l.Button,{size:"sm",className:"hidden sm:flex",children:[(0,d.jsx)(m.A,{className:"h-4 w-4"}),"New Project"]}),(0,d.jsx)(l.Button,{size:"icon",className:"sm:hidden h-8 w-8",children:(0,d.jsx)(m.A,{className:"h-4 w-4"})})]}),(0,d.jsx)(j,{})]})]})}},25151:(a,b,c)=>{c.d(b,{ProjectActions:()=>u});var d=c(21124),e=c(38301),f=c(42378),g=c(35284),h=c(40068),i=c(62145),j=c(91281),k=c(50593),l=c(30887),m=c(59268),n=c(78583),o=c(91292),p=c(16945),q=c(77917),r=c(82042),s=c(85351);let t={memory:["Not enough memory available for all containers","Try stopping other running projects","Increase container memory limit (Docker Desktop or system settings)","Consider reducing the number of services"],port:["Port is already in use by another process","Check if another Supabase instance is running","Use `lsof -i :PORT` or `ss -tlnp | grep PORT` to find what's using the port","Stop the conflicting process or change the project ports"],docker:["Container runtime (Docker/Podman) might not be running","For Docker: `sudo systemctl start docker`","For Podman: Podman is daemonless - check if podman works: `podman info`","Check status: `docker info` or `podman info`"],podman:["Podman container issue detected","Check Podman is working: `podman info`","Ensure podman-compose is installed: `podman-compose --version`","On RHEL/CentOS: `sudo dnf install podman podman-compose`"],shortname:['Podman "short-name resolution" error - common on RHEL/CentOS/Fedora',"This happens when Podman requires full image names (docker.io/library/postgres) but uses short names (postgres)","Quick Fix: Run the Podman fix script from your install directory:","  sudo bash /opt/supascale-web/.build/standalone/scripts/fix-podman.sh","Manual Fix: Add this line to /etc/containers/registries.conf:",'  unqualified-search-registries = ["docker.io"]',"Then try starting the project again"],network:["Container network creation failed","For Docker: `docker network prune` to clean up unused networks","For Podman: `podman network prune`","Try restarting your container runtime"],default:["Check the logs above for more details","Ensure your container runtime (Docker or Podman) is running","On Ubuntu/Debian: Docker is typically used","On RHEL/CentOS/Fedora: Podman is recommended (install with: sudo dnf install podman podman-compose)","Check system resources (memory, disk space)"]};function u({projectId:a,apiPort:b,serverHost:c}){let u=(0,f.useRouter)(),{isRunning:v,refresh:w}=(0,j.$)(a),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(null),[B,C]=(0,e.useState)("idle"),[D,E]=(0,e.useState)([]),[F,G]=(0,e.useState)(null),[H,I]=(0,e.useState)(!1),J=(0,e.useRef)(null);(0,e.useRef)(null);let K=(a,b="info")=>{E(c=>[...c,{timestamp:new Date().toLocaleTimeString(),message:a,type:b}])},L=async b=>{A(b),C("running"),E([]),G(null),y(!0),I(!0),K(`${"start"===b?"Starting":"Stopping"} project...`);let c=new AbortController,d=setTimeout(()=>c.abort(),6e5);try{let e=await fetch(`/api/v1/projects/${a}/${b}`,{method:"POST",headers:{"Content-Type":"application/json"},signal:c.signal}),f=e.headers.get("content-type");if(f?.includes("text/event-stream")){let a=e.body?.getReader(),c=new TextDecoder;if(a)for(;;){let{done:d,value:e}=await a.read();if(d)break;for(let a of c.decode(e).split("\n"))if(!a.startsWith(":")&&a.startsWith("data: "))try{let c=JSON.parse(a.slice(6));if("log"===c.type){let a="info";"error"===c.level?a="error":"success"===c.level&&(a="success"),K(c.message,a)}else"progress"===c.type?K(`${c.service}: ${c.status}`,"info"):"complete"===c.type?(K(`Project ${"start"===b?"started":"stopped"} successfully`,"success"),C("success")):"error"===c.type&&(K(c.error,"error"),G(c.error),C("error"),I(!0))}catch{}}clearTimeout(d)}else{clearTimeout(d);let a=await e.json();a.success?(K(`Project ${"start"===b?"started":"stopped"} successfully`,"success"),C("success")):(K(a.error||"Operation failed","error"),G(a.error||"Operation failed"),C("error"),I(!0))}}catch(b){clearTimeout(d);let a="An unexpected error occurred";b instanceof Error&&(a="AbortError"===b.name?"Operation timed out after 10 minutes. The containers may still be starting in the background.":b.message),K(a,"error"),G(a),C("error"),I(!0)}},M=()=>{y(!1),("success"===B||"error"===B)&&(w(),u.refresh())};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"flex items-center gap-2",children:v?(0,d.jsxs)(g.Button,{variant:"secondary",size:"sm",onClick:()=>L("stop"),children:[(0,d.jsx)(k.A,{className:"h-4 w-4 mr-1.5"}),"Stop"]}):(0,d.jsxs)(g.Button,{size:"sm",onClick:()=>L("start"),children:[(0,d.jsx)(l.A,{className:"h-4 w-4 mr-1.5"}),"Start"]})}),(0,d.jsx)(h.lG,{open:x,onClose:M,className:"max-w-4xl",title:"start"===z?"running"===B?"Starting Project...":"success"===B?"Project Started":"Start Failed":"running"===B?"Stopping Project...":"success"===B?"Project Stopped":"Stop Failed",children:(0,d.jsxs)("div",{className:"flex flex-col min-h-0",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center py-4",children:["running"===B&&(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(i.y,{size:"lg",className:"mx-auto mb-3"}),(0,d.jsx)("p",{className:"text-foreground-secondary",children:"start"===z?"Starting containers...":"Stopping containers..."}),(0,d.jsx)("p",{className:"text-xs text-foreground-muted mt-1",children:"Watch the logs below for real-time progress"})]}),"success"===B&&(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"h-16 w-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(m.A,{className:"h-8 w-8 text-success"})}),(0,d.jsx)("p",{className:"text-foreground font-medium",children:"start"===z?"Project is now running!":"Project has been stopped"}),"start"===z&&(0,d.jsxs)("a",{href:`http://${c}:${b}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 text-brand hover:underline",children:[(0,d.jsx)(n.A,{className:"h-4 w-4"}),"Open Studio Dashboard"]})]}),"error"===B&&(0,d.jsxs)("div",{className:"text-center w-full",children:[(0,d.jsx)("div",{className:"h-16 w-16 rounded-full bg-error/10 flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(o.A,{className:"h-8 w-8 text-error"})}),(0,d.jsx)("p",{className:"text-foreground font-medium mb-2",children:"start"===z?"Failed to start project":"Failed to stop project"}),F&&(0,d.jsx)("div",{className:"max-h-24 overflow-y-auto mb-4 px-2",children:(0,d.jsx)("p",{className:"text-sm text-error break-words",children:F})}),F&&(0,d.jsx)("div",{className:"bg-warning/10 border border-warning/20 rounded-lg p-4 text-left",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(p.A,{className:"h-5 w-5 text-warning flex-shrink-0 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-foreground mb-2",children:"Troubleshooting tips:"}),(0,d.jsx)("ul",{className:"text-sm text-foreground-secondary space-y-1",children:(function(a){let b=a.toLowerCase();return b.includes("memory")||b.includes("oom")||b.includes("killed")?t.memory:b.includes("port")||b.includes("address already in use")||b.includes("bind")?t.port:b.includes("short-name")||b.includes("cannot prompt without a tty")?t.shortname:b.includes("podman")?t.podman:b.includes("docker")||b.includes("daemon")||b.includes("cannot connect")?t.docker:b.includes("network")?t.network:t.default})(F).map((a,b)=>(0,d.jsxs)("li",{children:["â€¢ ",a]},b))})]})]})})]})]}),D.length>0&&(0,d.jsxs)("div",{className:"border-t border-border pt-4 mt-4",children:[(0,d.jsxs)("button",{onClick:()=>I(!H),className:"flex items-center gap-2 text-sm text-foreground-muted hover:text-foreground transition-colors w-full",children:[(0,d.jsx)(q.A,{className:"h-4 w-4"}),(0,d.jsxs)("span",{children:["View Logs (",D.length,")"]}),H?(0,d.jsx)(r.A,{className:"h-4 w-4 ml-auto"}):(0,d.jsx)(s.A,{className:"h-4 w-4 ml-auto"})]}),H&&(0,d.jsxs)("div",{className:"mt-3 bg-background-tertiary rounded-lg p-3 max-h-64 overflow-y-auto font-mono text-xs scroll-smooth",children:[D.map((a,b)=>(0,d.jsxs)("div",{className:`py-0.5 break-words ${"error"===a.type?"text-error":"success"===a.type?"text-success":"text-foreground-secondary"}`,children:[(0,d.jsxs)("span",{className:"text-foreground-muted",children:["[",a.timestamp,"]"]})," ",a.message]},b)),(0,d.jsx)("div",{ref:J})]})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-3 pt-4 mt-4 border-t border-border flex-shrink-0",children:["error"===B&&(0,d.jsx)(g.Button,{variant:"outline",onClick:()=>L(z),children:"Try Again"}),(0,d.jsx)(g.Button,{onClick:M,children:"running"===B?"Close (continues in background)":"Close"})]})]})})]})}},40068:(a,b,c)=>{c.d(b,{Es:()=>j,lG:()=>i});var d=c(21124),e=c(38301),f=c(47089),g=c(44943),h=c(35284);function i({open:a,onClose:b,children:c,className:i,title:j}){return a?(0,d.jsxs)(e.Fragment,{children:[(0,d.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:b,"aria-hidden":"true"}),(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:(0,g.cn)("relative w-full max-w-lg max-h-[90vh] flex flex-col bg-background-secondary rounded-xl shadow-lg border border-border","animate-in fade-in-0 zoom-in-95 duration-200",i),role:"dialog","aria-modal":"true",onClick:a=>a.stopPropagation(),children:[j&&(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 pb-0 flex-shrink-0",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:j}),(0,d.jsxs)(h.Button,{variant:"ghost",size:"icon",onClick:b,className:"h-8 w-8 text-foreground-muted hover:text-foreground",children:[(0,d.jsx)(f.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]}),(0,d.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:c})]})})]}):null}function j({children:a,className:b}){return(0,d.jsx)("div",{className:(0,g.cn)("flex items-center justify-end gap-3 p-6 pt-0",b),children:a})}},62186:(a,b,c)=>{c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(21124),e=c(38301),f=c(44943);let g=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-xl border border-border bg-background-secondary shadow-xs",a),...b}));g.displayName="Card";let h=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight text-foreground",a),...b}));i.displayName="CardTitle";let j=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-foreground-secondary",a),...b}));j.displayName="CardDescription";let k=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent",(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},67480:(a,b,c)=>{c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(75338),e=c(74515),f=c(70673);let g=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-xl border border-border bg-background-secondary shadow-xs",a),...b}));g.displayName="Card";let h=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight text-foreground",a),...b}));i.displayName="CardTitle";let j=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-foreground-secondary",a),...b}));j.displayName="CardDescription";let k=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent",(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},91281:(a,b,c)=>{c.d(b,{$:()=>e});var d=c(38301);function e(a,b={}){let{pollInterval:c=5e3,enabled:f=!0}=b,[g,h]=(0,d.useState)("unknown"),[i,j]=(0,d.useState)(!0),[k,l]=(0,d.useState)(null),[m,n]=(0,d.useState)(null),[o,p]=(0,d.useState)(!1);return{status:g,isLoading:i&&!o,error:k,lastChecked:m,isRunning:"running"===g||"degraded"===g,isTransitioning:"starting"===g||"stopping"===g,refresh:(0,d.useCallback)(async()=>{if(a)try{let b=await fetch(`/api/v1/projects/${a}/status`),c=await b.json();c.success?(h(c.data.status),n(c.data.lastStatusCheck),l(null),p(!0)):l(c.error||"Failed to fetch status")}catch(a){l(a instanceof Error?a.message:"Failed to fetch status")}finally{j(!1)}},[a])}}},99187:(a,b,c)=>{c.d(b,{E:()=>f});var d=c(21124),e=c(44943);function f({className:a,variant:b="default",...c}){return(0,d.jsx)("span",{className:(0,e.cn)("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-semibold transition-colors",{default:"bg-brand/10 text-brand border-brand/20",success:"bg-success/10 text-success border-success/20",warning:"bg-warning/10 text-warning border-warning/20",error:"bg-error/10 text-error border-error/20",info:"bg-info/10 text-info border-info/20",secondary:"bg-background-tertiary text-foreground-secondary border-border"}[b],a),...c})}}};