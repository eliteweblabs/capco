exports.id=3722,exports.ids=[3722],exports.modules={1420:(a,b,c)=>{"use strict";c.d(b,{d:()=>g});var d=c(21124),e=c(38301),f=c(44943);let g=(0,e.forwardRef)(({className:a,checked:b,onCheckedChange:c,onChange:e,...g},h)=>(0,d.jsxs)("label",{className:(0,f.cn)("relative inline-flex cursor-pointer items-center",a),children:[(0,d.jsx)("input",{type:"checkbox",role:"switch",className:"peer sr-only",ref:h,checked:b,onChange:a=>{e?.(a),c?.(a.target.checked)},...g}),(0,d.jsx)("div",{className:(0,f.cn)("h-6 w-11 rounded-full transition-colors","bg-background-tertiary border border-border","peer-checked:bg-brand peer-checked:border-brand","peer-focus-visible:ring-2 peer-focus-visible:ring-brand peer-focus-visible:ring-offset-2","peer-disabled:cursor-not-allowed peer-disabled:opacity-50","after:absolute after:left-[2px] after:top-[2px]","after:h-5 after:w-5 after:rounded-full","after:bg-white after:shadow-sm","after:transition-transform","peer-checked:after:translate-x-5")})]}));g.displayName="Switch"},5556:(a,b,c)=>{"use strict";c.d(b,{_0:()=>d.TaskList,eF:()=>e.TaskForm}),c(40258);var d=c(81548),e=c(81962);c(30232),c(40988),c(76467)},6531:(a,b,c)=>{"use strict";c.d(b,{TaskCard:()=>z});var d=c(21124),e=c(3991),f=c.n(e),g=c(62186),h=c(99187),i=c(35284),j=c(1420),k=c(62145),l=c(23673),m=c(25345),n=c(77917),o=c(40179),p=c(54937),q=c(59268),r=c(91292),s=c(15303),t=c(53519),u=c(18310),v=c(30887),w=c(38301),x=c(44943);let y={"health-check":{label:"Health Check",icon:l.A,color:"text-success"},"container-update":{label:"Container Update",icon:m.A,color:"text-brand"},custom:{label:"Custom",icon:n.A,color:"text-warning"},backup:{label:"Backup",icon:o.A,color:"text-info"},"security-scan":{label:"Security Scan",icon:p.A,color:"text-error"}};function z({task:a,projectName:b,onToggle:c,onRun:e}){let[l,m]=(0,w.useState)(!1),[n,o]=(0,w.useState)(!1),p=y[a.type],z=p.icon,A=async()=>{if(c){m(!0);try{await c(a.id,!a.enabled)}finally{m(!1)}}},B=async b=>{if(b.preventDefault(),b.stopPropagation(),e){o(!0);try{await e(a.id)}finally{o(!1)}}};return(0,d.jsx)(f(),{href:`/tasks/${a.id}`,children:(0,d.jsx)(g.Zp,{className:"hover:border-brand/50 transition-colors cursor-pointer",children:(0,d.jsxs)(g.Wu,{className:"p-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[(0,d.jsx)("div",{className:"h-10 w-10 rounded-lg bg-background-tertiary flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(z,{className:`h-5 w-5 ${p.color}`})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("h3",{className:"font-medium text-foreground truncate",children:a.name}),!a.enabled&&(0,d.jsxs)(h.E,{variant:"secondary",className:"flex-shrink-0",children:[(0,d.jsx)(t.A,{className:"h-3 w-3 mr-1"}),"Paused"]})]}),(0,d.jsxs)("p",{className:"text-sm text-foreground-muted mt-0.5",children:[b," â€¢ ",p.label]}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-foreground-muted",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(s.A,{className:"h-3 w-3"}),a.lastRun?(0,d.jsxs)("span",{children:["Last: ",(0,x.mo)(a.lastRun)]}):(0,d.jsx)("span",{children:"Never run"})]}),a.nextRun&&a.enabled&&(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(u.A,{className:"h-3 w-3"}),(0,d.jsxs)("span",{children:["Next: ",(0,x.mo)(a.nextRun)]})]})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:["running"===a.lastRunStatus?(0,d.jsxs)(h.E,{variant:"info",children:[(0,d.jsx)(k.y,{size:"sm",className:"mr-1"}),"Running"]}):"success"===a.lastRunStatus?(0,d.jsxs)(h.E,{variant:"success",children:[(0,d.jsx)(q.A,{className:"h-3 w-3 mr-1"}),"Success"]}):"failure"===a.lastRunStatus?(0,d.jsxs)(h.E,{variant:"error",children:[(0,d.jsx)(r.A,{className:"h-3 w-3 mr-1"}),"Failed"]}):(0,d.jsxs)(h.E,{variant:"secondary",children:[(0,d.jsx)(s.A,{className:"h-3 w-3 mr-1"}),"Never run"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",onClick:a=>a.preventDefault(),children:[(0,d.jsx)(j.d,{checked:a.enabled,onCheckedChange:A,disabled:l}),(0,d.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:B,disabled:n||"running"===a.lastRunStatus,title:"Run now",children:n?(0,d.jsx)(k.y,{size:"sm"}):(0,d.jsx)(v.A,{className:"h-4 w-4"})})]})]})]}),"failure"===a.lastRunStatus&&a.lastRunError&&(0,d.jsx)("div",{className:"mt-3 p-2 bg-error/10 border border-error/20 rounded text-xs text-error",children:a.lastRunError})]})})})}},22262:(a,b,c)=>{"use strict";c.d(b,{TaskList:()=>h});var d=c(21124),e=c(38301),f=c(6531),g=c(39163);function h({initialTasks:a,projectMap:b}){let c=(0,g.d)(),[h,i]=(0,e.useState)(a),j=async(a,b)=>{i(c=>c.map(c=>c.id===a?{...c,enabled:b}:c));try{let d=await fetch(`/api/v1/tasks/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:b})}),e=await d.json();e.success?c.success("Task updated",`Task ${b?"enabled":"disabled"}`):(i(c=>c.map(c=>c.id===a?{...c,enabled:!b}:c)),c.error("Failed to update task",e.error||"Unknown error"))}catch(d){i(c=>c.map(c=>c.id===a?{...c,enabled:!b}:c)),c.error("Failed to update task","Network error")}},k=async a=>{let b=h.find(b=>b.id===a);if(b){i(b=>b.map(b=>b.id===a?{...b,lastRunStatus:"running"}:b));try{let d=await fetch(`/api/v1/tasks/${a}/run`,{method:"POST",headers:{"Content-Type":"application/json"}}),e=await d.json();e.success?(i(b=>b.map(b=>b.id===a?{...b,lastRunStatus:"success",lastRun:new Date().toISOString(),lastRunError:void 0}:b)),c.success("Task completed",`${b.name} executed successfully`)):(i(b=>b.map(b=>b.id===a?{...b,lastRunStatus:"failure",lastRun:new Date().toISOString(),lastRunError:e.error}:b)),c.error("Task failed",e.error||"Unknown error"))}catch(b){i(b=>b.map(b=>b.id===a?{...b,lastRunStatus:"failure",lastRun:new Date().toISOString(),lastRunError:"Network error"}:b)),c.error("Task failed","Network error")}}};return(0,d.jsx)("div",{className:"space-y-4",children:h.map(a=>(0,d.jsx)(f.TaskCard,{task:a,projectName:b[a.projectId]||"Unknown Project",onToggle:j,onRun:k},a.id))})}},30232:(a,b,c)=>{"use strict";c.d(b,{TaskTypeSelector:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call TaskTypeSelector() from the server but TaskTypeSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/tasks/task-type-selector.tsx","TaskTypeSelector")},30382:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,65169,23)),Promise.resolve().then(c.bind(c,76467)),Promise.resolve().then(c.bind(c,40988)),Promise.resolve().then(c.bind(c,40258)),Promise.resolve().then(c.bind(c,81962)),Promise.resolve().then(c.bind(c,81548)),Promise.resolve().then(c.bind(c,30232)),Promise.resolve().then(c.bind(c,52446))},40258:(a,b,c)=>{"use strict";c.d(b,{TaskCard:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call TaskCard() from the server but TaskCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/tasks/task-card.tsx","TaskCard")},40988:(a,b,c)=>{"use strict";c.d(b,{CronBuilder:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call CronBuilder() from the server but CronBuilder is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/tasks/cron-builder.tsx","CronBuilder")},46714:(a,b,c)=>{"use strict";c.d(b,{CronBuilder:()=>m});var d=c(21124),e=c(38301),f=c(93758),g=c(99187),h=c(59268),i=c(91292),j=c(15303),k=c(73708);let l=[{label:"Every hour",value:"0 * * * *",description:"At minute 0 of every hour"},{label:"Every 6 hours",value:"0 */6 * * *",description:"At minute 0, every 6 hours"},{label:"Daily at midnight",value:"0 0 * * *",description:"Every day at 00:00"},{label:"Daily at 3 AM",value:"0 3 * * *",description:"Every day at 03:00"},{label:"Daily at 6 AM",value:"0 6 * * *",description:"Every day at 06:00"},{label:"Weekly on Sunday",value:"0 0 * * 0",description:"Every Sunday at 00:00"},{label:"Weekly on Monday",value:"0 0 * * 1",description:"Every Monday at 00:00"},{label:"Monthly",value:"0 0 1 * *",description:"First day of every month at 00:00"}];function m({value:a,onChange:b,timezone:c="UTC",disabled:m}){let[n,o]=(0,e.useState)("preset"),[p,q]=(0,e.useState)(a),[r,s]=(0,e.useState)(!0),[t,u]=(0,e.useState)(),v=function(a){try{let b=a.split(" ");if(5!==b.length)return a;let[c,d,e,f,g]=b;if("0"===c&&"*"===d&&"*"===e&&"*"===f&&"*"===g)return"Every hour";if("*"!==c&&"*"===d&&"*"===e&&"*"===f&&"*"===g)return`Every hour at minute ${c}`;if("*"!==c&&"*"!==d&&"*"===e&&"*"===f&&"*"===g)return`Every day at ${d.padStart(2,"0")}:${c.padStart(2,"0")}`;if("*"!==c&&"*"!==d&&"*"===e&&"*"===f&&"*"!==g){let a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][parseInt(g)]||g;return`Every ${a} at ${d.padStart(2,"0")}:${c.padStart(2,"0")}`}if("*"!==c&&"*"!==d&&"*"!==e&&"*"===f&&"*"===g)return`Monthly on day ${e} at ${d.padStart(2,"0")}:${c.padStart(2,"0")}`;return a}catch{return a}}(a);return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Schedule"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{type:"button",disabled:m,onClick:()=>o("preset"),className:`px-3 py-1 text-xs rounded-md transition-colors ${"preset"===n?"bg-brand text-white":"bg-background-tertiary text-foreground-muted hover:bg-background-secondary"} ${m?"opacity-50 cursor-not-allowed":""}`,children:"Presets"}),(0,d.jsx)("button",{type:"button",disabled:m,onClick:()=>{o("custom"),p||q(a||"0 0 * * *")},className:`px-3 py-1 text-xs rounded-md transition-colors ${"custom"===n?"bg-brand text-white":"bg-background-tertiary text-foreground-muted hover:bg-background-secondary"} ${m?"opacity-50 cursor-not-allowed":""}`,children:"Custom"})]})]}),"preset"===n?(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:l.map(c=>(0,d.jsxs)("button",{type:"button",disabled:m,onClick:()=>{o("preset"),q(c.value),b(c.value)},className:`p-3 border rounded-lg text-left transition-colors ${a===c.value?"border-brand bg-brand/10":"border-border hover:border-brand/50"} ${m?"opacity-50 cursor-not-allowed":""}`,children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:c.label}),(0,d.jsx)("p",{className:"text-xs text-foreground-muted mt-0.5",children:c.description})]},c.value))}):(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(f.Input,{value:p,onChange:a=>{var c;q(c=a.target.value),function(a){try{return k.CronExpressionParser.parse(a),{valid:!0}}catch(a){return{valid:!1,error:a instanceof Error?a.message:"Invalid cron expression"}}}(c).valid&&b(c)},placeholder:"0 0 * * *",className:`font-mono ${!r?"border-error":""}`,disabled:m}),r?(0,d.jsx)(h.A,{className:"h-5 w-5 text-success flex-shrink-0"}):(0,d.jsx)(i.A,{className:"h-5 w-5 text-error flex-shrink-0"})]}),t&&(0,d.jsx)("p",{className:"text-xs text-error",children:t}),(0,d.jsxs)("div",{className:"p-3 bg-background-tertiary rounded-lg",children:[(0,d.jsx)("p",{className:"text-xs text-foreground-muted mb-2",children:"Cron format: minute hour day month weekday"}),(0,d.jsxs)("div",{className:"grid grid-cols-5 gap-2 text-xs text-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-mono text-foreground",children:p.split(" ")[0]||"*"}),(0,d.jsx)("p",{className:"text-foreground-muted",children:"min"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-mono text-foreground",children:p.split(" ")[1]||"*"}),(0,d.jsx)("p",{className:"text-foreground-muted",children:"hour"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-mono text-foreground",children:p.split(" ")[2]||"*"}),(0,d.jsx)("p",{className:"text-foreground-muted",children:"day"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-mono text-foreground",children:p.split(" ")[3]||"*"}),(0,d.jsx)("p",{className:"text-foreground-muted",children:"month"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-mono text-foreground",children:p.split(" ")[4]||"*"}),(0,d.jsx)("p",{className:"text-foreground-muted",children:"weekday"})]})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-background-secondary rounded-lg",children:[(0,d.jsx)(j.A,{className:"h-4 w-4 text-foreground-muted"}),(0,d.jsx)("span",{className:"text-sm text-foreground",children:v}),(0,d.jsx)(g.E,{variant:"secondary",className:"ml-auto",children:c})]})]})}},58393:(a,b,c)=>{"use strict";c.d(b,{ContainerSelector:()=>i});var d=c(21124),e=c(38301),f=c(62145),g=c(18310),h=c(54684);function i({projectId:a,value:b,onChange:c,disabled:i}){let[j,k]=(0,e.useState)([]),[l,m]=(0,e.useState)(!0),[n,o]=(0,e.useState)(null);return l?(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-background-tertiary rounded-lg",children:[(0,d.jsx)(f.y,{size:"sm"}),(0,d.jsx)("span",{className:"text-sm text-foreground-muted",children:"Loading containers..."})]}):n?(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-error/10 border border-error/20 rounded-lg",children:[(0,d.jsx)(g.A,{className:"h-4 w-4 text-error"}),(0,d.jsx)("span",{className:"text-sm text-error",children:n})]}):0===j.length?(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-warning/10 border border-warning/20 rounded-lg",children:[(0,d.jsx)(g.A,{className:"h-4 w-4 text-warning"}),(0,d.jsx)("span",{className:"text-sm text-warning",children:"No containers found. Make sure the project is running."})]}):(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Container"}),(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:j.map(a=>(0,d.jsxs)("button",{type:"button",disabled:i,onClick:()=>c(a),className:`p-3 border rounded-lg text-left transition-colors flex items-center gap-2 ${b===a?"border-brand bg-brand/10":"border-border hover:border-brand/50"} ${i?"opacity-50 cursor-not-allowed":""}`,children:[(0,d.jsx)(h.A,{className:`h-4 w-4 flex-shrink-0 ${b===a?"text-brand":"text-foreground-muted"}`}),(0,d.jsx)("span",{className:"text-sm font-mono truncate",children:a})]},a))})]})}},62186:(a,b,c)=>{"use strict";c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(21124),e=c(38301),f=c(44943);let g=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-xl border border-border bg-background-secondary shadow-xs",a),...b}));g.displayName="Card";let h=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight text-foreground",a),...b}));i.displayName="CardTitle";let j=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-foreground-secondary",a),...b}));j.displayName="CardDescription";let k=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent",(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},71340:(a,b,c)=>{"use strict";c.d(b,{TaskForm:()=>r});var d=c(21124),e=c(38301),f=c(42378),g=c(62186),h=c(35284),i=c(93758),j=c(1420),k=c(62145),l=c(39163),m=c(77626),n=c(46714),o=c(58393),p=c(40284),q=c(81100);function r({task:a,projects:b,onSuccess:c}){let r=(0,f.useRouter)(),s=(0,l.d)(),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)(a?.name||""),[z,A]=(0,e.useState)(a?.enabled??!0),[B,C]=(0,e.useState)(a?.type||"health-check"),[D,E]=(0,e.useState)(a?.projectId||b[0]?.id||""),[F,G]=(0,e.useState)(a?.cronExpression||"0 0 * * *"),[H,I]=(0,e.useState)(a?.timezone||"UTC"),[J,K]=(0,e.useState)(a?.healthCheckConfig||{notifyOnFailure:!0,autoRestart:!1,checkEndpoint:void 0,timeoutSeconds:30}),[L,M]=(0,e.useState)(a?.containerUpdateConfig||{services:[],pullOnly:!1,notifyOnUpdate:!0}),[N,O]=(0,e.useState)(a?.customConfig||{container:"",command:"",workDir:void 0,timeoutSeconds:60,captureOutput:!0}),[P,Q]=(0,e.useState)(a?.backupConfig||{backupType:"full",destination:"local",encrypt:!1,retentionCount:10,notifyOnSuccess:!1,notifyOnFailure:!0}),R=!!a,S=async b=>{if(b.preventDefault(),!x.trim())return void s.error("Name required","Please enter a task name");if(!D)return void s.error("Project required","Please select a project");if("custom"===B&&!N.container)return void s.error("Container required","Please select a container for custom commands");if("custom"===B&&!N.command.trim())return void s.error("Command required","Please enter a command to run");u(!0);try{let b=R?`/api/v1/tasks/${a.id}`:"/api/v1/tasks",d=await fetch(b,{method:R?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x,enabled:z,type:B,projectId:D,cronExpression:F,timezone:H,healthCheckConfig:"health-check"===B?J:void 0,containerUpdateConfig:"container-update"===B?L:void 0,customConfig:"custom"===B?N:void 0,backupConfig:"backup"===B?P:void 0})}),e=await d.json();if(!e.success)throw Error(e.error||"Failed to save task");s.success(R?"Task updated":"Task created",R?"Task has been updated successfully":"Task has been created successfully"),c?.(),r.push("/tasks"),r.refresh()}catch(b){let a=b instanceof Error?b.message:"Failed to save task";s.error("Error",a)}finally{u(!1)}},T=async()=>{if(a&&confirm("Are you sure you want to delete this task?")){w(!0);try{let b=await fetch(`/api/v1/tasks/${a.id}`,{method:"DELETE"}),c=await b.json();if(!c.success)throw Error(c.error||"Failed to delete task");s.success("Task deleted","Task has been deleted successfully"),r.push("/tasks"),r.refresh()}catch(b){let a=b instanceof Error?b.message:"Failed to delete task";s.error("Error",a)}finally{w(!1)}}};return(0,d.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,d.jsxs)(g.Zp,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Basic Information"}),(0,d.jsx)(g.BT,{children:"Configure the task name and target project"})]}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Task Name"}),(0,d.jsx)(i.Input,{value:x,onChange:a=>y(a.target.value),placeholder:"Daily Health Check",required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Project"}),(0,d.jsx)("select",{value:D,onChange:a=>E(a.target.value),className:"w-full h-10 px-3 border border-border rounded-lg bg-background text-sm focus:outline-none focus:ring-2 focus:ring-brand",required:!0,children:b.map(a=>(0,d.jsx)("option",{value:a.id,children:a.name},a.id))})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Enabled"}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted",children:"Task will run automatically when enabled"})]}),(0,d.jsx)(j.d,{checked:z,onCheckedChange:A})]})]})]}),(0,d.jsxs)(g.Zp,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Task Type"}),(0,d.jsx)(g.BT,{children:"Choose what type of task to run"})]}),(0,d.jsx)(g.Wu,{children:(0,d.jsx)(m.TaskTypeSelector,{value:B,onChange:C})})]}),(0,d.jsxs)(g.Zp,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Schedule"}),(0,d.jsx)(g.BT,{children:"Configure when the task should run"})]}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsx)(n.CronBuilder,{value:F,onChange:G,timezone:H}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Timezone"}),(0,d.jsxs)("select",{value:H,onChange:a=>I(a.target.value),className:"w-full h-10 px-3 border border-border rounded-lg bg-background text-sm focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,d.jsx)("option",{value:"UTC",children:"UTC"}),(0,d.jsx)("option",{value:"America/New_York",children:"America/New_York (EST/EDT)"}),(0,d.jsx)("option",{value:"America/Chicago",children:"America/Chicago (CST/CDT)"}),(0,d.jsx)("option",{value:"America/Denver",children:"America/Denver (MST/MDT)"}),(0,d.jsx)("option",{value:"America/Los_Angeles",children:"America/Los_Angeles (PST/PDT)"}),(0,d.jsx)("option",{value:"Europe/London",children:"Europe/London (GMT/BST)"}),(0,d.jsx)("option",{value:"Europe/Paris",children:"Europe/Paris (CET/CEST)"}),(0,d.jsx)("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (JST)"}),(0,d.jsx)("option",{value:"Asia/Shanghai",children:"Asia/Shanghai (CST)"}),(0,d.jsx)("option",{value:"Australia/Sydney",children:"Australia/Sydney (AEST/AEDT)"})]})]})]})]}),"health-check"===B&&(0,d.jsxs)(g.Zp,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Health Check Configuration"}),(0,d.jsx)(g.BT,{children:"Configure health check behavior"})]}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Auto-restart on Failure"}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted",children:"Automatically restart unhealthy containers"})]}),(0,d.jsx)(j.d,{checked:J.autoRestart,onCheckedChange:a=>K({...J,autoRestart:a})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Notify on Failure"}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted",children:"Send notification when health check fails"})]}),(0,d.jsx)(j.d,{checked:J.notifyOnFailure,onCheckedChange:a=>K({...J,notifyOnFailure:a})})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"HTTP Endpoint (Optional)"}),(0,d.jsx)(i.Input,{value:J.checkEndpoint||"",onChange:a=>K({...J,checkEndpoint:a.target.value||void 0}),placeholder:"/health or /api/health"}),(0,d.jsx)("p",{className:"text-xs text-foreground-muted",children:"Optional HTTP endpoint to check in addition to container status"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Timeout (seconds)"}),(0,d.jsx)(i.Input,{type:"number",min:1,max:300,value:J.timeoutSeconds||30,onChange:a=>K({...J,timeoutSeconds:parseInt(a.target.value)||30})})]})]})]}),"container-update"===B&&(0,d.jsxs)(g.Zp,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Container Update Configuration"}),(0,d.jsx)(g.BT,{children:"Configure container update behavior"})]}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Pull Only"}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted",children:"Only pull new images, don't restart containers"})]}),(0,d.jsx)(j.d,{checked:L.pullOnly,onCheckedChange:a=>M({...L,pullOnly:a})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Notify on Update"}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted",children:"Send notification when containers are updated"})]}),(0,d.jsx)(j.d,{checked:L.notifyOnUpdate,onCheckedChange:a=>M({...L,notifyOnUpdate:a})})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Services (Optional)"}),(0,d.jsx)(i.Input,{value:L.services.join(", "),onChange:a=>M({...L,services:a.target.value.split(",").map(a=>a.trim()).filter(Boolean)}),placeholder:"Leave empty for all services, or: db, auth, rest"}),(0,d.jsx)("p",{className:"text-xs text-foreground-muted",children:"Comma-separated list of services to update. Leave empty to update all."})]})]})]}),"custom"===B&&(0,d.jsxs)(g.Zp,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Custom Command Configuration"}),(0,d.jsx)(g.BT,{children:"Configure the command to run inside a container"})]}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsx)(o.ContainerSelector,{projectId:D,value:N.container,onChange:a=>O({...N,container:a})}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Command"}),(0,d.jsx)(i.Input,{value:N.command,onChange:a=>O({...N,command:a.target.value}),placeholder:"psql -c 'VACUUM ANALYZE;'",required:"custom"===B}),(0,d.jsx)("p",{className:"text-xs text-foreground-muted",children:"The command to execute inside the container"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Working Directory (Optional)"}),(0,d.jsx)(i.Input,{value:N.workDir||"",onChange:a=>O({...N,workDir:a.target.value||void 0}),placeholder:"/app"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Timeout (seconds)"}),(0,d.jsx)(i.Input,{type:"number",min:1,max:3600,value:N.timeoutSeconds||60,onChange:a=>O({...N,timeoutSeconds:parseInt(a.target.value)||60})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Capture Output"}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted",children:"Store command output in task logs"})]}),(0,d.jsx)(j.d,{checked:N.captureOutput,onCheckedChange:a=>O({...N,captureOutput:a})})]})]})]}),"backup"===B&&(0,d.jsxs)(g.Zp,{children:[(0,d.jsxs)(g.aR,{children:[(0,d.jsx)(g.ZB,{children:"Backup Configuration"}),(0,d.jsx)(g.BT,{children:"Configure automatic backup settings"})]}),(0,d.jsxs)(g.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Backup Type"}),(0,d.jsxs)("select",{value:P.backupType,onChange:a=>Q({...P,backupType:a.target.value}),className:"w-full h-10 px-3 border border-border rounded-lg bg-background text-sm focus:outline-none focus:ring-2 focus:ring-brand",children:[(0,d.jsx)("option",{value:"full",children:"Full Backup (All components)"}),(0,d.jsx)("option",{value:"database",children:"Database Only"}),(0,d.jsx)("option",{value:"storage",children:"Storage Only"}),(0,d.jsx)("option",{value:"functions",children:"Functions Only"}),(0,d.jsx)("option",{value:"config",children:"Config Only"})]}),(0,d.jsx)("p",{className:"text-xs text-foreground-muted",children:"Choose what to include in each scheduled backup"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Destination"}),(0,d.jsx)("select",{value:P.destination,onChange:a=>Q({...P,destination:a.target.value}),className:"w-full h-10 px-3 border border-border rounded-lg bg-background text-sm focus:outline-none focus:ring-2 focus:ring-brand",children:(0,d.jsx)("option",{value:"local",children:"Local Filesystem"})}),(0,d.jsx)("p",{className:"text-xs text-foreground-muted",children:"Where to store the backup files"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Retention Count"}),(0,d.jsx)(i.Input,{type:"number",min:1,max:100,value:P.retentionCount||10,onChange:a=>Q({...P,retentionCount:parseInt(a.target.value)||10})}),(0,d.jsx)("p",{className:"text-xs text-foreground-muted",children:"Number of backups to keep. Older backups will be automatically deleted."})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Encrypt Backup"}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted",children:"Encrypt backup files for additional security"})]}),(0,d.jsx)(j.d,{checked:P.encrypt,onCheckedChange:a=>Q({...P,encrypt:a})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Notify on Success"}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted",children:"Send notification when backup completes successfully"})]}),(0,d.jsx)(j.d,{checked:P.notifyOnSuccess,onCheckedChange:a=>Q({...P,notifyOnSuccess:a})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Notify on Failure"}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted",children:"Send notification when backup fails"})]}),(0,d.jsx)(j.d,{checked:P.notifyOnFailure,onCheckedChange:a=>Q({...P,notifyOnFailure:a})})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[R?(0,d.jsx)(h.Button,{type:"button",variant:"destructive",onClick:T,disabled:v||t,children:v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(k.y,{size:"sm",className:"mr-2"}),"Deleting..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Delete Task"]})}):(0,d.jsx)("div",{}),(0,d.jsx)(h.Button,{type:"submit",disabled:t||v,children:t?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(k.y,{size:"sm",className:"mr-2"}),"Saving..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.A,{className:"h-4 w-4 mr-2"}),R?"Update Task":"Create Task"]})})]})]})}},76467:(a,b,c)=>{"use strict";c.d(b,{ContainerSelector:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call ContainerSelector() from the server but ContainerSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/tasks/container-selector.tsx","ContainerSelector")},77626:(a,b,c)=>{"use strict";c.d(b,{TaskTypeSelector:()=>j});var d=c(21124),e=c(23673),f=c(25345),g=c(77917),h=c(40179);let i=[{id:"health-check",label:"Health Check",description:"Monitor project health and optionally auto-restart on failure",icon:e.A},{id:"container-update",label:"Container Update",description:"Automatically pull and update container images",icon:f.A},{id:"custom",label:"Custom Command",description:"Run custom commands inside project containers",icon:g.A},{id:"backup",label:"Scheduled Backup",description:"Automatically backup database, storage, functions, or config",icon:h.A}];function j({value:a,onChange:b,disabled:c}){return(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Task Type"}),(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:i.map(e=>{let f=e.icon,g=a===e.id;return(0,d.jsxs)("button",{type:"button",disabled:c,onClick:()=>b(e.id),className:`p-4 border rounded-lg text-left transition-colors ${g?"border-brand bg-brand/10":"border-border hover:border-brand/50"} ${c?"opacity-50 cursor-not-allowed":""}`,children:[(0,d.jsx)(f,{className:`h-5 w-5 mb-2 ${g?"text-brand":"text-foreground-muted"}`}),(0,d.jsx)("p",{className:"font-medium",children:e.label}),(0,d.jsx)("p",{className:"text-xs text-foreground-muted mt-1",children:e.description})]},e.id)})})]})}},81548:(a,b,c)=>{"use strict";c.d(b,{TaskList:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call TaskList() from the server but TaskList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/tasks/task-list.tsx","TaskList")},81962:(a,b,c)=>{"use strict";c.d(b,{TaskForm:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call TaskForm() from the server but TaskForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/tasks/task-form.tsx","TaskForm")},93430:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,3991,23)),Promise.resolve().then(c.bind(c,58393)),Promise.resolve().then(c.bind(c,46714)),Promise.resolve().then(c.bind(c,6531)),Promise.resolve().then(c.bind(c,71340)),Promise.resolve().then(c.bind(c,22262)),Promise.resolve().then(c.bind(c,77626)),Promise.resolve().then(c.bind(c,35284))},93758:(a,b,c)=>{"use strict";c.d(b,{Input:()=>g});var d=c(21124),e=c(38301),f=c(44943);let g=(0,e.forwardRef)(({className:a,type:b="text",error:c,icon:e,...g},h)=>(0,d.jsxs)("div",{className:"relative",children:[e&&(0,d.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-foreground-muted",children:e}),(0,d.jsx)("input",{type:b,className:(0,f.cn)(`
            w-full h-10 px-3 py-2
            bg-background-tertiary text-foreground
            border border-border rounded-lg shadow-2xs
            placeholder:text-foreground-muted
            hover:border-border-hover
            focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-brand focus-visible:border-transparent
            disabled:cursor-not-allowed disabled:opacity-50
            transition-all duration-150
            `,e&&"pl-10",c&&"border-error focus-visible:ring-error hover:border-error",a),ref:h,...g})]}));g.displayName="Input"},99187:(a,b,c)=>{"use strict";c.d(b,{E:()=>f});var d=c(21124),e=c(44943);function f({className:a,variant:b="default",...c}){return(0,d.jsx)("span",{className:(0,e.cn)("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-semibold transition-colors",{default:"bg-brand/10 text-brand border-brand/20",success:"bg-success/10 text-success border-success/20",warning:"bg-warning/10 text-warning border-warning/20",error:"bg-error/10 text-error border-error/20",info:"bg-info/10 text-info border-info/20",secondary:"bg-background-tertiary text-foreground-secondary border-border"}[b],a),...c})}}};