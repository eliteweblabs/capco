exports.id=1656,exports.ids=[1656],exports.modules={10389:(a,b,c)=>{"use strict";c.d(b,{j2:()=>k,Y9:()=>h});var d=c(61665),e=c(14838),f=c(35552);let g=new Map;setInterval(()=>{let a=Date.now();for(let[b,c]of g.entries())a-c.lastAttempt>36e5&&c.lockedUntil<a&&g.delete(b)},3e5);let{handlers:h,signIn:i,signOut:j,auth:k}=(0,d.Ay)({providers:[(0,e.A)({name:"Credentials",credentials:{username:{label:"Username",type:"text"},password:{label:"Password",type:"password"}},async authorize(a){if(!a?.username||!a?.password)return null;let b=a.username,c=function(a){let b=Date.now(),c=g.get(a);if(!c)return{limited:!1};if(c.lockedUntil>b){let a=Math.ceil((c.lockedUntil-b)/1e3);return{limited:!0,retryAfter:a,message:`Too many failed attempts. Try again in ${Math.ceil(a/60)} minutes.`}}return b-c.lastAttempt>36e5&&g.delete(a),{limited:!1}}(b);if(c.limited)throw(0,f.logActivity)("auth","login_blocked_rate_limit","system",{username:b.substring(0,3)+"***",retryAfter:c.retryAfter}),Error(c.message||"Too many failed attempts");if(!(0,f.hasValidLicense)())throw Error("LICENSE_REQUIRED");let d=(0,f.validateUser)(b,a.password);return d?(g.delete(b),(0,f.logActivity)("auth","login_success",d.id,{}),{id:d.id,name:d.username,email:`${d.username}@supascale.local`,role:d.role}):(!function(a){let b=Date.now(),c=g.get(a);if(!c)return g.set(a,{attempts:1,lastAttempt:b,lockedUntil:0});if(b-c.lastAttempt>36e5){c.attempts=1,c.lastAttempt=b,c.lockedUntil=0;return}if(c.attempts++,c.lastAttempt=b,c.attempts>=5){let d=Math.pow(2,Math.floor(c.attempts/5)-1);c.lockedUntil=b+9e5*d,console.warn(`Rate limit lockout applied for identifier: ${a.substring(0,3)}*** (attempts: ${c.attempts})`)}}(b),(0,f.logActivity)("auth","login_failed","system",{username:b.substring(0,3)+"***"}),null)}})],pages:{signIn:"/login",error:"/login"},callbacks:{jwt:async({token:a,user:b})=>(b&&(a.id=b.id,a.role=b.role),a),session:async({session:a,token:b})=>(a.user&&(a.user.id=b.id,a.user.role=b.role),a)},session:{strategy:"jwt",maxAge:86400},trustHost:!0})},16652:(a,b,c)=>{"use strict";c.d(b,{Sidebar:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Sidebar() from the server but Sidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/layout/sidebar.tsx","Sidebar")},28691:(a,b,c)=>{Promise.resolve().then(c.bind(c,38436)),Promise.resolve().then(c.bind(c,39845)),Promise.resolve().then(c.bind(c,16652))},38436:(a,b,c)=>{"use strict";c.d(b,{DashboardContent:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call DashboardContent() from the server but DashboardContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/layout/dashboard-content.tsx","DashboardContent")},39845:(a,b,c)=>{"use strict";c.d(b,{SidebarProvider:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call SidebarProvider() from the server but SidebarProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/layout/sidebar-context.tsx","SidebarProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useSidebar() from the server but useSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/layout/sidebar-context.tsx","useSidebar")},57380:(a,b,c)=>{"use strict";c.d(b,{SidebarProvider:()=>g,c:()=>h});var d=c(21124),e=c(38301);let f=(0,e.createContext)(void 0);function g({children:a}){let[b,c]=(0,e.useState)(!1),[g,h]=(0,e.useState)(!1);return(0,d.jsx)(f.Provider,{value:{collapsed:b,setCollapsed:a=>{c(a),localStorage.setItem("sidebar-collapsed",String(a))},mobileOpen:g,setMobileOpen:h},children:a})}function h(){let a=(0,e.useContext)(f);if(!a)throw Error("useSidebar must be used within a SidebarProvider");return a}},65643:(a,b,c)=>{Promise.resolve().then(c.bind(c,67070)),Promise.resolve().then(c.bind(c,57380)),Promise.resolve().then(c.bind(c,79546))},67070:(a,b,c)=>{"use strict";c.d(b,{DashboardContent:()=>g});var d=c(21124),e=c(44943),f=c(57380);function g({children:a}){let{collapsed:b}=(0,f.c)();return(0,d.jsx)("main",{className:(0,e.cn)("min-h-screen transition-all duration-300","lg:pl-64",b&&"lg:pl-16","pl-0 pt-16 lg:pt-0"),children:a})}},71606:(a,b,c)=>{"use strict";c.d(b,{Xe:()=>d});let d="v1.1.33-01242026"},79546:(a,b,c)=>{"use strict";c.d(b,{Sidebar:()=>F});var d=c(21124),e=c(3991),f=c.n(e),g=c(24515),h=c(42378),i=c(99400),j=c(77850),k=c(65828),l=c(93983),m=c(72567),n=c(40179),o=c(84220),p=c(80196),q=c(3663),r=c(18004),s=c(94684),t=c(6130),u=c(47089),v=c(49269),w=c(19710),x=c(59405),y=c(8294),z=c(44943),A=c(71606),B=c(38301),C=c(85145),D=c(57380);let E=[{name:"Dashboard",href:"/",icon:j.A},{name:"Projects",href:"/projects",icon:k.A},{name:"Security",href:"/security",icon:l.A,badge:!0},{name:"Tasks",href:"/tasks",icon:m.A},{name:"Backups",href:"/backups",icon:n.A},{name:"Cloud Storage",href:"/cloud-storage",icon:o.A},{name:"Domains",href:"/domains",icon:p.A},{name:"Logs",href:"/logs",icon:q.A},{name:"Resources",href:"/resources",icon:r.A},{name:"Settings",href:"/settings",icon:s.A}];function F(){let a=(0,h.usePathname)(),{collapsed:b,setCollapsed:c,mobileOpen:e,setMobileOpen:j}=(0,D.c)(),{updateInfo:k,showUpdateDialog:l}=(0,C.x)(),[m,n]=(0,B.useState)(0);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{onClick:()=>j(!0),className:"fixed top-4 left-4 z-50 p-2 rounded-lg bg-background-secondary border border-border lg:hidden","aria-label":"Open menu",children:(0,d.jsx)(t.A,{className:"h-5 w-5"})}),e&&(0,d.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>j(!1)}),(0,d.jsxs)("aside",{className:(0,z.cn)("fixed inset-y-0 left-0 z-50 flex flex-col","bg-background-secondary border-r border-border","transition-all duration-300","lg:translate-x-0",b?"lg:w-16":"lg:w-64","w-64",e?"translate-x-0":"-translate-x-full"),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b border-border",children:[(0,d.jsxs)(f(),{href:"/",className:"flex items-center gap-2",children:[(0,d.jsx)(g.default,{src:"/supascale-logo.png",alt:"Supascale",width:32,height:32,className:"shrink-0"}),!b&&(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("span",{className:"text-lg font-semibold leading-tight",children:[(0,d.jsx)("span",{style:{color:"#34b27b"},children:"Supa"}),(0,d.jsx)("span",{className:"text-foreground",children:"scale"})]}),(0,d.jsx)("span",{className:"text-[10px] text-brand font-medium",children:A.Xe})]})]}),(0,d.jsx)("button",{onClick:()=>j(!1),className:"p-1 rounded-md hover:bg-background-tertiary lg:hidden","aria-label":"Close menu",children:(0,d.jsx)(u.A,{className:"h-5 w-5"})})]}),(0,d.jsx)("nav",{className:"flex-1 overflow-y-auto py-4",children:(0,d.jsx)("ul",{className:"space-y-1 px-2",children:E.map(c=>{let e=a===c.href||"/"!==c.href&&a.startsWith(c.href);return(0,d.jsx)("li",{children:(0,d.jsxs)(f(),{href:c.href,className:(0,z.cn)("flex items-center gap-3 px-3 py-2.5 rounded-md transition-all duration-150",e?"text-brand font-medium":"text-foreground-secondary hover:text-foreground hover:bg-background-tertiary"),title:b?c.name:void 0,children:[(0,d.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,d.jsx)(c.icon,{className:"h-5 w-5"}),c.badge&&m>0&&b&&(0,d.jsx)("span",{className:"absolute -top-1 -right-1 flex h-3 w-3 items-center justify-center rounded-full bg-error text-[8px] font-bold text-white",children:m>9?"!":m})]}),!b&&(0,d.jsx)("span",{className:(0,z.cn)("flex-1",e?"font-medium":"font-normal"),children:c.name}),!b&&c.badge&&m>0&&(0,d.jsx)("span",{className:"flex h-5 min-w-5 items-center justify-center rounded-full bg-error px-1.5 text-xs font-medium text-white",children:m>99?"99+":m})]})},c.name)})})}),k?.updateAvailable&&!k.dismissed&&(0,d.jsx)("div",{className:"px-2 pb-2",children:(0,d.jsxs)("button",{onClick:l,className:(0,z.cn)("w-full rounded-md bg-brand/10 border border-brand/20 transition-all duration-150","hover:bg-brand/20 hover:border-brand/30",b?"lg:p-2 p-3":"p-3"),title:b?`Update v${k.latestVersion} available`:void 0,children:[b?(0,d.jsx)(v.A,{className:"h-5 w-5 text-brand mx-auto hidden lg:block"}):null,(0,d.jsxs)("div",{className:(0,z.cn)("text-left",b&&"lg:hidden"),children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-brand text-sm font-medium",children:[(0,d.jsx)(v.A,{className:"h-4 w-4"}),"Update Available"]}),(0,d.jsxs)("div",{className:"text-xs text-foreground-secondary mt-1",children:["v",k.latestVersion,k.releaseDate&&(0,d.jsxs)("span",{className:"text-foreground-muted",children:[" - ",new Date(k.releaseDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]})]})}),(0,d.jsxs)("div",{className:"border-t border-border p-2",children:[(0,d.jsxs)("button",{type:"button",onClick:()=>(0,i.CI)({callbackUrl:"/login"}),className:(0,z.cn)("flex items-center gap-3 w-full px-3 py-2.5 rounded-md transition-all duration-150","text-foreground-secondary hover:text-foreground hover:bg-background-tertiary"),title:b?"Sign out":void 0,children:[(0,d.jsx)(w.A,{className:"h-5 w-5 flex-shrink-0"}),!b&&(0,d.jsx)("span",{children:"Sign out"})]}),(0,d.jsx)("button",{onClick:()=>c(!b),className:(0,z.cn)("hidden lg:flex items-center justify-center w-full mt-2 py-2 rounded-md transition-all duration-150","text-foreground-muted hover:text-foreground hover:bg-background-tertiary"),title:b?"Expand sidebar":"Collapse sidebar",children:b?(0,d.jsx)(x.A,{className:"h-5 w-5"}):(0,d.jsx)(y.A,{className:"h-5 w-5"})})]})]})]})}},97788:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>j});var d=c(75338),e=c(82161),f=c(10389),g=c(16652),h=c(39845),i=c(38436);async function j({children:a}){let b=await (0,f.j2)();return b?.user||(0,e.redirect)("/login"),(0,d.jsx)(h.SidebarProvider,{children:(0,d.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,d.jsx)(g.Sidebar,{}),(0,d.jsx)(i.DashboardContent,{children:a})]})})}}};