exports.id=7199,exports.ids=[7199],exports.modules={13604:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},15144:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>h});var d=c(21124),e=c(99400),f=c(39163),g=c(75838);function h({children:a}){return(0,d.jsx)(e.CP,{children:(0,d.jsx)(f.t,{children:(0,d.jsx)(g.LD,{children:a})})})}},19123:(a,b,c)=>{Promise.resolve().then(c.bind(c,27626))},27108:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},27626:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/app/providers.tsx","Providers")},35284:(a,b,c)=>{"use strict";c.d(b,{Button:()=>h});var d=c(21124),e=c(38301),f=c(44943),g=c(14263);let h=(0,e.forwardRef)(({className:a,variant:b="primary",size:c="md",loading:e,disabled:h,children:i,...j},k)=>{let l=`
      inline-flex items-center justify-center font-medium
      transition-all duration-150 focus-visible:outline-none focus-visible:ring-1
      focus-visible:ring-brand focus-visible:ring-offset-1
      disabled:pointer-events-none disabled:opacity-50
      rounded-lg
    `,m={primary:`
        bg-brand text-white hover:bg-brand/90
        border border-brand-secondary
        shadow-xs active:shadow-none active:bg-brand-secondary
      `,secondary:`
        bg-background-tertiary text-foreground
        border border-border hover:border-border-hover
        hover:bg-background-elevated shadow-xs
        active:shadow-none
      `,ghost:`
        text-foreground-secondary hover:text-foreground
        hover:bg-background-tertiary
        border border-transparent
        active:bg-background-secondary
      `,destructive:`
        bg-error text-white hover:bg-error/90
        border border-red-700
        shadow-xs active:shadow-none active:bg-red-700
      `,outline:`
        border border-brand text-brand
        hover:bg-brand/10
        active:bg-brand/20
      `};return(0,d.jsxs)("button",{ref:k,className:(0,f.cn)(l,m[b],{sm:"h-8 px-3 text-sm gap-1.5",md:"h-10 px-4 text-sm gap-2",lg:"h-12 px-6 text-base gap-2",icon:"h-10 w-10"}[c],a),disabled:h||e,...j,children:[e&&(0,d.jsx)(g.A,{className:"h-4 w-4 animate-spin"}),i]})});h.displayName="Button"},39163:(a,b,c)=>{"use strict";c.d(b,{d:()=>n,t:()=>m});var d=c(21124),e=c(38301),f=c(75219),g=c(18310),h=c(16945),i=c(71117),j=c(47089),k=c(44943);let l=(0,e.createContext)(void 0);function m({children:a}){let[b,c]=(0,e.useState)([]),f=(0,e.useCallback)(a=>{let b=Math.random().toString(36).slice(2,11);return c(c=>[...c,{...a,id:b}]),setTimeout(()=>{c(a=>a.filter(a=>a.id!==b))},a.duration??(a.action?1e4:5e3)),b},[]),g=(0,e.useCallback)(a=>{c(b=>b.filter(b=>b.id!==a))},[]);return(0,d.jsxs)(l.Provider,{value:{toasts:b,addToast:f,removeToast:g},children:[a,(0,d.jsx)(o,{toasts:b,onRemove:g})]})}function n(){let a=(0,e.useContext)(l);if(!a)throw Error("useToast must be used within a ToastProvider");return{toast:a.addToast,success:(b,c)=>a.addToast({type:"success",title:b,description:c}),error:(b,c)=>a.addToast({type:"error",title:b,description:c}),warning:(b,c)=>a.addToast({type:"warning",title:b,description:c}),info:(b,c)=>a.addToast({type:"info",title:b,description:c})}}function o({toasts:a,onRemove:b}){return(0,d.jsx)("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 max-w-sm w-full",children:a.map(a=>(0,d.jsx)(r,{toast:a,onRemove:b},a.id))})}let p={success:f.A,error:g.A,warning:h.A,info:i.A},q={success:"text-success",error:"text-error",warning:"text-warning",info:"text-info"};function r({toast:a,onRemove:b}){let c=p[a.type];return(0,d.jsxs)("div",{className:(0,k.cn)("flex items-start gap-3 p-4 rounded-lg shadow-lg border","bg-background-elevated border-border","animate-in slide-in-from-right-full"),role:"alert",children:[(0,d.jsx)(c,{className:(0,k.cn)("h-5 w-5 flex-shrink-0 mt-0.5",q[a.type])}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-foreground",children:a.title}),a.description&&(0,d.jsx)("p",{className:"text-sm text-foreground-secondary mt-1",children:a.description}),a.action&&(0,d.jsx)("button",{onClick:()=>{a.action?.onClick(),b(a.id)},className:"mt-2 text-sm font-medium text-brand hover:text-brand/80 transition-colors",children:a.action.label})]}),(0,d.jsxs)("button",{onClick:()=>b(a.id),className:"flex-shrink-0 text-foreground-muted hover:text-foreground transition-colors",children:[(0,d.jsx)(j.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Dismiss"})]})]})}},42798:(a,b,c)=>{"use strict";c.d(b,{s:()=>q});var d=c(21124),e=c(38301),f=c(35284),g=c(62145),h=c(75219),i=c(16945),j=c(9212),k=c(2535),l=c(47089),m=c(49269),n=c(30887),o=c(25345);let p={idle:"Ready to install",preparing:"Preparing update...",backing_up:"Backing up your data...",stopping:"Stopping application...",extracting:"Extracting new version...",restoring:"Restoring your data...",restarting:"Starting application...",complete:"Update complete!",error:"Update failed",rolling_back:"Rolling back to previous version...",rolled_back:"Rollback complete"};function q({open:a,onOpenChange:b,updateInfo:c,isDownloading:q,isApplying:r,downloadProgress:s,onDownload:t,onApply:u,onDismiss:v,onError:w}){var x;let[y,z]=(0,e.useState)("info"),[A,B]=(0,e.useState)(null),[C,D]=(0,e.useState)(null),[E,F]=(0,e.useState)(null),[G,H]=(0,e.useState)(5),[I,J]=(0,e.useState)(0);if((0,e.useCallback)(async()=>{try{let a=await fetch("/api/v1/system/updates/status");if(a.ok){let b=await a.json();if(b.success&&b.data){let a=b.data;J(b=>{let c=Math.max(b,a.progress),d=["complete","error","rolled_back"].includes(a.status);return(a.progress>=b||d)&&(D(a),"complete"===a.status?(z("complete"),setTimeout(()=>{fetch("/api/v1/system/updates/status",{method:"DELETE"})},5e3)):"error"===a.status?(z("error"),B(a.message),w?.()):"rolled_back"===a.status&&(z("error"),B("Update failed and was rolled back to the previous version."),w?.())),c})}}}catch{D(a=>a||{status:"restarting",message:"Waiting for server...",progress:0,timestamp:new Date().toISOString()})}},[w]),!a||!c)return null;let K=async()=>{z("downloading"),B(null);try{await t(),z("ready")}catch(a){B(a instanceof Error?a.message:"Download failed"),z("info")}},L=async()=>{z("applying"),B(null),D(null),J(0);try{await fetch("/api/v1/system/updates/status",{method:"DELETE"})}catch{}try{await u()}catch(a){B(a instanceof Error?a.message:"Update failed"),z("ready")}},M=()=>{q||"applying"===y||(("error"===y||"complete"===y)&&fetch("/api/v1/system/updates/status",{method:"DELETE"}).catch(()=>{}),z("info"),B(null),D(null),J(0),b(!1))},N=async()=>{await v(),M()},O=async()=>{try{await fetch("/api/v1/system/updates/status",{method:"DELETE"})}catch{}z("info"),B(null),D(null),J(0)};return(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:"applying"!==y?M:void 0}),(0,d.jsxs)("div",{className:"relative bg-background-secondary border border-border rounded-lg shadow-xl max-w-lg w-full mx-4 overflow-hidden",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"p-2 rounded-full bg-brand/10",children:(0,d.jsx)(k.A,{className:"h-5 w-5 text-brand"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"font-semibold",children:"complete"===y?"Update Complete":"error"===y?"Update Failed":"Update Available"}),(0,d.jsxs)("p",{className:"text-sm text-foreground-muted",children:["v",c.currentVersion," â†’ v",c.latestVersion]})]})]}),"applying"!==y&&(0,d.jsx)("button",{onClick:M,className:"p-1 rounded hover:bg-background-tertiary transition-colors",children:(0,d.jsx)(l.A,{className:"h-5 w-5 text-foreground-muted"})})]}),(0,d.jsxs)("div",{className:"p-4 space-y-4",children:[A&&"applying"!==y&&"error"!==y&&(0,d.jsxs)("div",{className:"p-3 bg-error/10 border border-error/20 rounded-lg flex items-start gap-2",children:[(0,d.jsx)(i.A,{className:"h-5 w-5 text-error shrink-0 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-error",children:"Update Error"}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted",children:A})]})]}),"info"===y&&(0,d.jsxs)(d.Fragment,{children:[c.releaseNotes&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-medium mb-2",children:"What's New"}),(0,d.jsx)("div",{className:"p-3 bg-background-tertiary rounded-lg text-sm max-h-40 overflow-auto whitespace-pre-wrap",children:c.releaseNotes})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm text-foreground-muted",children:[(0,d.jsxs)("span",{children:["Download size: ",(x=c.size)?`${(x/1048576).toFixed(1)} MB`:"Unknown size"]}),c.releaseDate&&(0,d.jsxs)("span",{children:["Released: ",new Date(c.releaseDate).toLocaleDateString()]})]}),(0,d.jsx)("div",{className:"p-3 bg-warning/10 border border-warning/20 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(i.A,{className:"h-4 w-4 text-warning mt-0.5 shrink-0"}),(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("p",{className:"font-medium text-warning",children:"Before updating"}),(0,d.jsx)("p",{className:"text-foreground-muted mt-1",children:"The application will restart during the update. Your data (database, backups, configuration) will be preserved."})]})]})})]}),"downloading"===y&&(0,d.jsxs)("div",{className:"py-8 text-center",children:[(0,d.jsx)(g.y,{size:"lg",className:"mx-auto mb-4"}),(0,d.jsx)("p",{className:"font-medium",children:"Downloading update..."}),(0,d.jsxs)("p",{className:"text-sm text-foreground-muted mt-1",children:[s,"% complete"]}),(0,d.jsx)("div",{className:"mt-4 h-2 bg-background-tertiary rounded-full overflow-hidden",children:(0,d.jsx)("div",{className:"h-full bg-brand transition-all duration-300",style:{width:`${s}%`}})})]}),"ready"===y&&(0,d.jsxs)("div",{className:"py-4 text-center",children:[(0,d.jsx)("div",{className:"p-3 rounded-full bg-success/10 w-fit mx-auto mb-4",children:(0,d.jsx)(h.A,{className:"h-8 w-8 text-success"})}),(0,d.jsx)("p",{className:"font-medium",children:"Download Complete"}),(0,d.jsxs)("p",{className:"text-sm text-foreground-muted mt-1",children:["Ready to install v",c.latestVersion]}),(0,d.jsx)("p",{className:"text-xs text-foreground-muted mt-4",children:"The application will restart automatically after the update is applied."})]}),"applying"===y&&(0,d.jsxs)("div",{className:"py-6 text-center",children:[(0,d.jsx)("div",{className:"mb-4 flex justify-center",children:(()=>{if(!C)return(0,d.jsx)(g.y,{size:"lg"});switch(C.status){case"complete":return(0,d.jsx)(h.A,{className:"h-10 w-10 text-success"});case"error":case"rolled_back":return(0,d.jsx)(i.A,{className:"h-10 w-10 text-error"});case"rolling_back":return(0,d.jsx)(j.A,{className:"h-10 w-10 text-warning animate-spin"});default:return(0,d.jsx)(g.y,{size:"lg"})}})()}),(0,d.jsx)("p",{className:"font-medium",children:C?.status?p[C.status]||C.message:"Starting update..."}),C?.message&&"complete"!==C.status&&(0,d.jsx)("p",{className:"text-sm text-foreground-muted mt-1",children:C.message}),(0,d.jsx)("div",{className:"mt-4 h-2 bg-background-tertiary rounded-full overflow-hidden",children:(0,d.jsx)("div",{className:"h-full bg-brand transition-all duration-500",style:{width:`${I}%`}})}),(0,d.jsxs)("p",{className:"text-xs text-foreground-muted mt-2",children:[I,"% complete"]}),(0,d.jsx)("p",{className:"text-xs text-foreground-muted mt-4",children:"Do not close this window. The application will restart shortly."})]}),"complete"===y&&(0,d.jsxs)("div",{className:"py-6 text-center",children:[(0,d.jsx)("div",{className:"p-3 rounded-full bg-success/10 w-fit mx-auto mb-4",children:(0,d.jsx)(h.A,{className:"h-10 w-10 text-success"})}),(0,d.jsx)("p",{className:"font-medium text-lg",children:"Update Complete!"}),(0,d.jsxs)("p",{className:"text-sm text-foreground-muted mt-2",children:["Supascale has been updated to v",c.latestVersion]}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted mt-3",children:G>0?`The page will be ready to refresh in ${G} seconds...`:"Click the button below to load the new version."})]}),"error"===y&&(0,d.jsxs)("div",{className:"py-6 text-center",children:[(0,d.jsx)("div",{className:"p-3 rounded-full bg-error/10 w-fit mx-auto mb-4",children:(0,d.jsx)(i.A,{className:"h-10 w-10 text-error"})}),(0,d.jsx)("p",{className:"font-medium text-lg text-error",children:"Update Failed"}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted mt-2",children:A||C?.message||"An error occurred during the update."}),C?.status==="rolled_back"&&(0,d.jsx)("p",{className:"text-sm text-foreground-secondary mt-2",children:"Your previous version has been restored and should be running."})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border-t border-border bg-background-tertiary",children:[(0,d.jsx)("div",{children:"info"===y&&!q&&(0,d.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:N,children:"Remind me later"})}),(0,d.jsxs)("div",{className:"flex gap-2",children:["info"===y&&(0,d.jsxs)(f.Button,{onClick:K,disabled:q,children:[(0,d.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Download Update"]}),"ready"===y&&(0,d.jsxs)(f.Button,{onClick:L,disabled:r,children:[(0,d.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Install Now"]}),"complete"===y&&(0,d.jsxs)(f.Button,{onClick:()=>{window.location.reload()},disabled:G>0,children:[(0,d.jsx)(o.A,{className:"h-4 w-4 mr-2"}),G>0?`Wait ${G}s...`:"Refresh Page"]}),"error"===y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.Button,{onClick:M,variant:"secondary",children:"Close"}),(0,d.jsxs)(f.Button,{onClick:O,children:[(0,d.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})]})]})]})]})}},44943:(a,b,c)=>{"use strict";c.d(b,{Ye:()=>k,Yq:()=>j,cn:()=>f,fw:()=>h,mo:()=>i,z3:()=>g});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}let g=function(a){if(0===a)return"0 B";let b=Math.floor(Math.log(a)/Math.log(1024));return`${parseFloat((a/Math.pow(1024,b)).toFixed(2))} ${["B","KB","MB","GB","TB"][b]}`};function h(a){let b=new Date,c=new Date(a),d=Math.floor((b.getTime()-c.getTime())/1e3);return d<60?"just now":d<3600?`${Math.floor(d/60)}m ago`:d<86400?`${Math.floor(d/3600)}h ago`:d<604800?`${Math.floor(d/86400)}d ago`:c.toLocaleDateString()}function i(a){let b,c=new Date,d=new Date(a),e=d.getTime()-c.getTime(),f=Math.abs(Math.floor(e/1e3));if(f<60)b="less than a minute";else if(f<3600){let a=Math.floor(f/60);b=`${a} minute${a>1?"s":""}`}else if(f<86400){let a=Math.floor(f/3600);b=`${a} hour${a>1?"s":""}`}else{if(!(f<604800))return d.toLocaleDateString();let a=Math.floor(f/86400);b=`${a} day${a>1?"s":""}`}return e>0?`in ${b}`:`${b} ago`}function j(a){return new Date(a).toLocaleString()}function k(a){return a.toLowerCase().replace(/[^a-z0-9_-]/g,"-").replace(/^[^a-z0-9]/,"").replace(/-+/g,"-").slice(0,50)}},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,metadata:()=>f});var d=c(75338),e=c(27626);c(61135);let f={title:"Supascale - Manage Self-Hosted Supabase Instances",description:"A comprehensive web application for managing multiple self-hosted Supabase instances",icons:{icon:"/favicon.ico"}};function g({children:a}){return(0,d.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,d.jsx)("head",{children:(0,d.jsx)("script",{dangerouslySetInnerHTML:{__html:`
              (function() {
                try {
                  var theme = localStorage.getItem('theme');
                  if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                    document.documentElement.setAttribute('data-theme', 'dark');
                    document.documentElement.classList.add('dark');
                  } else if (theme === 'light') {
                    document.documentElement.setAttribute('data-theme', 'light');
                    document.documentElement.classList.add('light');
                  }
                } catch (e) {}
              })();
            `}})}),(0,d.jsx)("body",{className:"min-h-screen bg-background text-foreground antialiased",children:(0,d.jsx)(e.Providers,{children:a})})]})}},52446:(a,b,c)=>{"use strict";c.d(b,{Button:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Button() from the server but Button is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/ui/button.tsx","Button")},59732:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i});var d=c(75338),e=c(65169),f=c.n(e),g=c(52446),h=c(48071);function i(){return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:(0,d.jsxs)("div",{className:"text-center max-w-md",children:[(0,d.jsx)("h1",{className:"text-6xl font-bold text-foreground-muted mb-4",children:"404"}),(0,d.jsx)("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:"Page Not Found"}),(0,d.jsx)("p",{className:"text-foreground-secondary mb-8",children:"The page you're looking for doesn't exist or has been moved."}),(0,d.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,d.jsx)(f(),{href:"/",children:(0,d.jsxs)(g.Button,{children:[(0,d.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Go Home"]})}),(0,d.jsx)(f(),{href:"/projects",children:(0,d.jsx)(g.Button,{variant:"outline",children:"View Projects"})})]})]})})}},61135:()=>{},62145:(a,b,c)=>{"use strict";c.d(b,{y:()=>f});var d=c(21124),e=c(44943);function f({size:a="md",className:b}){return(0,d.jsx)("div",{className:(0,e.cn)("animate-spin rounded-full border-2 border-current border-t-transparent text-brand",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[a],b),children:(0,d.jsx)("span",{className:"sr-only",children:"Loading..."})})}},75838:(a,b,c)=>{"use strict";c.d(b,{LD:()=>d.L,xS:()=>d.x});var d=c(85145);c(42798)},79371:(a,b,c)=>{Promise.resolve().then(c.bind(c,15144))},85145:(a,b,c)=>{"use strict";c.d(b,{L:()=>j,x:()=>i});var d=c(21124),e=c(38301),f=c(39163),g=c(42798);let h=(0,e.createContext)(void 0);function i(){let a=(0,e.useContext)(h);if(!a)throw Error("useUpdate must be used within UpdateProvider");return a}function j({children:a}){let b=(0,f.d)(),[c,i]=(0,e.useState)(null),[j,k]=(0,e.useState)(!1),[l,m]=(0,e.useState)(!1),[n,o]=(0,e.useState)(!1),[p,q]=(0,e.useState)(0),[r,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(null),x=(0,e.useCallback)(async(a=!1)=>{k(!0),w(null);try{let b=await fetch(`/api/v1/system/updates?force=${a}`),c=await b.json();if(c.success)return i(c.data),c.data;w(c.error||"Failed to check for updates")}catch(a){console.error("Failed to check for updates:",a),w("Unable to reach update server")}finally{k(!1)}return null},[]),y=(0,e.useCallback)(async()=>{m(!0),q(0),o(!1);try{let a=await fetch("/api/v1/system/updates/download",{method:"POST"}),c=await a.json();if(!c.success)throw Error(c.error||"Download failed");q(100),b.success("Download Complete","Update downloaded successfully. Ready to install."),await x()}catch(c){let a=c instanceof Error?c.message:"Failed to download update";throw b.error("Download Failed",a),c}finally{m(!1)}},[b,x]),z=(0,e.useCallback)(async()=>{o(!0);try{let a=await fetch("/api/v1/system/updates/apply",{method:"POST"}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to apply update")}catch(c){let a=c instanceof Error?c.message:"Failed to apply update";throw b.error("Update Failed",a),o(!1),c}},[b]),A=(0,e.useCallback)(async()=>{if(c?.latestVersion)try{await fetch("/api/v1/system/updates",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({version:c.latestVersion})}),i(a=>a?{...a,dismissed:!0}:null)}catch(a){console.error("Failed to dismiss update:",a)}},[c]),B=(0,e.useCallback)(()=>{o(!1),s(!0)},[]),C=(0,e.useCallback)(()=>{o(!1)},[]);return(0,d.jsxs)(h.Provider,{value:{updateInfo:c,isChecking:j,isDownloading:l,isApplying:n,downloadProgress:p,checkError:v,checkForUpdates:x,downloadUpdate:y,applyUpdate:z,dismissUpdate:A,showUpdateDialog:B},children:[a,(0,d.jsx)(g.s,{open:r,onOpenChange:s,updateInfo:c,isDownloading:l,isApplying:n,downloadProgress:p,onDownload:y,onApply:z,onDismiss:A,onError:C})]})}},85833:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,3991,23)),Promise.resolve().then(c.bind(c,35284))},95561:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,65169,23)),Promise.resolve().then(c.bind(c,52446))}};