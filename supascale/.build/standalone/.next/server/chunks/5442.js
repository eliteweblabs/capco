"use strict";exports.id=5442,exports.ids=[5442],exports.modules={6837:(a,b,c)=>{c.d(b,{Breadcrumb:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Breadcrumb() from the server but Breadcrumb is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/layout/breadcrumb.tsx","Breadcrumb")},13663:(a,b,c)=>{c.d(b,{Breadcrumb:()=>j});var d=c(21124),e=c(3991),f=c.n(e),g=c(78733),h=c(59405),i=c(44943);function j({items:a,className:b}){return(0,d.jsxs)("nav",{"aria-label":"Breadcrumb",className:(0,i.cn)("flex items-center gap-1 text-sm",b),children:[(0,d.jsx)(f(),{href:"/",className:"text-foreground-muted hover:text-foreground transition-colors",children:(0,d.jsx)(g.A,{className:"h-4 w-4"})}),a.map((b,c)=>(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(h.A,{className:"h-4 w-4 text-foreground-muted"}),b.href&&c<a.length-1?(0,d.jsx)(f(),{href:b.href,className:"text-foreground-muted hover:text-foreground transition-colors",children:b.label}):(0,d.jsx)("span",{className:"text-foreground font-medium",children:b.label})]},b.label))]})}},15073:(a,b,c)=>{c.d(b,{Header:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/kevin/MAC_Desktop/Projects/Supascale-App/src/components/layout/header.tsx","Header")},21419:(a,b,c)=>{c.d(b,{v:()=>s});var d=c(21124),e=c(38301),f=c(42378),g=c(40068),h=c(35284),i=c(62145),j=c(59268),k=c(78583),l=c(91292),m=c(16945),n=c(77917),o=c(82042),p=c(85351),q=c(25345);let r={memory:["Not enough memory available for all containers","Try stopping other running projects","Increase container memory limits"],port:["Port is already in use by another process","Check if another Supabase instance is running","Use `lsof -i :PORT` or `ss -tlnp | grep PORT` to find the process"],docker:["Container runtime (Docker/Podman) might not be running","For Docker: `sudo systemctl start docker`","For Podman: Check with `podman info` (Podman is daemonless)"],podman:["Podman issue detected","Check Podman is working: `podman info`","On RHEL/CentOS: `sudo dnf install podman podman-compose`"],shortname:['Podman "short-name resolution" error - common on RHEL/Fedora','Fix: Edit /etc/containers/registries.conf and set short-name-mode = "permissive"','Or run: sudo sed -i \'s/short-name-mode="enforcing"/short-name-mode="permissive"/g\' /etc/containers/registries.conf'],default:["Check the logs above for more details","Ensure your container runtime (Docker or Podman) is running","On RHEL/CentOS/Fedora: Use Podman (sudo dnf install podman podman-compose)"]};function s({projectId:a,apiPort:b,serverHost:c,open:s,onClose:t}){let u=(0,f.useRouter)(),[v,w]=(0,e.useState)("idle"),[x,y]=(0,e.useState)([]),[z,A]=(0,e.useState)(null),[B,C]=(0,e.useState)(!1),[D,E]=(0,e.useState)("stopping"),F=(0,e.useRef)(null),G=(0,e.useCallback)((a,b="info")=>{y(c=>[...c,{timestamp:new Date().toLocaleTimeString(),message:a,type:b}])},[]),H=(0,e.useCallback)(async b=>{try{let c=await fetch(`/api/v1/projects/${a}/${b}`,{method:"POST",headers:{"Content-Type":"application/json"}}),d=c.headers.get("content-type");if(d?.includes("text/event-stream")){let a=c.body?.getReader(),b=new TextDecoder;if(a)for(;;){let{done:c,value:d}=await a.read();if(c)break;for(let a of b.decode(d).split("\n"))if(a.startsWith("data: "))try{let b=JSON.parse(a.slice(6));if("log"===b.type)G(b.message,"error"===b.level?"error":"info");else if("complete"===b.type)return!0;else if("error"===b.type)return G(b.error,"error"),A(b.error),!1}catch{}}return!0}{let a=await c.json();if(a.success)return!0;return G(a.error||"Operation failed","error"),A(a.error||"Operation failed"),!1}}catch(b){let a=b instanceof Error?b.message:"An unexpected error occurred";return G(a,"error"),A(a),!1}},[a,G]),I=(0,e.useCallback)(async()=>{if(w("running"),y([]),A(null),C(!1),E("stopping"),G("Restarting project..."),G("Stopping containers..."),!await H("stop")||(G("Containers stopped successfully","success"),E("starting"),G("Starting containers..."),!await H("start"))){w("error"),C(!0);return}G("Project restarted successfully!","success"),w("success")},[G,H]),J=()=>{("success"===v||"error"===v)&&u.refresh(),t()};return(0,d.jsx)(g.lG,{open:s,onClose:J,title:"running"===v?"stopping"===D?"Stopping Project...":"Starting Project...":"success"===v?"Project Restarted":"error"===v?"Restart Failed":"Restarting Project...",children:(0,d.jsxs)("div",{className:"flex flex-col min-h-0",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center py-6",children:["running"===v&&(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(i.y,{size:"lg",className:"mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-foreground-secondary",children:"stopping"===D?"Stopping containers...":"Starting containers..."}),(0,d.jsx)("p",{className:"text-sm text-foreground-muted mt-1",children:"This may take a minute"})]}),"success"===v&&(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"h-16 w-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(j.A,{className:"h-8 w-8 text-success"})}),(0,d.jsx)("p",{className:"text-foreground font-medium",children:"Project is now running with new settings!"}),(0,d.jsxs)("a",{href:`http://${c}:${b}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 text-brand hover:underline",children:[(0,d.jsx)(k.A,{className:"h-4 w-4"}),"Open Studio Dashboard"]})]}),"error"===v&&(0,d.jsxs)("div",{className:"text-center w-full",children:[(0,d.jsx)("div",{className:"h-16 w-16 rounded-full bg-error/10 flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(l.A,{className:"h-8 w-8 text-error"})}),(0,d.jsx)("p",{className:"text-foreground font-medium mb-2",children:"Failed to restart project"}),z&&(0,d.jsx)("div",{className:"max-h-24 overflow-y-auto mb-4 px-2",children:(0,d.jsx)("p",{className:"text-sm text-error break-words",children:z})}),z&&(0,d.jsx)("div",{className:"bg-warning/10 border border-warning/20 rounded-lg p-4 text-left",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(m.A,{className:"h-5 w-5 text-warning flex-shrink-0 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-foreground mb-2",children:"Troubleshooting tips:"}),(0,d.jsx)("ul",{className:"text-sm text-foreground-secondary space-y-1",children:(function(a){let b=a.toLowerCase();return b.includes("memory")||b.includes("oom")?r.memory:b.includes("port")||b.includes("address already in use")?r.port:b.includes("short-name")||b.includes("cannot prompt without a tty")?r.shortname:b.includes("podman")?r.podman:b.includes("docker")||b.includes("daemon")?r.docker:r.default})(z).map((a,b)=>(0,d.jsxs)("li",{children:["â€¢ ",a]},b))})]})]})})]})]}),x.length>0&&(0,d.jsxs)("div",{className:"border-t border-border pt-4 mt-4",children:[(0,d.jsxs)("button",{onClick:()=>C(!B),className:"flex items-center gap-2 text-sm text-foreground-muted hover:text-foreground transition-colors w-full",children:[(0,d.jsx)(n.A,{className:"h-4 w-4"}),(0,d.jsxs)("span",{children:["View Logs (",x.length,")"]}),B?(0,d.jsx)(o.A,{className:"h-4 w-4 ml-auto"}):(0,d.jsx)(p.A,{className:"h-4 w-4 ml-auto"})]}),B&&(0,d.jsxs)("div",{className:"mt-3 bg-background-tertiary rounded-lg p-3 max-h-40 overflow-y-auto font-mono text-xs",children:[x.map((a,b)=>(0,d.jsxs)("div",{className:`py-0.5 ${"error"===a.type?"text-error":"success"===a.type?"text-success":"text-foreground-secondary"}`,children:[(0,d.jsxs)("span",{className:"text-foreground-muted",children:["[",a.timestamp,"]"]})," ",a.message]},b)),(0,d.jsx)("div",{ref:F})]})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-3 pt-4 mt-4 border-t border-border flex-shrink-0",children:["error"===v&&(0,d.jsxs)(h.Button,{variant:"outline",onClick:I,children:[(0,d.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Try Again"]}),(0,d.jsx)(h.Button,{onClick:J,children:"running"===v?"Close (continues in background)":"Close"})]})]})})}},21890:(a,b,c)=>{c.d(b,{Header:()=>p});var d=c(21124),e=c(38301),f=c(70175),g=c(60988),h=c(34487),i=c(44943);function j(){let[a,b]=(0,e.useState)("system"),[c,i]=(0,e.useState)(!1),j=a=>{b(a),localStorage.setItem("theme",a)};return c?(0,d.jsxs)("div",{className:"flex items-center gap-1 p-1 rounded-lg bg-background-tertiary border border-border",children:[(0,d.jsx)(k,{active:"light"===a,onClick:()=>j("light"),title:"Light mode",children:(0,d.jsx)(f.A,{className:"h-4 w-4"})}),(0,d.jsx)(k,{active:"dark"===a,onClick:()=>j("dark"),title:"Dark mode",children:(0,d.jsx)(g.A,{className:"h-4 w-4"})}),(0,d.jsx)(k,{active:"system"===a,onClick:()=>j("system"),title:"System theme",children:(0,d.jsx)(h.A,{className:"h-4 w-4"})})]}):(0,d.jsxs)("div",{className:"flex items-center gap-1 p-1 rounded-lg bg-background-tertiary",children:[(0,d.jsx)("div",{className:"h-8 w-8"}),(0,d.jsx)("div",{className:"h-8 w-8"}),(0,d.jsx)("div",{className:"h-8 w-8"})]})}function k({active:a,onClick:b,title:c,children:e}){return(0,d.jsx)("button",{onClick:b,title:c,className:(0,i.cn)("h-8 w-8 flex items-center justify-center rounded-md transition-colors",a?"bg-background-elevated text-brand shadow-sm":"text-foreground-muted hover:text-foreground"),children:e})}var l=c(35284),m=c(8849),n=c(3991),o=c.n(n);function p({title:a,description:b,showCreateButton:c=!0}){return(0,d.jsxs)("header",{className:"sticky top-0 z-30 flex items-center justify-between h-14 lg:h-16 px-4 lg:px-6 bg-background/95 backdrop-blur-sm border-b border-border",children:[(0,d.jsxs)("div",{className:"min-w-0 flex-1",children:[a&&(0,d.jsx)("h1",{className:"text-lg lg:text-xl font-semibold text-foreground truncate",children:a}),b&&(0,d.jsx)("p",{className:"text-xs lg:text-sm text-foreground-secondary truncate",children:b})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 lg:gap-3 ml-4",children:[c&&(0,d.jsxs)(o(),{href:"/projects/new",children:[(0,d.jsxs)(l.Button,{size:"sm",className:"hidden sm:flex",children:[(0,d.jsx)(m.A,{className:"h-4 w-4"}),"New Project"]}),(0,d.jsx)(l.Button,{size:"icon",className:"sm:hidden h-8 w-8",children:(0,d.jsx)(m.A,{className:"h-4 w-4"})})]}),(0,d.jsx)(j,{})]})]})}},40068:(a,b,c)=>{c.d(b,{Es:()=>j,lG:()=>i});var d=c(21124),e=c(38301),f=c(47089),g=c(44943),h=c(35284);function i({open:a,onClose:b,children:c,className:i,title:j}){return a?(0,d.jsxs)(e.Fragment,{children:[(0,d.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:b,"aria-hidden":"true"}),(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:(0,g.cn)("relative w-full max-w-lg max-h-[90vh] flex flex-col bg-background-secondary rounded-xl shadow-lg border border-border","animate-in fade-in-0 zoom-in-95 duration-200",i),role:"dialog","aria-modal":"true",onClick:a=>a.stopPropagation(),children:[j&&(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 pb-0 flex-shrink-0",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:j}),(0,d.jsxs)(h.Button,{variant:"ghost",size:"icon",onClick:b,className:"h-8 w-8 text-foreground-muted hover:text-foreground",children:[(0,d.jsx)(f.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]}),(0,d.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:c})]})})]}):null}function j({children:a,className:b}){return(0,d.jsx)("div",{className:(0,g.cn)("flex items-center justify-end gap-3 p-6 pt-0",b),children:a})}},62186:(a,b,c)=>{c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(21124),e=c(38301),f=c(44943);let g=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-xl border border-border bg-background-secondary shadow-xs",a),...b}));g.displayName="Card";let h=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight text-foreground",a),...b}));i.displayName="CardTitle";let j=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-foreground-secondary",a),...b}));j.displayName="CardDescription";let k=(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent",(0,e.forwardRef)(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},91281:(a,b,c)=>{c.d(b,{$:()=>e});var d=c(38301);function e(a,b={}){let{pollInterval:c=5e3,enabled:f=!0}=b,[g,h]=(0,d.useState)("unknown"),[i,j]=(0,d.useState)(!0),[k,l]=(0,d.useState)(null),[m,n]=(0,d.useState)(null),[o,p]=(0,d.useState)(!1);return{status:g,isLoading:i&&!o,error:k,lastChecked:m,isRunning:"running"===g||"degraded"===g,isTransitioning:"starting"===g||"stopping"===g,refresh:(0,d.useCallback)(async()=>{if(a)try{let b=await fetch(`/api/v1/projects/${a}/status`),c=await b.json();c.success?(h(c.data.status),n(c.data.lastStatusCheck),l(null),p(!0)):l(c.error||"Failed to fetch status")}catch(a){l(a instanceof Error?a.message:"Failed to fetch status")}finally{j(!1)}},[a])}}},93758:(a,b,c)=>{c.d(b,{Input:()=>g});var d=c(21124),e=c(38301),f=c(44943);let g=(0,e.forwardRef)(({className:a,type:b="text",error:c,icon:e,...g},h)=>(0,d.jsxs)("div",{className:"relative",children:[e&&(0,d.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-foreground-muted",children:e}),(0,d.jsx)("input",{type:b,className:(0,f.cn)(`
            w-full h-10 px-3 py-2
            bg-background-tertiary text-foreground
            border border-border rounded-lg shadow-2xs
            placeholder:text-foreground-muted
            hover:border-border-hover
            focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-brand focus-visible:border-transparent
            disabled:cursor-not-allowed disabled:opacity-50
            transition-all duration-150
            `,e&&"pl-10",c&&"border-error focus-visible:ring-error hover:border-error",a),ref:h,...g})]}));g.displayName="Input"}};