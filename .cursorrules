# Project Context

This app is a website and admin for fire protection systems.

## Core Information

- **Purpose**: Clients submit files, Admins review/approve for fire protection systems
- **Users**: Admins (review/manage) & Clients (submit/download)
- **Auth**: Password protected, redirects to /project/dashboard

## Tech Stack (IMPORTANT)

- Astro framework
- Tailwind CSS + Flowbite components
- BoxIcons for icons
- Supabase (database/auth)
- Railway Hosted, deployed from Github

## Database Schema Key Points

- `projects`: id (int), author_id (uuid), address, title, status (int), sq_ft, new_construction
- `files`: id (int), project_id (int), author_id (uuid), file_path, uploaded_at, status
- `profiles`: id (uuid), name, phone, role ('Admin'/'Client')
- **Common Issues**: Use `id` not `projectId` in files, `authorId` references user ID not project ID

## RLS Policies

- Admins: Full access to all files/projects
- Clients: Can only view/edit their own projects (projects.author_id = auth.uid())

## Development Guidelines

- Use Astro components (.astro files)
- Vanilla JS/TS in <script> tags, no React components
- Tailwind for styling
- Supabase for backend operations
- Always consider RLS policies when querying 

- database tables and columns are always camelCase
- 6 minutes after syncing to github, mcp to railway and ensure that capco and rothco are working as expected.
- MCP ALWAYS DO NOT WAIT 
- save instructional markdowns in /markdown
- always check for exisitng components / templates to use over generating html. For example, <button> should be Button.astro. SVG icons should be <SimpleIcon>
- save .sql files to /sql-queriers

Always reference this context when making suggestions or implementing features.



